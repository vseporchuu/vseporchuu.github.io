<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram Web App</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --main-bg: #16261E;
            --header-bg: #0F1A14;
            --active-color: #579977;
            --accent-color: #91FFC7;
            --error-color: #FF7474;
            --card-bg: #1D3328;
            --border-color: #66B28B;
            --text-color: #FFFFFF;
            --secondary-text: #CCCCCC;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Roboto', sans-serif;
        }

        body {
            background-color: var(--main-bg);
            color: var(--text-color);
            width: 412px;
            height: 744px;
            overflow: hidden;
            position: relative;
        }

        /* Header */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 56px;
            background-color: var(--header-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
            font-size: 24px;
            font-weight: 500;
        }

        /* Main Content */
        .main-content {
            position: absolute;
            top: 56px;
            bottom: 80px;
            width: 100%;
            overflow-y: auto;
            padding: 16px;
        }

        /* Navigation Menu */
        .nav-menu {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 80px;
            background-color: var(--header-bg);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 76px 0 76px;
        }

        .nav-icon {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .nav-icon.active {
            background-color: var(--active-color);
        }

        .nav-icon svg {
            width: 24px;
            height: 24px;
            fill: var(--text-color);
        }

        /* Page Styles */
        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        /* Profile Section */
        .profile-section {
            width: 350px;
            height: 128px;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
        }

        .avatar {
            width: 128px;
            height: 128px;
            border-radius: 50%;
            border: 1px solid var(--active-color);
            margin-right: 16px;
            background-color: #2C4D3C;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .profile-info {
            flex: 1;
        }

        .nickname {
            font-size: 18px;
            font-weight: 700;
            display: flex;
            align-items: center;
            margin-bottom: 4px;
        }

        .nickname svg {
            width: 20px;
            height: 20px;
            margin-left: 8px;
            fill: var(--active-color);
        }

        .username {
            font-size: 14px;
            font-weight: 300;
            color: var(--secondary-text);
            margin-bottom: 12px;
        }

        .progress-container {
            display: flex;
            align-items: center;
        }

        .progress-info {
            display: flex;
            flex-direction: column;
            margin-right: 12px;
        }

        .exp-text {
            font-size: 14px;
            margin-bottom: 4px;
        }

        .progress-bar {
            width: 168px;
            height: 10px;
            background-color: #2C4D3C;
            border-radius: 5px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background-color: var(--active-color);
            border-radius: 5px;
            width: 60%; /* Example value */
        }

        .progress-icon {
            width: 36px;
            height: 36px;
            margin-left: 12px;
        }

        /* Search Field */
        .search-container {
            width: 364px;
            margin: 0 auto 20px;
            position: relative;
        }

        .search-field {
            width: 100%;
            height: 44px;
            border-radius: 22px;
            background-color: var(--main-bg);
            border: 1px solid var(--active-color);
            padding: 0 16px 0 44px;
            color: var(--active-color);
            font-size: 16px;
            outline: none;
            transition: all 0.3s;
        }

        .search-field:focus {
            background-color: var(--card-bg);
            border-color: var(--accent-color);
            color: var(--accent-color);
        }

        .search-field.error {
            background-color: #401A1A;
            border-color: var(--error-color);
            color: var(--error-color);
        }

        .search-icon {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            width: 20px;
            height: 20px;
            fill: var(--active-color);
        }

        .search-field:focus + .search-icon {
            fill: var(--accent-color);
        }

        .search-field.error + .search-icon {
            fill: var(--error-color);
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            grid-gap: 12px;
            margin-bottom: 20px;
        }

        .stat-card {
            width: 174px;
            height: 95px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 12px;
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .stat-label {
            font-size: 14px;
            font-weight: 400;
        }

        .achievements-card {
            grid-column: 1 / span 2;
            width: 100%;
            height: 95px;
        }

        /* Game Profile Page */
        .link-profile {
            text-align: center;
            padding: 40px 0;
            font-size: 18px;
        }

        .nickname-input {
            width: 364px;
            height: 44px;
            margin: 20px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--card-bg);
            border-radius: 8px;
            cursor: pointer;
        }

        .profile-card {
            width: 364px;
            margin: 0 auto 20px;
            padding: 16px;
            background-color: var(--card-bg);
            border-radius: 8px;
        }

        .data-block {
            width: 364px;
            height: 272px;
            margin: 0 auto 20px;
            background-color: var(--card-bg);
            border-radius: 8px;
            padding: 16px;
        }

        .data-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 19px;
            margin-bottom: 6px;
            padding-bottom: 6px;
            border-bottom: 0.5px solid #2C4D3C;
        }

        .data-row:last-child {
            border-bottom: none;
        }

        .data-icon {
            width: 16px;
            height: 16px;
            margin-right: 8px;
        }

        .data-text {
            flex: 1;
            font-size: 14px;
        }

        .data-value {
            width: 41px;
            text-align: right;
            font-size: 14px;
        }

        .stats-row {
            display: flex;
            justify-content: space-between;
            margin-top: 16px;
        }

        .mini-stat {
            display: flex;
            align-items: center;
        }

        .mini-stat-text {
            font-size: 14px;
            margin-left: 8px;
        }

        .weapons-section {
            margin-top: 20px;
        }

        .weapons-title {
            font-size: 18px;
            font-weight: 500;
            margin-bottom: 12px;
        }

        .weapons-slider {
            display: flex;
            overflow-x: auto;
            gap: 12px;
            padding-bottom: 8px;
        }

        .weapon-card {
            width: 160px;
            height: 98px;
            background-color: var(--card-bg);
            border-radius: 8px;
            padding: 12px;
            flex-shrink: 0;
            position: relative;
            overflow: hidden;
        }

        .weapon-bg {
            position: absolute;
            right: 0;
            bottom: 0;
            width: 60px;
            height: 60px;
            opacity: 0.3;
        }

        .weapon-name {
            font-size: 14px;
            margin-bottom: 8px;
        }

        .weapon-stats {
            display: flex;
            align-items: center;
            margin-bottom: 4px;
        }

        .weapon-icon {
            width: 16px;
            height: 16px;
            margin-right: 6px;
        }

        .weapon-value {
            font-size: 12px;
            margin-right: 12px;
        }

        /* Rating Page */
        .category-tabs {
            width: 340px;
            height: 35px;
            margin: 20px auto;
            background-color: var(--card-bg);
            border-radius: 17.5px;
            display: flex;
            padding: 2px;
        }

        .category-tab {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 15px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s;
        }

        .category-tab.active {
            background-color: var(--active-color);
        }

        .category-tab.exp.active {
            border: 1px solid #76FF33;
        }

        .category-tab.crystals.active {
            border: 1px solid #00D4FF;
        }

        .category-tab.gold.active {
            border: 1px solid #FF8E3C;
        }

        .category-icon {
            width: 16px;
            height: 16px;
            margin-right: 6px;
        }

        .top-list {
            margin-top: 20px;
        }

        .top-item {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            border-bottom: 0.5px solid #2C4D3C;
        }

        .rank {
            width: 24px;
            text-align: center;
            font-weight: 500;
            margin-right: 12px;
        }

        .rank-icon {
            width: 20px;
            height: 20px;
            margin-right: 12px;
        }

        .top-username {
            flex: 1;
            font-size: 14px;
        }

        .top-value {
            font-size: 14px;
            font-weight: 500;
        }

        /* Additional Page */
        .large-cards {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            grid-gap: 12px;
            margin-bottom: 20px;
        }

        .large-card {
            width: 179px;
            height: 98px;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 12px;
        }

        .large-card:nth-child(1),
        .large-card:nth-child(2) {
            background-color: var(--card-bg);
            border: 1px solid var(--accent-color);
        }

        .large-card:nth-child(3),
        .large-card:nth-child(4),
        .large-card:nth-child(5),
        .large-card:nth-child(6) {
            background-color: rgba(118, 255, 51, 0.2);
            border: 1px solid #76FF33;
        }

        .large-card-icon {
            width: 46px;
            height: 46px;
            margin-bottom: 8px;
        }

        .large-card-text {
            font-size: 12px;
            text-align: center;
        }

        .small-cards {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-gap: 12px;
            margin-bottom: 20px;
        }

        .small-card {
            width: 117px;
            height: 64px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .small-card:nth-child(1) {
            background-color: rgba(46, 143, 255, 0.2);
            border: 1px solid #2E8FFF;
        }

        .small-card:nth-child(2) {
            background-color: rgba(102, 115, 255, 0.2);
            border: 1px solid #6673FF;
        }

        .small-card:nth-child(3) {
            background-color: rgba(46, 185, 255, 0.2);
            border: 1px solid #2EB9FF;
        }

        .small-card:nth-child(4) {
            background-color: rgba(255, 0, 51, 0.2);
            border: 1px solid #FF0033;
        }

        .small-card:nth-child(5) {
            background-color: rgba(157, 92, 255, 0.2);
            border: 1px solid #9D5CFF;
        }

        .small-card:nth-child(6) {
            background-color: rgba(40, 230, 224, 0.2);
            border: 1px solid #28E6E0;
        }

        .small-card-icon {
            width: 32px;
            height: 32px;
        }

        .bottom-panel {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: 20px;
        }

        .settings-icon {
            width: 64px;
            height: 64px;
            border-radius: 50%;
            border: 1px solid var(--accent-color);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .settings-icon svg {
            width: 32px;
            height: 32px;
            fill: var(--accent-color);
        }

        .suggestion-panel {
            width: 294px;
            height: 64px;
            background-color: var(--card-bg);
            border-radius: 8px;
            padding: 12px 16px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .suggestion-text {
            font-size: 12px;
            flex: 1;
        }

        .suggestion-arrow {
            width: 20px;
            height: 20px;
            fill: var(--text-color);
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header" id="header">Главная</div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Page 1: Main Screen -->
        <div class="page active" id="page-main">
            <!-- Profile Section -->
            <div class="profile-section">
                <div class="avatar" id="user-avatar">
                    <!-- Avatar will be set by JavaScript -->
                </div>
                <div class="profile-info">
                    <div class="nickname">
                        <span id="user-nickname">Username</span>
                        <svg viewBox="0 0 20 20">
                            <path d="M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0zm-1 15l-5-5 1.41-1.41L9 12.17l7.59-7.59L18 6l-9 9z"/>
                        </svg>
                    </div>
                    <div class="username" id="user-username">@username</div>
                    <div class="progress-container">
                        <div class="progress-info">
                            <div class="exp-text">125 / 1000</div>
                            <div class="progress-bar">
                                <div class="progress-fill"></div>
                            </div>
                        </div>
                        <div class="progress-icon">
                            <svg viewBox="0 0 36 36">
                                <path d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" fill="none" stroke="#579977" stroke-width="3"/>
                                <path d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" fill="none" stroke="#91FFC7" stroke-width="3" stroke-dasharray="60, 100"/>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Search Field -->
            <div class="search-container">
                <input type="text" class="search-field" placeholder="Поиск пользователя">
                <svg class="search-icon" viewBox="0 0 20 20">
                    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                </svg>
            </div>

            <!-- Stats Grid -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value">1,234</div>
                    <div class="stat-label">Сообщения</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">56</div>
                    <div class="stat-label">Ранг</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">2</div>
                    <div class="stat-label">Предупреждения</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">789</div>
                    <div class="stat-label">Карма</div>
                </div>
                <div class="stat-card achievements-card">
                    <div class="stat-value">15</div>
                    <div class="stat-label">Достижения</div>
                </div>
            </div>
        </div>

        <!-- Page 2: Game Profile -->
        <div class="page" id="page-profile">
            <div class="link-profile" id="link-profile">
                Привязать профиль
            </div>
            <div class="nickname-input" id="nickname-input">
                Введите никнейм
            </div>
            
            <div class="profile-card" id="profile-card" style="display: none;">
                <!-- Similar to main profile but with GS ID -->
                <div class="profile-section">
                    <div class="avatar">
                        <!-- Game avatar -->
                    </div>
                    <div class="profile-info">
                        <div class="nickname">
                            <span>GameNickname</span>
                            <svg viewBox="0 0 20 20">
                                <path d="M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0zm-1 15l-5-5 1.41-1.41L9 12.17l7.59-7.59L18 6l-9 9z"/>
                            </svg>
                        </div>
                        <div class="username">GS 1234</div>
                    </div>
                </div>
            </div>

            <div class="data-block" id="data-block" style="display: none;">
                <!-- Data rows will be populated by JavaScript -->
            </div>

            <div class="weapons-section" id="weapons-section" style="display: none;">
                <div class="weapons-title">Оружие</div>
                <div class="weapons-slider">
                    <!-- Weapon cards will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Page 3: Rating -->
        <div class="page" id="page-rating">
            <!-- Search Field -->
            <div class="search-container">
                <input type="text" class="search-field" placeholder="Поиск пользователя">
                <svg class="search-icon" viewBox="0 0 20 20">
                    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                </svg>
            </div>

            <!-- Category Tabs -->
            <div class="category-tabs">
                <div class="category-tab exp active">
                    <svg class="category-icon" viewBox="0 0 16 16">
                        <path d="M8 0L9.41 5.59L15 7L9.41 8.41L8 14L6.59 8.41L1 7L6.59 5.59L8 0Z" fill="#76FF33"/>
                    </svg>
                    Опыт
                </div>
                <div class="category-tab crystals">
                    <svg class="category-icon" viewBox="0 0 16 16">
                        <path d="M8 0L10.5 5.5L16 8L10.5 10.5L8 16L5.5 10.5L0 8L5.5 5.5L8 0Z" fill="#00D4FF"/>
                    </svg>
                    Кристаллы
                </div>
                <div class="category-tab gold">
                    <svg class="category-icon" viewBox="0 0 16 16">
                        <path d="M8 0L10.5 5.5L16 8L10.5 10.5L8 16L5.5 10.5L0 8L5.5 5.5L8 0Z" fill="#FF8E3C"/>
                    </svg>
                    Золото
                </div>
            </div>

            <!-- Top 100 List -->
            <div class="top-list">
                <!-- Top items will be populated by JavaScript -->
            </div>
        </div>

        <!-- Page 4: Additional -->
        <div class="page" id="page-additional">
            <!-- Large Cards -->
            <div class="large-cards">
                <div class="large-card">
                    <svg class="large-card-icon" viewBox="0 0 46 46">
                        <path d="M23 0C10.3 0 0 10.3 0 23s10.3 23 23 23 23-10.3 23-23S35.7 0 23 0zm0 42C12.5 42 4 33.5 4 23S12.5 4 23 4s19 8.5 19 19-8.5 19-19 19z" fill="#91FFC7"/>
                        <path d="M23 8c-8.3 0-15 6.7-15 15s6.7 15 15 15 15-6.7 15-15-6.7-15-15-15zm0 26c-6.1 0-11-4.9-11-11s4.9-11 11-11 11 4.9 11 11-4.9 11-11 11z" fill="#91FFC7"/>
                    </svg>
                    <div class="large-card-text">Настройки</div>
                </div>
                <div class="large-card">
                    <svg class="large-card-icon" viewBox="0 0 46 46">
                        <path d="M23 0C10.3 0 0 10.3 0 23s10.3 23 23 23 23-10.3 23-23S35.7 0 23 0zm0 42C12.5 42 4 33.5 4 23S12.5 4 23 4s19 8.5 19 19-8.5 19-19 19z" fill="#91FFC7"/>
                        <path d="M23 8c-8.3 0-15 6.7-15 15s6.7 15 15 15 15-6.7 15-15-6.7-15-15-15zm0 26c-6.1 0-11-4.9-11-11s4.9-11 11-11 11 4.9 11 11-4.9 11-11 11z" fill="#91FFC7"/>
                    </svg>
                    <div class="large-card-text">Помощь</div>
                </div>
                <div class="large-card">
                    <svg class="large-card-icon" viewBox="0 0 46 46">
                        <path d="M23 0C10.3 0 0 10.3 0 23s10.3 23 23 23 23-10.3 23-23S35.7 0 23 0zm0 42C12.5 42 4 33.5 4 23S12.5 4 23 4s19 8.5 19 19-8.5 19-19 19z" fill="#76FF33"/>
                        <path d="M23 8c-8.3 0-15 6.7-15 15s6.7 15 15 15 15-6.7 15-15-6.7-15-15-15zm0 26c-6.1 0-11-4.9-11-11s4.9-11 11-11 11 4.9 11 11-4.9 11-11 11z" fill="#76FF33"/>
                    </svg>
                    <div class="large-card-text">Уведомления</div>
                </div>
                <div class="large-card">
                    <svg class="large-card-icon" viewBox="0 0 46 46">
                        <path d="M23 0C10.3 0 0 10.3 0 23s10.3 23 23 23 23-10.3 23-23S35.7 0 23 0zm0 42C12.5 42 4 33.5 4 23S12.5 4 23 4s19 8.5 19 19-8.5 19-19 19z" fill="#76FF33"/>
                        <path d="M23 8c-8.3 0-15 6.7-15 15s6.7 15 15 15 15-6.7 15-15-6.7-15-15-15zm0 26c-6.1 0-11-4.9-11-11s4.9-11 11-11 11 4.9 11 11-4.9 11-11 11z" fill="#76FF33"/>
                    </svg>
                    <div class="large-card-text">История</div>
                </div>
                <div class="large-card">
                    <svg class="large-card-icon" viewBox="0 0 46 46">
                        <path d="M23 0C10.3 0 0 10.3 0 23s10.3 23 23 23 23-10.3 23-23S35.7 0 23 0zm0 42C12.5 42 4 33.5 4 23S12.5 4 23 4s19 8.5 19 19-8.5 19-19 19z" fill="#76FF33"/>
                        <path d="M23 8c-8.3 0-15 6.7-15 15s6.7 15 15 15 15-6.7 15-15-6.7-15-15-15zm0 26c-6.1 0-11-4.9-11-11s4.9-11 11-11 11 4.9 11 11-4.9 11-11 11z" fill="#76FF33"/>
                    </svg>
                    <div class="large-card-text">Статистика</div>
                </div>
                <div class="large-card">
                    <svg class="large-card-icon" viewBox="0 0 46 46">
                        <path d="M23 0C10.3 0 0 10.3 0 23s10.3 23 23 23 23-10.3 23-23S35.7 0 23 0zm0 42C12.5 42 4 33.5 4 23S12.5 4 23 4s19 8.5 19 19-8.5 19-19 19z" fill="#76FF33"/>
                        <path d="M23 8c-8.3 0-15 6.7-15 15s6.7 15 15 15 15-6.7 15-15-6.7-15-15-15zm0 26c-6.1 0-11-4.9-11-11s4.9-11 11-11 11 4.9 11 11-4.9 11-11 11z" fill="#76FF33"/>
                    </svg>
                    <div class="large-card-text">О программе</div>
                </div>
            </div>

            <!-- Small Cards -->
            <div class="small-cards">
                <div class="small-card">
                    <svg class="small-card-icon" viewBox="0 0 32 32">
                        <path d="M16 0C7.2 0 0 7.2 0 16s7.2 16 16 16 16-7.2 16-16S24.8 0 16 0zm0 28C9.4 28 4 22.6 4 16S9.4 4 16 4s12 5.4 12 12-5.4 12-12 12z" fill="#2E8FFF"/>
                    </svg>
                </div>
                <div class="small-card">
                    <svg class="small-card-icon" viewBox="0 0 32 32">
                        <path d="M16 0C7.2 0 0 7.2 0 16s7.2 16 16 16 16-7.2 16-16S24.8 0 16 0zm0 28C9.4 28 4 22.6 4 16S9.4 4 16 4s12 5.4 12 12-5.4 12-12 12z" fill="#6673FF"/>
                    </svg>
                </div>
                <div class="small-card">
                    <svg class="small-card-icon" viewBox="0 0 32 32">
                        <path d="M16 0C7.2 0 0 7.2 0 16s7.2 16 16 16 16-7.2 16-16S24.8 0 16 0zm0 28C9.4 28 4 22.6 4 16S9.4 4 16 4s12 5.4 12 12-5.4 12-12 12z" fill="#2EB9FF"/>
                    </svg>
                </div>
                <div class="small-card">
                    <svg class="small-card-icon" viewBox="0 0 32 32">
                        <path d="M16 0C7.2 0 0 7.2 0 16s7.2 16 16 16 16-7.2 16-16S24.8 0 16 0zm0 28C9.4 28 4 22.6 4 16S9.4 4 16 4s12 5.4 12 12-5.4 12-12 12z" fill="#FF0033"/>
                    </svg>
                </div>
                <div class="small-card">
                    <svg class="small-card-icon" viewBox="0 0 32 32">
                        <path d="M16 0C7.2 0 0 7.2 0 16s7.2 16 16 16 16-7.2 16-16S24.8 0 16 0zm0 28C9.4 28 4 22.6 4 16S9.4 4 16 4s12 5.4 12 12-5.4 12-12 12z" fill="#9D5CFF"/>
                    </svg>
                </div>
                <div class="small-card">
                    <svg class="small-card-icon" viewBox="0 0 32 32">
                        <path d="M16 0C7.2 0 0 7.2 0 16s7.2 16 16 16 16-7.2 16-16S24.8 0 16 0zm0 28C9.4 28 4 22.6 4 16S9.4 4 16 4s12 5.4 12 12-5.4 12-12 12z" fill="#28E6E0"/>
                    </svg>
                </div>
            </div>

            <!-- Bottom Panel -->
            <div class="bottom-panel">
                <div class="settings-icon">
                    <svg viewBox="0 0 32 32">
                        <path d="M28.6 14.6l-2.1-1.2c.2-.8.4-1.6.4-2.4s-.2-1.6-.4-2.4l2.1-1.2c.4-.2.6-.7.5-1.2s-.5-.8-1-.8h-2.5c-.7-1.4-1.7-2.6-2.9-3.6-.4-.3-.9-.3-1.3 0l-1.8 1.8c-.6-.2-1.2-.4-1.8-.5V1c0-.5-.5-1-1-1h-2c-.5 0-1 .5-1 1v2.5c-.6.1-1.2.3-1.8.5L9.6 2.2c-.4-.3-.9-.3-1.3 0C7.1 3.2 6.1 4.4 5.4 5.8H2.9c-.5 0-.9.3-1 .8s.1 1 .5 1.2l2.1 1.2c-.2.8-.4 1.6-.4 2.4s.2 1.6.4 2.4l-2.1 1.2c-.4.2-.6.7-.5 1.2s.5.8 1 .8h2.5c.7 1.4 1.7 2.6 2.9 3.6.4.3.9.3 1.3 0l1.8-1.8c.6.2 1.2.4 1.8.5V31c0 .5.5 1 1 1h2c.5 0 1-.5 1-1v-2.5c.6-.1 1.2-.3 1.8-.5l1.8 1.8c.4.3.9.3 1.3 0 1.2-1 2.2-2.2 2.9-3.6h2.5c.5 0 .9-.3 1-.8s-.1-1-.5-1.2zM16 20c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z"/>
                    </svg>
                </div>
                <div class="suggestion-panel">
                    <div class="suggestion-text">Есть идеи для улучшения бота? Поделитесь!</div>
                    <svg class="suggestion-arrow" viewBox="0 0 20 20">
                        <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/>
                    </svg>
                </div>
            </div>
        </div>
    </div>

    <!-- Navigation Menu -->
    <div class="nav-menu">
        <div class="nav-icon active" data-page="page-main">
            <svg viewBox="0 0 24 24">
                <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
            </svg>
        </div>
        <div class="nav-icon" data-page="page-profile">
            <svg viewBox="0 0 24 24">
                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
            </svg>
        </div>
        <div class="nav-icon" data-page="page-rating">
            <svg viewBox="0 0 24 24">
                <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm4.24 16L12 15.45 7.77 18l1.12-4.81-3.73-3.23 4.92-.42L12 5l1.92 4.53 4.92.42-3.73 3.23L16.23 18z"/>
            </svg>
        </div>
        <div class="nav-icon" data-page="page-additional">
            <svg viewBox="0 0 24 24">
                <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
            </svg>
        </div>
    </div>

    <script>
        // Telegram WebApp API integration
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize Telegram WebApp
            if (window.Telegram && Telegram.WebApp) {
                const webApp = Telegram.WebApp;
                
                // Expand the app to full height
                webApp.expand();
                
                // Get user data from Telegram
                const user = webApp.initDataUnsafe.user;
                
                if (user) {
                    // Set user avatar
                    const avatarElement = document.getElementById('user-avatar');
                    if (user.photo_url) {
                        avatarElement.innerHTML = `<img src="${user.photo_url}" alt="User Avatar">`;
                    } else {
                        // Create a placeholder avatar with user initials
                        const initials = user.first_name ? user.first_name.charAt(0) : 'U';
                        avatarElement.innerHTML = `<div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; font-size: 48px; color: white;">${initials}</div>`;
                    }
                    
                    // Set user nickname and username
                    document.getElementById('user-nickname').textContent = user.first_name || 'User';
                    document.getElementById('user-username').textContent = user.username ? `@${user.username}` : '';
                }
            }
            
            // Navigation functionality
            const navIcons = document.querySelectorAll('.nav-icon');
            const pages = document.querySelectorAll('.page');
            const header = document.getElementById('header');
            
            navIcons.forEach(icon => {
                icon.addEventListener('click', function() {
                    const targetPage = this.getAttribute('data-page');
                    
                    // Update active nav icon
                    navIcons.forEach(i => i.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Show target page
                    pages.forEach(page => {
                        page.classList.remove('active');
                        if (page.id === targetPage) {
                            page.classList.add('active');
                            
                            // Update header text based on active page
                            switch(targetPage) {
                                case 'page-main':
                                    header.textContent = 'Главная';
                                    break;
                                case 'page-profile':
                                    header.textContent = 'Игровой профиль';
                                    break;
                                case 'page-rating':
                                    header.textContent = 'Рейтинг';
                                    break;
                                case 'page-additional':
                                    header.textContent = 'Дополнительно';
                                    break;
                            }
                        }
                    });
                });
            });
            
            // Game profile linking functionality
            const linkProfile = document.getElementById('link-profile');
            const nicknameInput = document.getElementById('nickname-input');
            const profileCard = document.getElementById('profile-card');
            const dataBlock = document.getElementById('data-block');
            const weaponsSection = document.getElementById('weapons-section');
            
            nicknameInput.addEventListener('click', function() {
                // In a real app, this would open a dialog for nickname input
                const nickname = prompt('Введите ваш игровой никнейм:');
                if (nickname) {
                    // Hide linking elements
                    linkProfile.style.display = 'none';
                    nicknameInput.style.display = 'none';
                    
                    // Show profile elements
                    profileCard.style.display = 'block';
                    dataBlock.style.display = 'block';
                    weaponsSection.style.display = 'block';
                    
                    // Populate data block
                    const dataRows = [
                        { icon: '⚔️', text: 'Убийства', value: '125' },
                        { icon: '💀', text: 'Смерти', value: '87' },
                        { icon: '🎯', text: 'Точность', value: '68%' },
                        { icon: '🏆', text: 'Победы', value: '42' },
                        { icon: '⏱️', text: 'Время игры', value: '156ч' },
                        { icon: '⭐', text: 'Уровень', value: '24' },
                        { icon: '🔫', text: 'Любимое оружие', value: 'AK-47' }
                    ];
                    
                    dataBlock.innerHTML = '';
                    dataRows.forEach(row => {
                        const rowElement = document.createElement('div');
                        rowElement.className = 'data-row';
                        rowElement.innerHTML = `
                            <div style="display: flex; align-items: center;">
                                <span class="data-icon">${row.icon}</span>
                                <span class="data-text">${row.text}</span>
                            </div>
                            <span class="data-value">${row.value}</span>
                        `;
                        dataBlock.appendChild(rowElement);
                    });
                    
                    // Add stats row
                    const statsRow = document.createElement('div');
                    statsRow.className = 'stats-row';
                    statsRow.innerHTML = `
                        <div class="mini-stat">
                            <span class="data-icon">🥇</span>
                            <span class="mini-stat-text">Топ-5%</span>
                        </div>
                        <div class="mini-stat">
                            <span class="data-icon">🔥</span>
                            <span class="mini-stat-text">15 побед</span>
                        </div>
                        <div class="mini-stat">
                            <span class="data-icon">⚡</span>
                            <span class="mini-stat-text">Быстрая</span>
                        </div>
                    `;
                    dataBlock.appendChild(statsRow);
                    
                    // Populate weapons slider
                    const weapons = [
                        { name: 'AK-47', stat1: 'Урон: 35', stat2: 'Скорость: 600' },
                        { name: 'M4A1', stat1: 'Урон: 33', stat2: 'Скорость: 750' },
                        { name: 'AWP', stat1: 'Урон: 115', stat2: 'Скорость: 41' }
                    ];
                    
                    weaponsSection.querySelector('.weapons-slider').innerHTML = '';
                    weapons.forEach(weapon => {
                        const weaponCard = document.createElement('div');
                        weaponCard.className = 'weapon-card';
                        weaponCard.innerHTML = `
                            <div class="weapon-name">${weapon.name}</div>
                            <div class="weapon-stats">
                                <span class="weapon-icon">💥</span>
                                <span class="weapon-value">${weapon.stat1}</span>
                            </div>
                            <div class="weapon-stats">
                                <span class="weapon-icon">⚡</span>
                                <span class="weapon-value">${weapon.stat2}</span>
                            </div>
                            <div class="weapon-bg">🔫</div>
                        `;
                        weaponsSection.querySelector('.weapons-slider').appendChild(weaponCard);
                    });
                }
            });
            
            // Category tabs functionality
            const categoryTabs = document.querySelectorAll('.category-tab');
            
            categoryTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    categoryTabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    // In a real app, this would update the top list based on the selected category
                    updateTopList(this.classList.contains('exp') ? 'exp' : 
                                 this.classList.contains('crystals') ? 'crystals' : 'gold');
                });
            });
            
            // Function to update top list based on category
            function updateTopList(category) {
                const topList = document.querySelector('.top-list');
                topList.innerHTML = '';
                
                // Generate sample top 10 items
                for (let i = 1; i <= 10; i++) {
                    const topItem = document.createElement('div');
                    topItem.className = 'top-item';
                    
                    let value;
                    switch(category) {
                        case 'exp':
                            value = `${(10000 - i * 100)} XP`;
                            break;
                        case 'crystals':
                            value = `${(500 - i * 5)} 💎`;
                            break;
                        case 'gold':
                            value = `${(10000 - i * 100)} 🪙`;
                            break;
                    }
                    
                    topItem.innerHTML = `
                        <div class="rank">${i}</div>
                        <div class="rank-icon">${i <= 3 ? '🏆' : '👤'}</div>
                        <div class="top-username">User${i}</div>
                        <div class="top-value">${value}</div>
                    `;
                    topList.appendChild(topItem);
                }
            }
            
            // Initialize top list
            updateTopList('exp');
            
            // Search field functionality
            const searchFields = document.querySelectorAll('.search-field');
            
            searchFields.forEach(field => {
                field.addEventListener('input', function() {
                    // Remove error state if user starts typing
                    if (this.classList.contains('error')) {
                        this.classList.remove('error');
                    }
                });
                
                // Simulate search error for demonstration
                field.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        // In a real app, this would trigger a search
                        // For demo, randomly show error state
                        if (Math.random() > 0.7) {
                            this.classList.add('error');
                        }
                    }
                });
            });
        });
    </script>
</body>
</html>
