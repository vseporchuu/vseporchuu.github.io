<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AnimeHub</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            transition: background-color 0.3s, color 0.3s;
        }

        body {
            background-color: #2D2D2D;
            color: white;
            padding: 16px;
        }

        body.light-theme {
            background-color: #f5f5f5;
            color: #333;
        }

        body.dark-theme {
            background-color: #121212;
            color: #e0e0e0;
        }

        /* –û–±—â–∏–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü */
        .page {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #2D2D2D;
            z-index: 1000;
            overflow-y: auto;
            padding: 20px;
        }

        .page.active {
            display: block;
        }

        .page-header {
            display: flex;
            align-items: center;
            margin-bottom: 24px;
        }

        .back-icon {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.5);
            cursor: pointer;
            margin-right: 12px;
        }

        .page-title {
            font-size: 24px;
            font-weight: bold;
        }

        /* Header */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            cursor: pointer;
        }

        .search-icon {
            width: 24px;
            height: 24px;
            cursor: pointer;
        }

        /* –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–µ –º–µ–Ω—é */
        .center-menu {
            position: fixed;
            top: -100%;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            max-width: 400px;
            background: #3A3A3A;
            border-radius: 16px;
            padding: 20px;
            z-index: 1000;
            transition: all 0.3s ease;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
        }

        .center-menu.active {
            top: 80px;
        }

        .user-info {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #444;
        }

        .user-info img {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            margin-right: 15px;
        }

        .menu-items {
            list-style: none;
        }

        .menu-items li {
            padding: 16px 0;
            border-bottom: 1px solid #444;
            text-align: center;
            cursor: pointer;
        }

        .menu-items li:last-child {
            border-bottom: none;
        }

        /* –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª */
        .hero {
            margin-bottom: 8px;
            position: relative;
        }

        .horizontal-scroll {
            display: flex;
            overflow-x: auto;
            gap: 12px;
            padding-bottom: 4px;
            scrollbar-width: none;
            scroll-snap-type: x mandatory;
        }

        .horizontal-scroll::-webkit-scrollbar {
            display: none;
        }

        .featured-card {
            min-width: 100%;
            scroll-snap-align: start;
            position: relative;
        }

        .featured-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 8px;
        }

        .featured-info {
            padding: 6px 0;
        }

        .featured-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 2px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .featured-rating {
            font-size: 12px;
            color: #FFD700;
        }

        .status-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #FF6B81;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
        }

        .dots-container {
            display: flex;
            justify-content: center;
            gap: 6px;
            margin-top: 0;
            margin-bottom: 4px;
        }

        .dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: #444;
            cursor: pointer;
        }

        .dot.active {
            background: #FF6B81;
        }

        /* –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ */
        .vertical-list {
            margin-top: 16px;
        }

        .anime-card {
            display: flex;
            margin-bottom: 16px;
        }

        .anime-poster {
            width: 100px;
            height: 140px;
            object-fit: cover;
            border-radius: 8px;
        }

        .anime-content {
            padding: 0 12px;
            flex: 1;
            overflow: hidden;
        }

        .anime-title {
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 6px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .anime-genre {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-bottom: 8px;
        }

        .genre-tag {
            background: #444;
            padding: 3px 6px;
            border-radius: 12px;
            font-size: 10px;
        }

        .anime-description {
            font-size: 12px;
            color: #BBBBBB;
            margin-bottom: 10px;
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .watch-btn {
            background: #FF6B81;
            color: white;
            border: none;
            padding: 6px 10px;
            border-radius: 6px;
            font-weight: bold;
            cursor: pointer;
            font-size: 12px;
        }

        /* –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–µ—Ç–∞–ª–µ–π */
        .detail-page {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #2D2D2D;
            z-index: 2000;
            transform: translateX(100%);
            transition: transform 0.3s ease;
            overflow-y: auto;
        }

        .detail-page.active {
            transform: translateX(0);
        }

        .detail-header {
            position: relative;
            height: 360px;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .detail-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            filter: blur(8px);
            opacity: 0.8;
            z-index: 1;
            mask-image: linear-gradient(to bottom, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.5) 50%, transparent 100%);
            -webkit-mask-image: linear-gradient(to bottom, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.5) 50%, transparent 100%);
        }

        .detail-cover {
            position: relative;
            z-index: 2;
            width: 80%;
            max-height: 300px;
            object-fit: contain;
            margin: 0 auto;
            border-radius: 8px;
        }

        .detail-actions {
            position: absolute;
            top: 20px;
            left: 20px;
            z-index: 3;
        }

        .back-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.5);
            cursor: pointer;
        }

        .bookmark-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 3;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.5);
            cursor: pointer;
        }

        .bookmark-menu {
            position: absolute;
            top: 60px;
            right: 20px;
            background: #3A3A3A;
            border-radius: 12px;
            padding: 10px 0;
            z-index: 4;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            display: none;
        }

        .bookmark-menu.active {
            display: block;
        }

        .bookmark-option {
            padding: 10px 20px;
            cursor: pointer;
            white-space: nowrap;
        }

        .bookmark-option:hover {
            background: #444;
        }

        .detail-body {
            padding: 20px;
            position: relative;
            z-index: 2;
            text-align: center;
            background: #2D2D2D;
        }

        .detail-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 4px;
        }

        .detail-subtitle {
            color: #BBBBBB;
            font-style: italic;
            margin-bottom: 20px;
            display: flex;
            justify-content: center;
            gap: 8px;
        }

        .detail-year {
            color: #BBBBBB;
        }

        .detail-eng-title {
            color: #BBBBBB;
        }

        .tabs-container {
            background: #3A3A3A;
            border-radius: 30px;
            padding: 6px;
            margin-bottom: 20px;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
        }

        .tabs {
            display: flex;
            justify-content: space-around;
        }

        .tab {
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }

        .tab.active {
            background: #FF6B81;
            color: white;
        }

        .tab-content {
            display: none;
            max-width: 600px;
            margin: 0 auto;
        }

        .tab-content.active {
            display: block;
        }

        .info-item {
            margin-bottom: 16px;
            text-align: left;
        }

        .info-label {
            color: #BBBBBB;
            font-size: 14px;
            margin-bottom: 8px;
        }

        .info-value {
            font-size: 16px;
        }

        .tag {
            display: inline-block;
            background: #444;
            padding: 6px 12px;
            border-radius: 16px;
            margin-right: 8px;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .voice-tag {
            display: inline-block;
            background: #444;
            padding: 6px 12px;
            border-radius: 16px;
            margin-right: 8px;
            margin-bottom: 8px;
            font-size: 14px;
            cursor: pointer;
            text-decoration: none;
            color: white;
        }

        .voice-tag:hover {
            background: #555;
        }

        .watch-btn-large {
            background: #FF6B81;
            color: white;
            border: none;
            padding: 14px;
            border-radius: 8px;
            width: 100%;
            max-width: 300px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            margin-left: auto;
            margin-right: auto;
            display: block;
        }

        .episodes-list {
            text-align: left;
            margin-top: 20px;
        }

        .episode-item {
            padding: 12px;
            background: #3A3A3A;
            border-radius: 8px;
            margin-bottom: 10px;
            cursor: pointer;
        }

        .episode-item:hover {
            background: #444;
        }

        /* –†–µ–π—Ç–∏–Ω–≥ */
        .rating-container {
            text-align: center;
            padding: 20px 0;
        }

        .rating-value {
            font-size: 36px;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .rating-count {
            color: #BBBBBB;
            margin-bottom: 20px;
        }

        .stars-container {
            display: flex;
            justify-content: center;
            gap: 4px;
            margin-bottom: 20px;
        }

        .star {
            font-size: 24px;
            color: #444;
            cursor: pointer;
        }

        .star.active {
            color: #FFD700;
        }

        .rating-chart {
            margin-top: 20px;
        }

        .chart-row {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }

        .chart-label {
            width: 40px;
            font-size: 14px;
        }

        .chart-bar-container {
            flex: 1;
            height: 12px;
            background: #444;
            border-radius: 6px;
            overflow: hidden;
        }

        .chart-bar {
            height: 100%;
            background: #FF6B81;
            border-radius: 6px;
        }

        .chart-value {
            width: 40px;
            text-align: right;
            font-size: 14px;
        }

        /* –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ */
        .comments-container {
            margin-top: 20px;
        }

        .comment {
            background: #3A3A3A;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
        }

        .comment-header {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
        }

        .comment-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 12px;
        }

        .comment-user {
            font-weight: bold;
            margin-bottom: 4px;
        }

        .comment-date {
            color: #BBBBBB;
            font-size: 12px;
        }

        .comment-text {
            line-height: 1.4;
            margin-bottom: 12px;
        }

        .comment-actions {
            display: flex;
            gap: 16px;
        }

        .comment-action {
            display: flex;
            align-items: center;
            color: #BBBBBB;
            font-size: 14px;
            cursor: pointer;
        }

        .comment-form {
            margin-top: 24px;
            background: #3A3A3A;
            border-radius: 12px;
            padding: 16px;
        }

        .comment-input {
            width: 100%;
            background: #444;
            border: none;
            border-radius: 12px;
            padding: 12px 16px;
            color: white;
            font-size: 14px;
            margin-bottom: 12px;
            resize: none;
            min-height: 80px;
        }

        .comment-submit {
            background: #FF6B81;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            font-weight: bold;
            cursor: pointer;
        }

        /* –ü–∞–Ω–µ–ª—å –ø–æ–∏—Å–∫–∞ */
        .search-panel {
            position: fixed;
            top: -100%;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            max-width: 400px;
            background: #3A3A3A;
            border-radius: 16px;
            padding: 20px;
            z-index: 1000;
            transition: all 0.3s ease;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
        }

        .search-panel.active {
            top: 80px;
        }

        .search-header {
            display: flex;
            align-items: center;
            margin-bottom: 16px;
        }

        .search-input {
            flex: 1;
            padding: 12px 16px;
            background: #444;
            border: none;
            border-radius: 30px;
            color: white;
            font-size: 16px;
        }

        .filter-icon {
            margin-left: 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: #444;
        }

        .filter-icon.active {
            background: #FF6B81;
        }

        .filters {
            margin-top: 20px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .filters.active {
            max-height: 500px;
        }

        .filter-group {
            margin-bottom: 16px;
        }

        .filter-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .filter-options {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .filter-option {
            background: #444;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
        }

        .filter-option.active {
            background: #FF6B81;
        }

        /* –û–≤–µ—Ä–ª–µ–π */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 999;
            display: none;
        }

        .overlay.active {
            display: block;
        }

        /* –ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ */
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #BBBBBB;
        }

        .empty-icon {
            font-size: 60px;
            margin-bottom: 20px;
            opacity: 0.5;
        }

        .empty-text {
            font-size: 18px;
            margin-bottom: 10px;
        }

        .empty-subtext {
            font-size: 14px;
        }

        /* –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª—è */
        .profile-container {
            max-width: 600px;
            margin: 0 auto;
        }

        .profile-header {
            display: flex;
            align-items: center;
            margin-bottom: 24px;
        }

        .profile-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 20px;
        }

        .profile-info {
            flex: 1;
        }

        .profile-name {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 4px;
        }

        .profile-username {
            color: #BBBBBB;
            margin-bottom: 8px;
        }

        .profile-stats {
            display: flex;
            gap: 20px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 18px;
            font-weight: bold;
        }

        .stat-label {
            font-size: 14px;
            color: #BBBBBB;
        }

        .profile-section {
            background: #3A3A3A;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .section-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 16px;
        }

        /* –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–∫–ª–∞–¥–æ–∫ */
        .bookmarks-container {
            max-width: 600px;
            margin: 0 auto;
        }

        .bookmarks-filters {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            overflow-x: auto;
            padding-bottom: 10px;
        }

        .bookmark-filter {
            background: #444;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            white-space: nowrap;
        }

        .bookmark-filter.active {
            background: #FF6B81;
        }

        /* –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—ã–±–æ—Ä–∞ —Ç–µ–º—ã */
        .theme-options {
            max-width: 400px;
            margin: 0 auto;
        }

        .theme-option {
            display: flex;
            align-items: center;
            padding: 16px;
            background: #3A3A3A;
            border-radius: 12px;
            margin-bottom: 12px;
            cursor: pointer;
        }

        .theme-option.active {
            background: #FF6B81;
        }

        .theme-preview {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            margin-right: 12px;
            border: 2px solid transparent;
        }

        .theme-preview.classic {
            background: #2D2D2D;
            border-color: #FF6B81;
        }

        .theme-preview.light {
            background: #f5f5f5;
            border-color: #ddd;
        }

        .theme-preview.dark {
            background: #121212;
            border-color: #333;
        }

        .theme-name {
            font-size: 16px;
            font-weight: bold;
        }

        /* –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å */
        .admin-container {
            max-width: 600px;
            margin: 0 auto;
        }

        .admin-login-form {
            background: #3A3A3A;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
        }

        .form-group {
            margin-bottom: 16px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
            color: #BBBBBB;
        }

        .form-input {
            width: 100%;
            padding: 12px 16px;
            background: #444;
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 16px;
        }

        .form-select {
            width: 100%;
            padding: 12px 16px;
            background: #444;
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 16px;
        }

        .admin-btn {
            background: #FF6B81;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            margin-top: 10px;
        }

        .admin-menu {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-top: 20px;
        }

        .admin-menu-item {
            background: #3A3A3A;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
        }

        .admin-menu-item:hover {
            background: #444;
        }

        .admin-form {
            background: #3A3A3A;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
        }

        .form-row {
            display: flex;
            gap: 16px;
            margin-bottom: 16px;
        }

        .form-row .form-group {
            flex: 1;
            margin-bottom: 0;
        }

        .episode-controls {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .remove-btn {
            background: #ff4757;
        }

        /* –ö–∞–ª–µ–Ω–¥–∞—Ä—å —Ä–µ–ª–∏–∑–æ–≤ */
        .calendar {
            margin-top: 20px;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .calendar-title {
            font-size: 18px;
            font-weight: bold;
        }

        .calendar-nav {
            display: flex;
            gap: 10px;
        }

        .calendar-nav-btn {
            background: #444;
            border: none;
            border-radius: 20px;
            padding: 8px 16px;
            color: white;
            cursor: pointer;
        }

        .calendar-days {
            display: flex;
            overflow-x: auto;
            gap: 8px;
            padding-bottom: 10px;
        }

        .calendar-day {
            min-width: 80px;
            padding: 12px;
            background: #3A3A3A;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
        }

        .calendar-day.active {
            background: #FF6B81;
        }

        .calendar-day-name {
            font-size: 14px;
            margin-bottom: 4px;
        }

        .calendar-day-date {
            font-size: 16px;
            font-weight: bold;
        }

        .calendar-releases {
            margin-top: 20px;
        }

        /* –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ */
        .banned-users {
            margin-top: 20px;
        }

        .banned-user {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            background: #3A3A3A;
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .banned-username {
            font-weight: bold;
        }

        .unban-btn {
            background: #ff4757;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 6px;
            cursor: pointer;
        }

        /* –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ */
        .comment-manage {
            margin-top: 20px;
        }

        .comment-item {
            background: #3A3A3A;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
        }

        .comment-meta {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .comment-user-info {
            display: flex;
            align-items: center;
        }

        .comment-actions-admin {
            display: flex;
            gap: 8px;
        }

        .delete-comment-btn {
            background: #ff4757;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 6px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <img id="user-avatar" class="avatar" src="" alt="–ê–≤–∞—Ç–∞—Ä">
        <svg class="search-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15.5 14H14.71L14.43 13.73C15.41 12.59 16 11.11 16 9.5C16 5.91 13.09 3 9.5 3C5.91 3 3 5.91 3 9.5C3 13.09 5.91 16 9.5 16C11.11 16 12.59 15.41 13.73 14.43L14 14.71V15.5L19 20.49L20.49 19L15.5 14ZM9.5 14C7.01 14 5 11.99 5 9.5C5 7.01 7.01 5 9.5 5C11.99 5 14 7.01 14 9.5C14 11.99 11.99 14 9.5 14Z" fill="white"/>
        </svg>
    </header>

    <!-- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–µ –º–µ–Ω—é -->
    <div class="center-menu" id="center-menu">
        <div class="user-info">
            <img id="menu-avatar" src="" alt="–ê–≤–∞—Ç–∞—Ä">
            <div>
                <div id="menu-username"></div>
                <small>Telegram</small>
            </div>
        </div>
        <ul class="menu-items">
            <li data-page="profile">–ü—Ä–æ—Ñ–∏–ª—å</li>
            <li data-page="bookmarks">–ó–∞–∫–ª–∞–¥–∫–∏</li>
            <li data-page="theme">–¢–µ–º–∞</li>
            <li id="admin-menu" data-page="admin-login">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</li>
        </ul>
    </div>

    <!-- –ü–∞–Ω–µ–ª—å –ø–æ–∏—Å–∫–∞ -->
    <div class="search-panel" id="search-panel">
        <div class="search-header">
            <input type="text" class="search-input" placeholder="–ü–æ–∏—Å–∫ –∞–Ω–∏–º–µ...">
            <div class="filter-icon" id="filter-toggle">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M4.25 5.61C6.27 8.2 10 13 10 13V19C10 19.55 10.45 20 11 20H13C13.55 20 14 19.55 14 19V13C14 13 17.72 8.2 19.74 5.61C20.25 4.95 19.78 4 18.95 4H5.04C4.21 4 3.74 4.95 4.25 5.61Z" fill="white"/>
                </svg>
            </div>
        </div>
        <div class="filters" id="filters">
            <div class="filter-group">
                <div class="filter-title">–ñ–∞–Ω—Ä—ã</div>
                <div class="filter-options">
                    <div class="filter-option">–≠–∫—à–µ–Ω</div>
                    <div class="filter-option">–§—ç–Ω—Ç–µ–∑–∏</div>
                    <div class="filter-option">–ö–æ–º–µ–¥–∏—è</div>
                    <div class="filter-option">–î—Ä–∞–º–∞</div>
                    <div class="filter-option">–†–æ–º–∞–Ω—Ç–∏–∫–∞</div>
                </div>
            </div>
            <div class="filter-group">
                <div class="filter-title">–°—Ç–∞—Ç—É—Å</div>
                <div class="filter-options">
                    <div class="filter-option">–û–∂–∏–¥–∞–µ—Ç—Å—è</div>
                    <div class="filter-option">–í—ã—Ö–æ–¥–∏—Ç</div>
                    <div class="filter-option">–ó–∞–≤–µ—Ä—à–µ–Ω</div>
                </div>
            </div>
            <div class="filter-group">
                <div class="filter-title">–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞</div>
                <div class="filter-options">
                    <div class="filter-option">2024</div>
                    <div class="filter-option">2023</div>
                    <div class="filter-option">2022</div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div class="main-content">
        <!-- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª -->
        <div class="hero">
            <div class="horizontal-scroll" id="featured-scroll">
                <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∏–∑ JavaScript -->
            </div>
            <div class="dots-container" id="dots-container">
                <!-- –¢–æ—á–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>
        
        <!-- –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ -->
        <div class="vertical-list" id="anime-list">
            <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∏–∑ JavaScript -->
        </div>
        
        <!-- –ü—Ä–∏–º–µ—Ä –ø—É—Å—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è -->
        <div class="empty-state" id="empty-state" style="display: none;">
            <div class="empty-icon">üì∫</div>
            <div class="empty-text">–ó–¥–µ—Å—å –ø–æ–∫–∞ –Ω–∏—á–µ–≥–æ –Ω–µ—Ç</div>
            <div class="empty-subtext">–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –¥—Ä—É–≥–æ–º —Ä–∞–∑–¥–µ–ª–µ</div>
        </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–µ—Ç–∞–ª–µ–π -->
    <div class="detail-page" id="detail-page">
        <div class="detail-header">
            <div class="detail-bg" id="detail-bg"></div>
            <img src="" class="detail-cover" id="detail-cover" alt="–û–±–ª–æ–∂–∫–∞">
            <div class="detail-actions">
                <div class="back-btn">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M15.41 16.59L10.83 12L15.41 7.41L14 6L8 12L14 18L15.41 16.59Z" fill="white"/>
                    </svg>
                </div>
            </div>
            <div class="bookmark-btn" id="bookmark-btn">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3Z" fill="white" stroke="white" stroke-width="2"/>
                </svg>
            </div>
            <div class="bookmark-menu" id="bookmark-menu">
                <div class="bookmark-option" data-status="watched">–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ</div>
                <div class="bookmark-option" data-status="planned">–ü–ª–∞–Ω–∏—Ä—É—é</div>
                <div class="bookmark-option" data-status="dropped">–ë—Ä–æ—à–µ–Ω–æ</div>
                <div class="bookmark-option" data-status="favorite">–õ—é–±–∏–º–æ–µ</div>
                <div class="bookmark-option" data-status="bookmarked">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</div>
            </div>
        </div>
        
        <div class="detail-body">
            <h1 class="detail-title" id="detail-title"></h1>
            <div class="detail-subtitle">
                <div class="detail-year" id="detail-year"></div>
                <div class="detail-eng-title" id="detail-eng-title"></div>
            </div>
            
            <div class="tabs-container">
                <div class="tabs">
                    <div class="tab active" data-tab="general">–û–±—â–µ–µ</div>
                    <div class="tab" data-tab="episodes">–°–µ—Ä–∏–∏</div>
                    <div class="tab" data-tab="rating">–†–µ–π—Ç–∏–Ω–≥</div>
                    <div class="tab" data-tab="comments">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</div>
                </div>
            </div>
            
            <div class="tab-content active" id="general-content">
                <div class="info-item">
                    <div class="info-label">–°–µ—Ä–∏–π</div>
                    <div class="info-value" id="episodes-count"></div>
                </div>
                <div class="info-item">
                    <div class="info-label">–ñ–∞–Ω—Ä—ã</div>
                    <div class="info-value" id="detail-genres"></div>
                </div>
                <div class="info-item">
                    <div class="info-label">–°–µ–∑–æ–Ω</div>
                    <div class="info-value" id="detail-season"></div>
                </div>
                <div class="info-item">
                    <div class="info-label">–û–∑–≤—É—á–∏–≤–∞–ª–∏</div>
                    <div class="info-value" id="detail-voices"></div>
                </div>
                <div class="info-item">
                    <div class="info-label">–¢–∞–π–º–∏–Ω–≥</div>
                    <div class="info-value" id="detail-timing"></div>
                </div>
                <div class="info-item">
                    <div class="info-label">–°–æ—Å—Ç–æ—è–Ω–∏–µ</div>
                    <div class="info-value" id="detail-status"></div>
                </div>
                <div class="info-item">
                    <div class="info-label">–û–ø–∏—Å–∞–Ω–∏–µ</div>
                    <div class="info-value" id="detail-description"></div>
                </div>
                <button class="watch-btn-large" id="watch-btn">–°–º–æ—Ç—Ä–µ—Ç—å</button>
            </div>
            
            <div class="tab-content" id="episodes-content">
                <div class="episodes-list" id="episodes-list">
                    <!-- –°–ø–∏—Å–æ–∫ —Å–µ—Ä–∏–π –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
            
            <div class="tab-content" id="rating-content">
                <div class="rating-container">
                    <div class="rating-value" id="rating-value"></div>
                    <div class="rating-count" id="rating-count"></div>
                    <div class="stars-container">
                        <div class="star" data-rating="1">‚òÖ</div>
                        <div class="star" data-rating="2">‚òÖ</div>
                        <div class="star" data-rating="3">‚òÖ</div>
                        <div class="star" data-rating="4">‚òÖ</div>
                        <div class="star" data-rating="5">‚òÖ</div>
                    </div>
                    
                    <div class="rating-chart" id="rating-chart">
                        <!-- –ì—Ä–∞—Ñ–∏–∫ —Ä–µ–π—Ç–∏–Ω–≥–∞ –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="comments-content">
                <div class="comments-container" id="comments-container">
                    <!-- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –±—É–¥—É—Ç –∑–∞–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    <div class="comment-form">
                        <textarea class="comment-input" id="comment-input" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π..."></textarea>
                        <button class="comment-submit" id="comment-submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª—è -->
    <div class="page" id="profile-page">
        <div class="page-header">
            <div class="back-icon" data-back="main">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15.41 16.59L10.83 12L15.41 7.41L14 6L8 12L14 18L15.41 16.59Z" fill="white"/>
                </svg>
            </div>
            <h2 class="page-title">–ü—Ä–æ—Ñ–∏–ª—å</h2>
        </div>
        
        <div class="profile-container">
            <div class="profile-header">
                <img src="" class="profile-avatar" id="profile-avatar" alt="–ê–≤–∞—Ç–∞—Ä">
                <div class="profile-info">
                    <div class="profile-name" id="profile-name"></div>
                    <div class="profile-username" id="profile-username"></div>
                    <div class="profile-stats">
                        <div class="stat-item">
                            <div class="stat-value" id="watched-count">0</div>
                            <div class="stat-label">–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="planned-count">0</div>
                            <div class="stat-label">–í –ø–ª–∞–Ω–∞—Ö</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="comments-count">0</div>
                            <div class="stat-label">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="profile-section">
                <h3 class="section-title">–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</h3>
                <div id="last-activity">
                    <!-- –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
            
            <div class="profile-section">
                <h3 class="section-title">–ò–∑–±—Ä–∞–Ω–Ω—ã–µ –∂–∞–Ω—Ä—ã</h3>
                <div class="anime-genre" id="favorite-genres">
                    <!-- –ñ–∞–Ω—Ä—ã –±—É–¥—É—Ç –∑–∞–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
        </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–∫–ª–∞–¥–æ–∫ -->
    <div class="page" id="bookmarks-page">
        <div class="page-header">
            <div class="back-icon" data-back="main">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15.41 16.59L10.83 12L15.41 7.41L14 6L8 12L14 18L15.41 16.59Z" fill="white"/>
                </svg>
            </div>
            <h2 class="page-title">–ó–∞–∫–ª–∞–¥–∫–∏</h2>
        </div>
        
        <div class="bookmarks-container">
            <div class="bookmarks-filters" id="bookmarks-filters">
                <div class="bookmark-filter active" data-status="all">–í—Å–µ</div>
                <div class="bookmark-filter" data-status="watched">–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ</div>
                <div class="bookmark-filter" data-status="planned">–í –ø–ª–∞–Ω–∞—Ö</div>
                <div class="bookmark-filter" data-status="dropped">–ë—Ä–æ—à–µ–Ω–æ</div>
                <div class="bookmark-filter" data-status="favorite">–õ—é–±–∏–º—ã–µ</div>
            </div>
            
            <div class="vertical-list" id="bookmarks-list">
                <!-- –ó–∞–∫–ª–∞–¥–∫–∏ –±—É–¥—É—Ç –∑–∞–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—ã–±–æ—Ä–∞ —Ç–µ–º—ã -->
    <div class="page" id="theme-page">
        <div class="page-header">
            <div class="back-icon" data-back="main">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15.41 16.59L10.83 12L15.41 7.41L14 6L8 12L14 18L15.41 16.59Z" fill="white"/>
                </svg>
            </div>
            <h2 class="page-title">–í—ã–±–æ—Ä —Ç–µ–º—ã</h2>
        </div>
        
        <div class="theme-options">
            <div class="theme-option active" data-theme="classic">
                <div class="theme-preview classic"></div>
                <div class="theme-name">–ö–ª–∞—Å—Å–∏–∫–∞</div>
            </div>
            <div class="theme-option" data-theme="light">
                <div class="theme-preview light"></div>
                <div class="theme-name">–°–≤–µ—Ç–ª–∞—è</div>
            </div>
            <div class="theme-option" data-theme="dark">
                <div class="theme-preview dark"></div>
                <div class="theme-name">–¢—ë–º–Ω–∞—è</div>
            </div>
        </div>
    </div>

    <!-- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: –í—Ö–æ–¥ -->
    <div class="page" id="admin-login-page">
        <div class="page-header">
            <div class="back-icon" data-back="main">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15.41 16.59L10.83 12L15.41 7.41L14 6L8 12L14 18L15.41 16.59Z" fill="white"/>
                </svg>
            </div>
            <h2 class="page-title">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h2>
        </div>
        
        <div class="admin-container">
            <p>–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</p>
            
            <div class="admin-login-form">
                <div class="form-group">
                    <label class="form-label">–õ–æ–≥–∏–Ω</label>
                    <input type="text" class="form-input" id="admin-login" placeholder="–í–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω">
                </div>
                
                <div class="form-group">
                    <label class="form-label">–ü–∞—Ä–æ–ª—å</label>
                    <input type="password" class="form-input" id="admin-password" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å">
                </div>
                
                <button class="admin-btn" id="admin-login-btn">–í–æ–π—Ç–∏</button>
            </div>
        </div>
    </div>

    <!-- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: –ì–ª–∞–≤–Ω–∞—è -->
    <div class="page" id="admin-main-page">
        <div class="page-header">
            <div class="back-icon" data-back="admin-login">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15.41 16.59L10.83 12L15.41 7.41L14 6L8 12L14 18L15.41 16.59Z" fill="white"/>
                </svg>
            </div>
            <h2 class="page-title">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h2>
        </div>
        
        <div class="admin-container">
            <div class="admin-menu">
                <div class="admin-menu-item" data-page="admin-releases">
                    –ö–∞–ª–µ–Ω–¥–∞—Ä—å —Ä–µ–ª–∏–∑–æ–≤
                </div>
                <div class="admin-menu-item" data-page="admin-edit">
                    –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–π—Ç–ª
                </div>
                <div class="admin-menu-item" data-page="admin-comments">
                    –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
                </div>
                <div class="admin-menu-item" data-page="admin-stats">
                    –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
                </div>
            </div>
        </div>
    </div>

    <!-- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: –ö–∞–ª–µ–Ω–¥–∞—Ä—å —Ä–µ–ª–∏–∑–æ–≤ -->
    <div class="page" id="admin-releases-page">
        <div class="page-header">
            <div class="back-icon" data-back="admin-main">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15.41 16.59L10.83 12L15.41 7.41L14 6L8 12L14 18L15.41 16.59Z" fill="white"/>
                </svg>
            </div>
            <h2 class="page-title">–ö–∞–ª–µ–Ω–¥–∞—Ä—å —Ä–µ–ª–∏–∑–æ–≤</h2>
        </div>
        
        <div class="admin-container">
            <div class="calendar">
                <div class="calendar-header">
                    <div class="calendar-title">–†–µ–ª–∏–∑—ã –Ω–∞ –Ω–µ–¥–µ–ª—é</div>
                    <div class="calendar-nav">
                        <button class="calendar-nav-btn" id="prev-week">‚Üê</button>
                        <button class="calendar-nav-btn" id="next-week">‚Üí</button>
                    </div>
                </div>
                
                <div class="calendar-days" id="calendar-days">
                    <!-- –î–Ω–∏ –Ω–µ–¥–µ–ª–∏ –±—É–¥—É—Ç –∑–∞–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
                
                <div class="calendar-releases" id="calendar-releases">
                    <!-- –†–µ–ª–∏–∑—ã –±—É–¥—É—Ç –∑–∞–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
            
            <button class="admin-btn" id="add-release-btn" style="margin-top: 20px;">–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–ª–∏–∑</button>
        </div>
    </div>

    <!-- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–π—Ç–ª–∞ -->
    <div class="page" id="admin-edit-page">
        <div class="page-header">
            <div class="back-icon" data-back="admin-main">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15.41 16.59L10.83 12L15.41 7.41L14 6L8 12L14 18L15.41 16.59Z" fill="white"/>
                </svg>
            </div>
            <h2 class="page-title">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–π—Ç–ª–∞</h2>
        </div>
        
        <div class="admin-container">
            <div class="admin-form">
                <div class="form-group">
                    <label class="form-label">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∞–π—Ç–ª</label>
                    <select class="form-select" id="anime-select">
                        <!-- –û–ø—Ü–∏–∏ –±—É–¥—É—Ç –∑–∞–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                    <input type="text" class="form-input" id="anime-title">
                </div>
                
                <div class="form-group">
                    <label class="form-label">–ê–Ω–≥–ª–∏–π—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ</label>
                    <input type="text" class="form-input" id="anime-eng-title">
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞</label>
                        <input type="text" class="form-input" id="anime-year">
                    </div>
                    <div class="form-group">
                        <label class="form-label">–°—Ç–∞—Ç—É—Å</label>
                        <select class="form-select" id="anime-status">
                            <option value="planned">–û–∂–∏–¥–∞–µ—Ç—Å—è</option>
                            <option value="ongoing">–í—ã—Ö–æ–¥–∏—Ç</option>
                            <option value="completed">–ó–∞–≤–µ—Ä—à–µ–Ω</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                    <textarea class="form-input" rows="4" id="anime-description"></textarea>
                </div>
                
                <div class="form-group">
                    <label class="form-label">–ñ–∞–Ω—Ä—ã (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)</label>
                    <input type="text" class="form-input" id="anime-genres" placeholder="–≠–∫—à–µ–Ω, –§—ç–Ω—Ç–µ–∑–∏, –ü—Ä–∏–∫–ª—é—á–µ–Ω–∏—è">
                </div>
                
                <div class="form-group">
                    <label class="form-label">–°–µ–∑–æ–Ω</label>
                    <input type="text" class="form-input" id="anime-season" placeholder="–ó–∏–º–∞ 2024">
                </div>
                
                <div class="form-group">
                    <label class="form-label">–û–∑–≤—É—á–∏–≤–∞–ª–∏ (–Ω–∏–∫–Ω–µ–π–º:—Å—Å—ã–ª–∫–∞, —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)</label>
                    <textarea class="form-input" rows="2" id="anime-voices" placeholder="Familiar:https://t.me/familiar, Kito:https://t.me/kito"></textarea>
                </div>
                
                <div class="form-group">
                    <label class="form-label">–¢–∞–π–º–∏–Ω–≥</label>
                    <input type="text" class="form-input" id="anime-timing" placeholder="GWUNBLAIDE">
                </div>
                
                <div class="form-group">
                    <label class="form-label">URL –∫–∞—Ä—Ç–∏–Ω–∫–∏ (–≥–ª–∞–≤–Ω–∞—è)</label>
                    <input type="text" class="form-input" id="anime-image">
                </div>
                
                <div class="form-group">
                    <label class="form-label">URL –∫–∞—Ä—Ç–∏–Ω–∫–∏ (–º–∏–Ω–∏–∞—Ç—é—Ä–∞)</label>
                    <input type="text" class="form-input" id="anime-thumbnail">
                </div>
                
                <div class="form-group">
                    <label class="form-label">–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ—Ä–∏–π</label>
                    <input type="number" class="form-input" id="anime-total-episodes">
                </div>
                
                <h3 class="section-title" style="margin: 20px 0 10px;">–°–µ—Ä–∏–∏</h3>
                
                <div id="episodes-container">
                    <!-- –°–µ—Ä–∏–∏ –±—É–¥—É—Ç –∑–∞–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">–ù–æ–º–µ—Ä —Å–µ—Ä–∏–∏</label>
                        <input type="number" class="form-input" id="new-episode-number">
                    </div>
                    <div class="form-group">
                        <label class="form-label">URL –¥–ª—è –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è</label>
                        <input type="text" class="form-input" id="new-episode-url" placeholder="https://example.com/episode1">
                    </div>
                </div>
                
                <button class="admin-btn" id="add-episode-btn" style="background: #2ed573;">–î–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä–∏—é</button>
                <button class="admin-btn" id="save-anime-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
                <button class="admin-btn remove-btn" id="delete-anime-btn">–£–¥–∞–ª–∏—Ç—å —Ç–∞–π—Ç–ª</button>
            </div>
        </div>
    </div>

    <!-- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ -->
    <div class="page" id="admin-comments-page">
        <div class="page-header">
            <div class="back-icon" data-back="admin-main">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15.41 16.59L10.83 12L15.41 7.41L14 6L8 12L14 18L15.41 16.59Z" fill="white"/>
                </svg>
            </div>
            <h2 class="page-title">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏</h2>
        </div>
        
        <div class="admin-container">
            <div class="admin-form">
                <div class="form-group">
                    <label class="form-label">–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</label>
                    <div class="banned-users" id="banned-users">
                        <!-- –°–ø–∏—Å–æ–∫ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">–Æ–∑–µ—Ä–Ω–µ–π–º –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏</label>
                        <input type="text" class="form-input" id="ban-username" placeholder="–í–≤–µ–¥–∏—Ç–µ @username">
                    </div>
                    <button class="admin-btn" id="ban-user-btn" style="margin-top: 24px;">–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å</button>
                </div>
            </div>
            
            <div class="comment-manage" id="comment-manage">
                <h3 class="section-title">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</h3>
                <!-- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
            </div>
        </div>
    </div>

    <!-- –û–≤–µ—Ä–ª–µ–π -->
    <div class="overlay" id="overlay"></div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
        const tg = window.Telegram.WebApp;
        tg.expand();
        
        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const elements = {
            avatar: document.getElementById('user-avatar'),
            menuAvatar: document.getElementById('menu-avatar'),
            menuUsername: document.getElementById('menu-username'),
            centerMenu: document.getElementById('center-menu'),
            detailPage: document.getElementById('detail-page'),
            overlay: document.getElementById('overlay'),
            searchPanel: document.getElementById('search-panel'),
            searchIcon: document.querySelector('.search-icon'),
            filters: document.getElementById('filters'),
            filterToggle: document.getElementById('filter-toggle'),
            bookmarkBtn: document.getElementById('bookmark-btn'),
            bookmarkMenu: document.getElementById('bookmark-menu'),
            featuredScroll: document.getElementById('featured-scroll'),
            dotsContainer: document.getElementById('dots-container'),
            animeList: document.getElementById('anime-list'),
            emptyState: document.getElementById('empty-state'),
            pages: {
                main: document.querySelector('.main-content'),
                profile: document.getElementById('profile-page'),
                bookmarks: document.getElementById('bookmarks-page'),
                theme: document.getElementById('theme-page'),
                adminLogin: document.getElementById('admin-login-page'),
                adminMain: document.getElementById('admin-main-page'),
                adminReleases: document.getElementById('admin-releases-page'),
                adminEdit: document.getElementById('admin-edit-page'),
                adminComments: document.getElementById('admin-comments-page')
            }
        };

        // –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ Telegram
        const user = tg.initDataUnsafe.user || {
            photo_url: 'https://via.placeholder.com/150',
            first_name: '–ê–Ω–æ–Ω–∏–º',
            username: 'telegram_user'
        };
        
        // –î–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–∑–∞–≥–ª—É—à–∫–∞, –≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –±—É–¥–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ API)
        let appData = {
            animeList: [],
            bookmarks: [],
            comments: [],
            bannedUsers: [],
            calendar: [],
            currentAnime: null,
            currentDay: null
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
        function initData() {
            // –ó–∞–≥–ª—É—à–∫–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –∞–Ω–∏–º–µ
            appData.animeList = [
                {
                    id: 1,
                    title: "–ü–æ–¥–Ω—è—Ç–∏–µ —É—Ä–æ–≤–Ω—è –≤ –æ–¥–∏–Ω–æ—á–∫—É",
                    engTitle: "Solo Leveling",
                    year: "2024",
                    description: "–î–µ—Å—è—Ç—å –ª–µ—Ç –Ω–∞–∑–∞–¥ —Ä–∞—Å–ø–∞—Ö–Ω—É–ª–∏—Å—å –í—Ä–∞—Ç–∞ –Ω–∞—à–µ–≥–æ –º–∏—Ä–∞ —Å –º–∏—Ä–æ–º –º–æ–Ω—Å—Ç—Ä–æ–≤. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–º —Å–º–µ—Ä—Ç–Ω—ã–º –±—ã–ª –¥–∞–Ω –¥–∞—Ä —É–Ω–∏—á—Ç–æ–∂–∞—Ç—å –º–æ–Ω—Å—Ç—Ä–æ–≤ –≤–Ω—É—Ç—Ä–∏ –í—Ä–∞—Ç. –¢–∞–∫–∏—Ö —Å–º–µ—Ä—Ç–Ω—ã—Ö –Ω–∞–∑–≤–∞–ª–∏ –æ—Ö–æ—Ç–Ω–∏–∫–∞–º–∏. –û–¥–Ω–∞–∫–æ –Ω–µ –≤—Å–µ –æ—Ö–æ—Ç–Ω–∏–∫–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–∏–ª—å–Ω—ã. –î–∂–∏–Ω-–í—É ‚Äì –æ—Ö–æ—Ç–Ω–∏–∫ —É—Ä–æ–≤–Ω—è –ï. –ü–∞—Ä–Ω—é –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è —Ä–∏—Å–∫–æ–≤–∞—Ç—å –∂–∏–∑–Ω—å—é –≤ —Ç–µ–º–Ω—ã—Ö –ø–æ–¥–∑–µ–º–µ–ª—å—è—Ö, –≤—ã–ø–æ–ª–Ω—è—è —Å–∞–º—ã–µ –Ω–µ–ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è. –î–µ–ª–æ –≤ —Ç–æ–º, —á—Ç–æ –æ—Ö–æ—Ç–Ω–∏–∫ –Ω–µ –∏–º–µ–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –∫–∞—á–µ—Å—Ç–≤ –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è, –ø–æ—ç—Ç–æ–º—É –æ–Ω –≤—ã–Ω—É–∂–¥–µ–Ω –≤—ã–ø–æ–ª–Ω—è—Ç—å —á–µ—Ä–Ω–æ–≤—É—é —Ä–∞–±–æ—Ç—É. –î–∂–∏–Ω-–í—É —Å–Ω–æ–≤–∞ –∏ —Å–Ω–æ–≤–∞ —Å–ø—É—Å–∫–∞–ª—Å—è –≤ –ø–æ–¥–∑–µ–º–µ–ª—å—è, —Å—Ä–∞–∂–∞—è—Å—å —Å –Ω–∏–∂–∞–π—à–∏–º–∏ –º–æ–Ω—Å—Ç—Ä–∞–º–∏, –ø–æ–∫–∞ –æ–¥–Ω–∞–∂–¥—ã –Ω–µ –∑–∞–±—Ä–µ–¥–¥–µ—Ç –≤ –ø–æ–¥–∑–µ–º–µ–ª—å–µ —É—Ä–æ–≤–Ω—è D. –ü—Ä–µ–±—ã–≤–∞–Ω–∏–µ –≤ —Å–ª–æ–∂–Ω–µ–π—à–µ–º –ø–æ–¥–∑–µ–º–µ–ª—å–µ –¥–∞—Ä–æ–≤–∞–ª–æ –ø–∞—Ä–Ω—é —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω—É—é",
                    genres: ["–≠–∫—à–µ–Ω", "–§—ç–Ω—Ç–µ–∑–∏", "–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏—è"],
                    season: "–ó–∏–º–∞ 2024",
                    voices: [
                        {name: "Familiar", link: "https://t.me/familiar"},
                        {name: "Kito", link: "https://t.me/kito"},
                        {name: "Hiyorikio", link: "https://t.me/hiyorikio"}
                    ],
                    timing: "GWUNBLAIDE",
                    status: "ongoing",
                    image: "https://i.imgur.com/OY7QK5o.jpeg",
                    thumbnail: "https://i.imgur.com/OY7QK5o.jpeg",
                    totalEpisodes: 12,
                    episodes: [
                        {number: 1, url: "https://example.com/episode1"},
                        {number: 2, url: "https://example.com/episode2"}
                    ],
                    rating: 4.8,
                    ratingCount: 1245,
                    ratingDistribution: [65, 20, 8, 4, 3],
                    releaseDay: "–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫"
                },
                {
                    id: 2,
                    title: "–î–Ω–∏ –°–∞–∫–æ–º–æ—Ç–æ",
                    engTitle: "Sakamoto desu ga?",
                    year: "2016",
                    description: "–î–Ω–∏ –°–∞–∫–æ–º–æ—Ç–æ (Sakamoto desu ga?) ‚Äì —ç—Ç–æ –∫–æ–º–µ–¥–∏–π–Ω–æ–µ –∞–Ω–∏–º–µ, —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—é—â–µ–µ –æ –∂–∏–∑–Ω–∏ —Å—Ç–∞—Ä—à–µ–∫–ª–∞—Å—Å–Ω–∏–∫–∞ –ø–æ –∏–º–µ–Ω–∏ –°–∞–∫–æ–º–æ—Ç–æ, –∫–æ—Ç–æ—Ä—ã–π, –∫–∞–∂–µ—Ç—Å—è, –æ–±–ª–∞–¥–∞–µ—Ç –±–µ–∑—É–ø—Ä–µ—á–Ω—ã–º —Å—Ç–∏–ª–µ–º –∏ –Ω–µ–≤–æ–∑–º—É—Ç–∏–º–æ—Å—Ç—å—é –≤ –ª—é–±–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏.",
                    genres: ["–ö–æ–º–µ–¥–∏—è", "–®–∫–æ–ª–∞"],
                    season: "–í–µ—Å–Ω–∞ 2016",
                    voices: [
                        {name: "Diaiver", link: "https://t.me/diaiver"},
                        {name: "Eezy", link: "https://t.me/eezy"}
                    ],
                    timing: "Lord of Emotions",
                    status: "completed",
                    image: "https://via.placeholder.com/1000x500/FF6B81/FFFFFF?text=–î–Ω–∏+–°–∞–∫–æ–º–æ—Ç–æ",
                    thumbnail: "https://via.placeholder.com/120x170/FF6B81/FFFFFF?text=–°–∞–∫–æ–º–æ—Ç–æ",
                    totalEpisodes: 12,
                    episodes: [
                        {number: 1, url: "https://example.com/sakamoto1"},
                        {number: 2, url: "https://example.com/sakamoto2"}
                    ],
                    rating: 4.5,
                    ratingCount: 890,
                    ratingDistribution: [50, 30, 10, 5, 5],
                    releaseDay: "–°—Ä–µ–¥–∞"
                },
                {
                    id: 3,
                    title: "–ú–æ—è –≥–µ—Ä–æ–π—Å–∫–∞—è –∞–∫–∞–¥–µ–º–∏—è",
                    engTitle: "My Hero Academia",
                    year: "2016",
                    description: "–í –º–∏—Ä–µ, –≥–¥–µ —Å—É–ø–µ—Ä—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å—Ç–∞–ª–∏ –æ–±—ã—á–Ω—ã–º —è–≤–ª–µ–Ω–∏–µ–º, –º–∞–ª—å—á–∏–∫ –±–µ–∑ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –º–µ—á—Ç–∞–µ—Ç —Å—Ç–∞—Ç—å –≥–µ—Ä–æ–µ–º. –û–Ω –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –∞–∫–∞–¥–µ–º–∏—é –¥–ª—è –≥–µ—Ä–æ–µ–≤, –≥–¥–µ —É—á–∏—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–æ–π —É–º –∏ –Ω–∞—Ö–æ–¥—á–∏–≤–æ—Å—Ç—å, —á—Ç–æ–±—ã –∫–æ–Ω–∫—É—Ä–∏—Ä–æ–≤–∞—Ç—å —Å —Ç–µ–º–∏, –∫—Ç–æ —Ä–æ–¥–∏–ª—Å—è —Å –æ—Å–æ–±–µ–Ω–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—è–º–∏.",
                    genres: ["–≠–∫—à–µ–Ω", "–°—É–ø–µ—Ä–≥–µ—Ä–æ–∏", "–®–∫–æ–ª–∞"],
                    season: "–í–µ—Å–Ω–∞ 2016",
                    voices: [
                        {name: "Vatavu", link: "https://t.me/vatavu"},
                        {name: "FSLB", link: "https://t.me/fslb"}
                    ],
                    timing: "ShiYori",
                    status: "ongoing",
                    image: "https://via.placeholder.com/1000x500/FF6B81/FFFFFF?text=–ì–µ—Ä–æ–π—Å–∫–∞—è+–∞–∫–∞–¥–µ–º–∏—è",
                    thumbnail: "https://via.placeholder.com/120x170/FF6B81/FFFFFF?text=–ì–µ—Ä–æ–π—Å–∫–∞—è",
                    totalEpisodes: 24,
                    episodes: [
                        {number: 1, url: "https://example.com/mha1"},
                        {number: 2, url: "https://example.com/mha2"}
                    ],
                    rating: 4.9,
                    ratingCount: 2100,
                    ratingDistribution: [70, 20, 5, 3, 2],
                    releaseDay: "–°—É–±–±–æ—Ç–∞"
                }
            ];
            
            // –ó–∞–≥–ª—É—à–∫–∞ —Å –∑–∞–∫–ª–∞–¥–∫–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            appData.bookmarks = [
                {animeId: 1, status: "planned", lastWatchedEpisode: 0},
                {animeId: 2, status: "watched", lastWatchedEpisode: 12}
            ];
            
            // –ó–∞–≥–ª—É—à–∫–∞ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
            appData.comments = [
                {
                    id: 1,
                    animeId: 1,
                    userId: user.id,
                    username: user.username,
                    avatar: user.photo_url,
                    text: "–û—Ç–ª–∏—á–Ω–æ–µ –∞–Ω–∏–º–µ! –ì—Ä–∞—Ñ–∏–∫–∞ –Ω–∞ –≤—ã—Å–æ—Ç–µ, —Å—é–∂–µ—Ç –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—â–∏–π, –ø–µ—Ä—Å–æ–Ω–∞–∂–∏ –ø—Ä–æ—Ä–∞–±–æ—Ç–∞–Ω—ã.",
                    date: "2 —á–∞—Å–∞ –Ω–∞–∑–∞–¥",
                    likes: 5,
                    dislikes: 0
                }
            ];
            
            // –ó–∞–≥–ª—É—à–∫–∞ —Å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
            appData.bannedUsers = ["spammer", "troll"];
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è
            initCalendar();
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è —Ä–µ–ª–∏–∑–æ–≤
        function initCalendar() {
            const daysOfWeek = ["–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫", "–í—Ç–æ—Ä–Ω–∏–∫", "–°—Ä–µ–¥–∞", "–ß–µ—Ç–≤–µ—Ä–≥", "–ü—è—Ç–Ω–∏—Ü–∞", "–°—É–±–±–æ—Ç–∞", "–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ"];
            const today = new Date();
            const currentDay = today.getDay() - 1; // 0-6 (–ü–Ω-–í—Å)
            
            appData.calendar = daysOfWeek.map(day => {
                return {
                    dayName: day,
                    date: getNextDayDate(day, today),
                    releases: appData.animeList.filter(anime => anime.releaseDay === day)
                };
            });
            
            appData.currentDay = currentDay >= 0 ? currentDay : 6; // –ï—Å–ª–∏ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ (0 –≤ JS), —Ç–æ 6 –≤ –Ω–∞—à–µ–º –º–∞—Å—Å–∏–≤–µ
        }
        
        // –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞—Ç—ã —Å–ª–µ–¥—É—é—â–µ–≥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –¥–Ω—è –Ω–µ–¥–µ–ª–∏
        function getNextDayDate(dayName, fromDate) {
            const days = ["–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫", "–í—Ç–æ—Ä–Ω–∏–∫", "–°—Ä–µ–¥–∞", "–ß–µ—Ç–≤–µ—Ä–≥", "–ü—è—Ç–Ω–∏—Ü–∞", "–°—É–±–±–æ—Ç–∞", "–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ"];
            const dayIndex = days.indexOf(dayName);
            const resultDate = new Date(fromDate);
            
            resultDate.setDate(fromDate.getDate() + (dayIndex - fromDate.getDay() + 7) % 7);
            return resultDate;
        }
        
        // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function setupUserData() {
            elements.avatar.src = user.photo_url;
            elements.menuAvatar.src = user.photo_url;
            elements.menuUsername.textContent = `@${user.username}`;
            
            // –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
            document.getElementById('profile-avatar').src = user.photo_url;
            document.getElementById('profile-name').textContent = user.first_name;
            document.getElementById('profile-username').textContent = `@${user.username}`;
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–æ–≤ –ø—Ä–æ—Ñ–∏–ª—è
            updateProfileCounters();
            
            // –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
            updateLastActivity();
            
            // –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –∂–∞–Ω—Ä–æ–≤
            updateFavoriteGenres();
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–æ–≤ –ø—Ä–æ—Ñ–∏–ª—è
        function updateProfileCounters() {
            const watchedCount = appData.bookmarks.filter(b => b.status === 'watched').length;
            const plannedCount = appData.bookmarks.filter(b => b.status === 'planned').length;
            const commentsCount = appData.comments.filter(c => c.userId === user.id).length;
            
            document.getElementById('watched-count').textContent = watchedCount;
            document.getElementById('planned-count').textContent = plannedCount;
            document.getElementById('comments-count').textContent = commentsCount;
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
        function updateLastActivity() {
            const lastActivity = document.getElementById('last-activity');
            lastActivity.innerHTML = '';
            
            const userComments = appData.comments
                .filter(c => c.userId === user.id)
                .sort((a, b) => new Date(b.date) - new Date(a.date))
                .slice(0, 3);
            
            if (userComments.length === 0) {
                lastActivity.innerHTML = '<p>–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞</p>';
                return;
            }
            
            userComments.forEach(comment => {
                const anime = appData.animeList.find(a => a.id === comment.animeId);
                if (!anime) return;
                
                const commentEl = document.createElement('div');
                commentEl.className = 'comment';
                commentEl.innerHTML = `
                    <div class="comment-header">
                        <img src="${comment.avatar}" class="comment-avatar" alt="–ê–≤–∞—Ç–∞—Ä">
                        <div>
                            <div class="comment-user">–í—ã</div>
                            <div class="comment-date">${comment.date}</div>
                        </div>
                    </div>
                    <div class="comment-text">
                        <strong>${anime.title}</strong><br>
                        ${comment.text}
                    </div>
                    <div class="comment-actions">
                        <div class="comment-action">üëç ${comment.likes}</div>
                        <div class="comment-action">üëé ${comment.dislikes}</div>
                    </div>
                `;
                
                lastActivity.appendChild(commentEl);
            });
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –∂–∞–Ω—Ä–æ–≤
        function updateFavoriteGenres() {
            const favoriteGenres = document.getElementById('favorite-genres');
            favoriteGenres.innerHTML = '';
            
            // –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –∂–∞–Ω—Ä—ã –∏–∑ –∑–∞–∫–ª–∞–¥–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            const userAnimeIds = appData.bookmarks.map(b => b.animeId);
            const userAnime = appData.animeList.filter(a => userAnimeIds.includes(a.id));
            
            const allGenres = userAnime.flatMap(a => a.genres);
            const genreCounts = {};
            
            allGenres.forEach(genre => {
                genreCounts[genre] = (genreCounts[genre] || 0) + 1;
            });
            
            // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏ –∏ –±–µ—Ä–µ–º —Ç–æ–ø-4
            const topGenres = Object.entries(genreCounts)
                .sort((a, b) => b[1] - a[1])
                .slice(0, 4)
                .map(g => g[0]);
            
            topGenres.forEach(genre => {
                const tag = document.createElement('span');
                tag.className = 'genre-tag';
                tag.textContent = genre;
                favoriteGenres.appendChild(tag);
            });
            
            if (topGenres.length === 0) {
                favoriteGenres.innerHTML = '<p>–ò–∑–±—Ä–∞–Ω–Ω—ã–µ –∂–∞–Ω—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>';
            }
        }
        
        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∞–Ω–∏–º–µ
        function renderAnimeList() {
            const animeList = document.getElementById('anime-list');
            animeList.innerHTML = '';
            
            if (appData.animeList.length === 0) {
                elements.emptyState.style.display = 'block';
                return;
            }
            
            elements.emptyState.style.display = 'none';
            
            appData.animeList.forEach(anime => {
                const bookmark = appData.bookmarks.find(b => b.animeId === anime.id);
                const status = bookmark ? bookmark.status : null;
                
                const card = document.createElement('div');
                card.className = 'anime-card';
                card.dataset.id = anime.id;
                
                card.innerHTML = `
                    <img src="${anime.thumbnail}" class="anime-poster" alt="${anime.title}">
                    <div class="anime-content">
                        <h3 class="anime-title">${anime.title}</h3>
                        <div class="anime-genre">
                            ${anime.genres.map(genre => `<span class="genre-tag">${genre}</span>`).join('')}
                        </div>
                        <div class="anime-description">
                            ${anime.description.substring(0, 100)}...
                        </div>
                        ${status ? `<div class="anime-description"><span class="featured-rating">${getStatusText(status)}</span></div>` : ''}
                        <button class="watch-btn">–°–º–æ—Ç—Ä–µ—Ç—å</button>
                    </div>
                `;
                
                animeList.appendChild(card);
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫
            document.querySelectorAll('.anime-card').forEach(card => {
                card.addEventListener('click', (e) => {
                    if (e.target.classList.contains('watch-btn')) {
                        const animeId = parseInt(card.dataset.id);
                        showAnimeDetails(animeId);
                        showEpisodesTab();
                    } else {
                        const animeId = parseInt(card.dataset.id);
                        showAnimeDetails(animeId);
                    }
                });
            });
        }
        
        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ featured-–∞–Ω–∏–º–µ (–∫–∞–ª–µ–Ω–¥–∞—Ä—å –Ω–∞ —Å–µ–≥–æ–¥–Ω—è)
        function renderFeaturedAnime() {
            const featuredScroll = document.getElementById('featured-scroll');
            const dotsContainer = document.getElementById('dots-container');
            
            featuredScroll.innerHTML = '';
            dotsContainer.innerHTML = '';
            
            const todayReleases = appData.calendar[appData.currentDay].releases;
            
            if (todayReleases.length === 0) {
                featuredScroll.innerHTML = '<div class="empty-text">–°–µ–≥–æ–¥–Ω—è –Ω–µ—Ç —Ä–µ–ª–∏–∑–æ–≤</div>';
                return;
            }
            
            todayReleases.forEach((anime, index) => {
                const card = document.createElement('div');
                card.className = 'featured-card';
                
                card.innerHTML = `
                    <img src="${anime.image}" alt="${anime.title}">
                    <div class="status-badge">${getStatusText(anime.status)}</div>
                    <div class="featured-info">
                        <div class="featured-title">${anime.title}</div>
                        <div class="featured-rating">‚òÖ ${anime.rating}</div>
                    </div>
                `;
                
                featuredScroll.appendChild(card);
                
                // –î–æ–±–∞–≤–ª—è–µ–º —Ç–æ—á–∫—É
                const dot = document.createElement('div');
                dot.className = 'dot' + (index === 0 ? ' active' : '');
                dot.addEventListener('click', () => scrollToCard(index));
                dotsContainer.appendChild(dot);
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫
            document.querySelectorAll('.featured-card').forEach(card => {
                card.addEventListener('click', () => {
                    const animeTitle = card.querySelector('.featured-title').textContent;
                    const anime = appData.animeList.find(a => a.title === animeTitle);
                    if (anime) showAnimeDetails(anime.id);
                });
            });
        }
        
        // –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —Å—Ç–∞—Ç—É—Å–∞
        function getStatusText(status) {
            switch (status) {
                case 'planned': return '–û–∂–∏–¥–∞–µ—Ç—Å—è';
                case 'ongoing': return '–í—ã—Ö–æ–¥–∏—Ç';
                case 'completed': return '–ó–∞–≤–µ—Ä—à–µ–Ω';
                case 'watched': return '–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ';
                case 'dropped': return '–ë—Ä–æ—à–µ–Ω–æ';
                case 'favorite': return '–õ—é–±–∏–º–æ–µ';
                default: return status;
            }
        }
        
        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π –∞–Ω–∏–º–µ
        function showAnimeDetails(animeId) {
            const anime = appData.animeList.find(a => a.id === animeId);
            if (!anime) return;
            
            appData.currentAnime = anime;
            
            // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
            document.getElementById('detail-bg').style.backgroundImage = `url(${anime.image})`;
            document.getElementById('detail-cover').src = anime.thumbnail;
            
            // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
            document.getElementById('detail-title').textContent = anime.title;
            document.getElementById('detail-year').textContent = anime.year;
            document.getElementById('detail-eng-title').textContent = anime.engTitle;
            document.getElementById('episodes-count').textContent = `${anime.episodes.length} –∏–∑ ${anime.totalEpisodes}`;
            document.getElementById('detail-genres').innerHTML = anime.genres.map(g => `<span class="tag">${g}</span>`).join('');
            document.getElementById('detail-season').textContent = anime.season;
            document.getElementById('detail-voices').innerHTML = anime.voices.map(v => 
                `<a href="${v.link}" class="voice-tag" target="_blank">${v.name}</a>`
            ).join('');
            document.getElementById('detail-timing').textContent = anime.timing;
            document.getElementById('detail-status').textContent = getStatusText(anime.status);
            document.getElementById('detail-description').textContent = anime.description;
            
            // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞
            document.getElementById('rating-value').textContent = anime.rating;
            document.getElementById('rating-count').textContent = `–ù–∞ –æ—Å–Ω–æ–≤–µ ${anime.ratingCount} –æ—Ü–µ–Ω–æ–∫`;
            
            // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –≥—Ä–∞—Ñ–∏–∫–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞
            renderRatingChart(anime.ratingDistribution);
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–∫–ª–∞–¥–∫–∏
            const bookmark = appData.bookmarks.find(b => b.animeId === anime.id);
            const bookmarkBtn = document.getElementById('bookmark-btn');
            if (bookmark) {
                bookmarkBtn.querySelector('path').setAttribute('fill', '#FF6B81');
            } else {
                bookmarkBtn.querySelector('path').setAttribute('fill', 'white');
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–µ—Ç–∞–ª–µ–π
            elements.detailPage.classList.add('active');
        }
        
        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞
        function renderRatingChart(distribution) {
            const chartContainer = document.getElementById('rating-chart');
            chartContainer.innerHTML = '';
            
            for (let i = 5; i >= 1; i--) {
                const row = document.createElement('div');
                row.className = 'chart-row';
                
                row.innerHTML = `
                    <div class="chart-label">${i}‚òÖ</div>
                    <div class="chart-bar-container">
                        <div class="chart-bar" style="width: ${distribution[5-i]}%"></div>
                    </div>
                    <div class="chart-value">${distribution[5-i]}%</div>
                `;
                
                chartContainer.appendChild(row);
            }
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å –≤–∫–ª–∞–¥–∫—É —Å —Å–µ—Ä–∏—è–º–∏
        function showEpisodesTab() {
            const anime = appData.currentAnime;
            if (!anime) return;
            
            const episodesList = document.getElementById('episodes-list');
            episodesList.innerHTML = '';
            
            anime.episodes.forEach(ep => {
                const episodeItem = document.createElement('div');
                episodeItem.className = 'episode-item';
                episodeItem.innerHTML = `–°–µ—Ä–∏—è ${ep.number}`;
                episodeItem.addEventListener('click', () => {
                    tg.openTelegramLink(ep.url);
                });
                
                episodesList.appendChild(episodeItem);
            });
            
            // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –≤–∫–ª–∞–¥–∫—É —Å —Å–µ—Ä–∏—è–º–∏
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            document.querySelector('.tab[data-tab="episodes"]').classList.add('active');
            document.getElementById('episodes-content').classList.add('active');
        }
        
        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–∫–ª–∞–¥–æ–∫
        function renderBookmarks(statusFilter = 'all') {
            const bookmarksList = document.getElementById('bookmarks-list');
            bookmarksList.innerHTML = '';
            
            const filteredBookmarks = statusFilter === 'all' 
                ? appData.bookmarks 
                : appData.bookmarks.filter(b => b.status === statusFilter);
            
            if (filteredBookmarks.length === 0) {
                bookmarksList.innerHTML = '<div class="empty-text">–ó–∞–∫–ª–∞–¥–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</div>';
                return;
            }
            
            filteredBookmarks.forEach(bookmark => {
                const anime = appData.animeList.find(a => a.id === bookmark.animeId);
                if (!anime) return;
                
                const card = document.createElement('div');
                card.className = 'anime-card';
                card.dataset.id = anime.id;
                
                card.innerHTML = `
                    <img src="${anime.thumbnail}" class="anime-poster" alt="${anime.title}">
                    <div class="anime-content">
                        <h3 class="anime-title">${anime.title}</h3>
                        <div class="anime-genre">
                            ${anime.genres.map(genre => `<span class="genre-tag">${genre}</span>`).join('')}
                        </div>
                        <div class="anime-description">
                            –°—Ç–∞—Ç—É—Å: <span class="featured-rating">${getStatusText(bookmark.status)}</span>
                        </div>
                        <button class="watch-btn">
                            ${bookmark.status === 'watched' ? '–ü–µ—Ä–µ—Å–º–æ—Ç—Ä–µ—Ç—å' : 
                              bookmark.status === 'planned' ? '–ù–∞—á–∞—Ç—å —Å–º–æ—Ç—Ä–µ—Ç—å' : 
                              '–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å'}
                        </button>
                    </div>
                `;
                
                bookmarksList.appendChild(card);
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫
            document.querySelectorAll('#bookmarks-list .anime-card').forEach(card => {
                card.addEventListener('click', (e) => {
                    if (e.target.classList.contains('watch-btn')) {
                        const animeId = parseInt(card.dataset.id);
                        showAnimeDetails(animeId);
                        showEpisodesTab();
                    } else {
                        const animeId = parseInt(card.dataset.id);
                        showAnimeDetails(animeId);
                    }
                });
            });
        }
        
        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞–ª–µ–Ω–¥–∞—Ä—è —Ä–µ–ª–∏–∑–æ–≤ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
        function renderAdminCalendar() {
            const calendarDays = document.getElementById('calendar-days');
            const calendarReleases = document.getElementById('calendar-releases');
            
            calendarDays.innerHTML = '';
            calendarReleases.innerHTML = '';
            
            appData.calendar.forEach((day, index) => {
                const dayEl = document.createElement('div');
                dayEl.className = `calendar-day ${index === appData.currentDay ? 'active' : ''}`;
                dayEl.innerHTML = `
                    <div class="calendar-day-name">${day.dayName}</div>
                    <div class="calendar-day-date">${day.date.getDate()}</div>
                `;
                
                dayEl.addEventListener('click', () => {
                    appData.currentDay = index;
                    renderAdminCalendar();
                });
                
                calendarDays.appendChild(dayEl);
            });
            
            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ä–µ–ª–∏–∑—ã –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –¥–Ω—è
            const currentDayData = appData.calendar[appData.currentDay];
            if (currentDayData.releases.length === 0) {
                calendarReleases.innerHTML = '<div class="empty-text">–ù–µ—Ç —Ä–µ–ª–∏–∑–æ–≤ –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –¥–µ–Ω—å</div>';
                return;
            }
            
            currentDayData.releases.forEach(anime => {
                const releaseEl = document.createElement('div');
                releaseEl.className = 'anime-card';
                releaseEl.innerHTML = `
                    <img src="${anime.thumbnail}" class="anime-poster" alt="${anime.title}">
                    <div class="anime-content">
                        <h3 class="anime-title">${anime.title}</h3>
                        <div class="anime-genre">
                            ${anime.genres.map(g => `<span class="genre-tag">${g}</span>`).join('')}
                        </div>
                        <div class="anime-description">
                            –°–µ—Ä–∏–π: ${anime.episodes.length} –∏–∑ ${anime.totalEpisodes}<br>
                            –°—Ç–∞—Ç—É—Å: <span class="featured-rating">${getStatusText(anime.status)}</span>
                        </div>
                        <button class="watch-btn" data-action="edit" data-id="${anime.id}">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                    </div>
                `;
                
                calendarReleases.appendChild(releaseEl);
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
            document.querySelectorAll('[data-action="edit"]').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const animeId = parseInt(btn.dataset.id);
                    navigateTo('adminEdit');
                    loadAnimeForEdit(animeId);
                });
            });
        }
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∞–Ω–∏–º–µ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        function loadAnimeForEdit(animeId) {
            const anime = appData.animeList.find(a => a.id === animeId);
            if (!anime) return;
            
            document.getElementById('anime-title').value = anime.title;
            document.getElementById('anime-eng-title').value = anime.engTitle;
            document.getElementById('anime-year').value = anime.year;
            document.getElementById('anime-status').value = anime.status;
            document.getElementById('anime-description').value = anime.description;
            document.getElementById('anime-genres').value = anime.genres.join(', ');
            document.getElementById('anime-season').value = anime.season;
            document.getElementById('anime-voices').value = anime.voices.map(v => `${v.name}:${v.link}`).join(', ');
            document.getElementById('anime-timing').value = anime.timing;
            document.getElementById('anime-image').value = anime.image;
            document.getElementById('anime-thumbnail').value = anime.thumbnail;
            document.getElementById('anime-total-episodes').value = anime.totalEpisodes;
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–µ—Ä–∏–π
            const episodesContainer = document.getElementById('episodes-container');
            episodesContainer.innerHTML = '';
            
            anime.episodes.forEach(ep => {
                const episodeEl = document.createElement('div');
                episodeEl.className = 'form-group';
                episodeEl.innerHTML = `
                    <label class="form-label">–°–µ—Ä–∏—è ${ep.number}</label>
                    <input type="text" class="form-input" value="${ep.url}" data-number="${ep.number}">
                    <div class="episode-controls">
                        <button class="admin-btn" data-action="save-episode" data-number="${ep.number}">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                        <button class="admin-btn remove-btn" data-action="remove-episode" data-number="${ep.number}">–£–¥–∞–ª–∏—Ç—å</button>
                    </div>
                `;
                
                episodesContainer.appendChild(episodeEl);
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–∏—è–º–∏
            document.querySelectorAll('[data-action="save-episode"]').forEach(btn => {
                btn.addEventListener('click', () => {
                    const number = parseInt(btn.dataset.number);
                    const url = document.querySelector(`input[data-number="${number}"]`).value;
                    saveEpisode(number, url);
                });
            });
            
            document.querySelectorAll('[data-action="remove-episode"]').forEach(btn => {
                btn.addEventListener('click', () => {
                    const number = parseInt(btn.dataset.number);
                    removeEpisode(number);
                });
            });
        }
        
        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Ä–∏–∏
        function saveEpisode(number, url) {
            if (!appData.currentAnime) return;
            
            const episodeIndex = appData.currentAnime.episodes.findIndex(ep => ep.number === number);
            
            if (episodeIndex >= 0) {
                appData.currentAnime.episodes[episodeIndex].url = url;
            } else {
                appData.currentAnime.episodes.push({number, url});
            }
            
            alert('–°–µ—Ä–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞');
        }
        
        // –£–¥–∞–ª–µ–Ω–∏–µ —Å–µ—Ä–∏–∏
        function removeEpisode(number) {
            if (!appData.currentAnime) return;
            
            appData.currentAnime.episodes = appData.currentAnime.episodes.filter(ep => ep.number !== number);
            loadAnimeForEdit(appData.currentAnime.id);
            alert('–°–µ—Ä–∏—è —É–¥–∞–ª–µ–Ω–∞');
        }
        
        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        function renderBannedUsers() {
            const bannedUsersContainer = document.getElementById('banned-users');
            bannedUsersContainer.innerHTML = '';
            
            if (appData.bannedUsers.length === 0) {
                bannedUsersContainer.innerHTML = '<p>–ù–µ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</p>';
                return;
            }
            
            appData.bannedUsers.forEach(username => {
                const userEl = document.createElement('div');
                userEl.className = 'banned-user';
                userEl.innerHTML = `
                    <div class="banned-username">@${username}</div>
                    <button class="unban-btn" data-username="${username}">–†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å</button>
                `;
                
                bannedUsersContainer.appendChild(userEl);
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
            document.querySelectorAll('.unban-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const username = btn.dataset.username;
                    unbanUser(username);
                });
            });
        }
        
        // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function banUser(username) {
            if (!username.startsWith('@')) {
                username = '@' + username;
            }
            
            if (appData.bannedUsers.includes(username)) {
                alert('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω');
                return;
            }
            
            appData.bannedUsers.push(username);
            renderBannedUsers();
            alert(`–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ${username} –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω`);
        }
        
        // –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function unbanUser(username) {
            appData.bannedUsers = appData.bannedUsers.filter(u => u !== username);
            renderBannedUsers();
            alert(`–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ${username} —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω`);
        }
        
        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
        function renderCommentsForManage() {
            const commentsContainer = document.getElementById('comment-manage');
            commentsContainer.innerHTML = '';
            
            if (appData.comments.length === 0) {
                commentsContainer.innerHTML = '<p>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>';
                return;
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
            const recentComments = [...appData.comments].reverse().slice(0, 10);
            
            recentComments.forEach(comment => {
                const anime = appData.animeList.find(a => a.id === comment.animeId);
                if (!anime) return;
                
                const commentEl = document.createElement('div');
                commentEl.className = 'comment-item';
                commentEl.innerHTML = `
                    <div class="comment-meta">
                        <div class="comment-user-info">
                            <img src="${comment.avatar}" class="comment-avatar" alt="–ê–≤–∞—Ç–∞—Ä">
                            <div>
                                <div class="comment-user">${comment.username}</div>
                                <div class="comment-date">${comment.date}</div>
                            </div>
                        </div>
                        <div class="comment-actions-admin">
                            <button class="delete-comment-btn" data-id="${comment.id}">–£–¥–∞–ª–∏—Ç—å</button>
                            ${appData.bannedUsers.includes(comment.username) ? '' : 
                              `<button class="admin-btn" data-action="ban" data-username="${comment.username}">–ë–ª–æ–∫</button>`}
                        </div>
                    </div>
                    <div class="comment-text">
                        <strong>${anime.title}</strong><br>
                        ${comment.text}
                    </div>
                `;
                
                commentsContainer.appendChild(commentEl);
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
            document.querySelectorAll('.delete-comment-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const commentId = parseInt(btn.dataset.id);
                    deleteComment(commentId);
                });
            });
            
            document.querySelectorAll('[data-action="ban"]').forEach(btn => {
                btn.addEventListener('click', () => {
                    const username = btn.dataset.username;
                    banUser(username);
                });
            });
        }
        
        // –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
        function deleteComment(commentId) {
            appData.comments = appData.comments.filter(c => c.id !== commentId);
            renderCommentsForManage();
            alert('–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —É–¥–∞–ª–µ–Ω');
        }
        
        // –ù–∞–≤–∏–≥–∞—Ü–∏—è
        function navigateTo(pageId) {
            // –°–∫—Ä—ã—Ç—å –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            Object.values(elements.pages).forEach(page => {
                page.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑–∞—Ç—å —Ü–µ–ª–µ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
            if (elements.pages[pageId]) {
                elements.pages[pageId].classList.add('active');
                
                // –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤—ã–ø–æ–ª–Ω—è–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
                switch (pageId) {
                    case 'bookmarks':
                        renderBookmarks();
                        break;
                    case 'adminReleases':
                        renderAdminCalendar();
                        break;
                    case 'adminComments':
                        renderBannedUsers();
                        renderCommentsForManage();
                        break;
                }
            }
            
            // –°–∫—Ä—ã—Ç—å –æ–≤–µ—Ä–ª–µ–π –∏ –º–µ–Ω—é
            elements.overlay.classList.remove('active');
            elements.centerMenu.classList.remove('active');
            elements.searchPanel.classList.remove('active');
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ—á–µ–∫ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∞
        function updateDots() {
            const scrollLeft = elements.featuredScroll.scrollLeft;
            const cardWidth = elements.featuredScroll.querySelector('.featured-card')?.offsetWidth || 0;
            if (cardWidth === 0) return;
            
            const activeIndex = Math.round(scrollLeft / cardWidth);
            
            elements.dotsContainer.querySelectorAll('.dot').forEach((dot, index) => {
                dot.classList.toggle('active', index === activeIndex);
            });
        }

        // –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –∫–∞—Ä—Ç–æ—á–∫–µ
        function scrollToCard(index) {
            const cardWidth = elements.featuredScroll.querySelector('.featured-card')?.offsetWidth || 0;
            if (cardWidth === 0) return;
            
            elements.featuredScroll.scrollTo({
                left: cardWidth * index,
                behavior: 'smooth'
            });
        }
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–π —Ç–µ–º—ã
        function loadTheme() {
            const savedTheme = localStorage.getItem('theme') || 'classic';
            document.body.className = savedTheme + '-theme';
            
            // –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –∫–Ω–æ–ø–∫—É
            document.querySelectorAll('.theme-option').forEach(option => {
                if (option.dataset.theme === savedTheme) {
                    option.classList.add('active');
                } else {
                    option.classList.remove('active');
                }
            });
        }
        
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
        function setupEventListeners() {
            // –ê–≤–∞—Ç–∞—Ä–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            elements.avatar.addEventListener('click', () => {
                elements.centerMenu.classList.toggle('active');
                elements.overlay.classList.toggle('active');
            });
            
            // –ò–∫–æ–Ω–∫–∞ –ø–æ–∏—Å–∫–∞
            elements.searchIcon.addEventListener('click', () => {
                elements.searchPanel.classList.toggle('active');
                elements.overlay.classList.toggle('active');
            });
            
            // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤
            elements.filterToggle.addEventListener('click', () => {
                elements.filterToggle.classList.toggle('active');
                elements.filters.classList.toggle('active');
            });
            
            // –ö–Ω–æ–ø–∫–∞ –∑–∞–∫–ª–∞–¥–∫–∏
            elements.bookmarkBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                elements.bookmarkMenu.classList.toggle('active');
            });
            
            // –í—ã–±–æ—Ä —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–ª–∞–¥–∫–∏
            document.querySelectorAll('.bookmark-option').forEach(option => {
                option.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const status = option.dataset.status;
                    
                    if (!appData.currentAnime) return;
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –∑–∞–∫–ª–∞–¥–∫–∏
                    const existingIndex = appData.bookmarks.findIndex(b => b.animeId === appData.currentAnime.id);
                    
                    if (existingIndex >= 0) {
                        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∑–∞–∫–ª–∞–¥–∫—É
                        appData.bookmarks[existingIndex].status = status;
                    } else {
                        // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é –∑–∞–∫–ª–∞–¥–∫—É
                        appData.bookmarks.push({
                            animeId: appData.currentAnime.id,
                            status: status,
                            lastWatchedEpisode: 0
                        });
                    }
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫–∏ –≤ –ø—Ä–æ—Ñ–∏–ª–µ
                    updateProfileCounters();
                    
                    // –ò–∑–º–µ–Ω—è–µ–º –∏–∫–æ–Ω–∫—É –∑–∞–∫–ª–∞–¥–∫–∏
                    const bookmarkIcon = elements.bookmarkBtn.querySelector('svg path');
                    bookmarkIcon.setAttribute('fill', '#FF6B81');
                    
                    elements.bookmarkMenu.classList.remove('active');
                });
            });
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–µ–Ω—é –∑–∞–∫–ª–∞–¥–æ–∫ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
            document.addEventListener('click', () => {
                elements.bookmarkMenu.classList.remove('active');
            });
            
            // –ö–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥ –≤ –¥–µ—Ç–∞–ª—è—Ö
            document.querySelector('.back-btn').addEventListener('click', () => {
                elements.detailPage.classList.remove('active');
            });
            
            // –í–∫–ª–∞–¥–∫–∏
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    
                    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤–∫–ª–∞–¥–æ–∫
                    document.querySelectorAll('.tab-content').forEach(content => {
                        content.classList.remove('active');
                    });
                    document.getElementById(`${tab.dataset.tab}-content`).classList.add('active');
                });
            });
            
            // –§–∏–ª—å—Ç—Ä—ã
            document.querySelectorAll('.filter-option').forEach(option => {
                option.addEventListener('click', () => {
                    option.classList.toggle('active');
                });
            });
            
            // –û–≤–µ—Ä–ª–µ–π
            elements.overlay.addEventListener('click', () => {
                elements.centerMenu.classList.remove('active');
                elements.searchPanel.classList.remove('active');
                elements.overlay.classList.remove('active');
            });
            
            // –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª —Å —Ç–æ—á–∫–∞–º–∏
            elements.featuredScroll.addEventListener('scroll', () => {
                updateDots();
            });
            
            // –§–∏–ª—å—Ç—Ä—ã –∑–∞–∫–ª–∞–¥–æ–∫
            document.querySelectorAll('.bookmark-filter').forEach(filter => {
                filter.addEventListener('click', () => {
                    document.querySelectorAll('.bookmark-filter').forEach(f => f.classList.remove('active'));
                    filter.classList.add('active');
                    
                    const status = filter.dataset.status;
                    renderBookmarks(status);
                });
            });
            
            // –ù–∞–≤–∏–≥–∞—Ü–∏—è –≤ –º–µ–Ω—é
            document.querySelectorAll('.menu-items li').forEach(item => {
                item.addEventListener('click', () => {
                    const pageId = item.dataset.page;
                    navigateTo(pageId);
                });
            });
            
            // –ö–Ω–æ–ø–∫–∏ "–Ω–∞–∑–∞–¥"
            document.querySelectorAll('.back-icon').forEach(btn => {
                btn.addEventListener('click', () => {
                    const targetPage = btn.dataset.back;
                    navigateTo(targetPage);
                });
            });
            
            // –í—ã–±–æ—Ä —Ç–µ–º—ã
            document.querySelectorAll('.theme-option').forEach(option => {
                option.addEventListener('click', () => {
                    // –£–¥–∞–ª–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö
                    document.querySelectorAll('.theme-option').forEach(opt => {
                        opt.classList.remove('active');
                    });
                    
                    // –î–æ–±–∞–≤–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Ç–µ–∫—É—â–µ–º—É
                    option.classList.add('active');
                    
                    // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–º—É
                    const theme = option.dataset.theme;
                    document.body.className = theme + '-theme';
                    
                    // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—ã–±–æ—Ä
                    localStorage.setItem('theme', theme);
                });
            });
            
            // –í—Ö–æ–¥ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
            document.getElementById('admin-login-btn').addEventListener('click', () => {
                const login = document.getElementById('admin-login').value;
                const password = document.getElementById('admin-password').value;
                
                if (login === 'DiZav' && password === 'Z@vD1love') {
                    navigateTo('adminMain');
                } else {
                    alert('–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å!');
                }
            });
            
            // –ù–∞–≤–∏–≥–∞—Ü–∏—è –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
            document.querySelectorAll('.admin-menu-item').forEach(item => {
                item.addEventListener('click', () => {
                    const pageId = item.dataset.page;
                    navigateTo(pageId);
                });
            });
            
            // –ö–Ω–æ–ø–∫–∞ "–°–º–æ—Ç—Ä–µ—Ç—å" –≤ –¥–µ—Ç–∞–ª—è—Ö
            document.getElementById('watch-btn').addEventListener('click', () => {
                showEpisodesTab();
            });
            
            // –ö–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ –Ω–µ–¥–µ–ª—è–º –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ
            document.getElementById('prev-week').addEventListener('click', () => {
                // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥—ã–¥—É—â–µ–π –Ω–µ–¥–µ–ª–∏
                alert('–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥—ã–¥—É—â–µ–π –Ω–µ–¥–µ–ª–∏');
            });
            
            document.getElementById('next-week').addEventListener('click', () => {
                // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å–ª–µ–¥—É—é—â–µ–π –Ω–µ–¥–µ–ª–∏
                alert('–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å–ª–µ–¥—É—é—â–µ–π –Ω–µ–¥–µ–ª–∏');
            });
            
            // –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–µ–ª–∏–∑–∞
            document.getElementById('add-release-btn').addEventListener('click', () => {
                navigateTo('adminEdit');
                // –°–±—Ä–æ—Å —Ñ–æ—Ä–º—ã –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ç–∞–π—Ç–ª–∞
                document.getElementById('anime-title').value = '';
                document.getElementById('anime-eng-title').value = '';
                document.getElementById('anime-year').value = '';
                document.getElementById('anime-status').value = 'planned';
                document.getElementById('anime-description').value = '';
                document.getElementById('anime-genres').value = '';
                document.getElementById('anime-season').value = '';
                document.getElementById('anime-voices').value = '';
                document.getElementById('anime-timing').value = '';
                document.getElementById('anime-image').value = '';
                document.getElementById('anime-thumbnail').value = '';
                document.getElementById('anime-total-episodes').value = '';
                document.getElementById('episodes-container').innerHTML = '';
            });
            
            // –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–∏–∏
            document.getElementById('add-episode-btn').addEventListener('click', () => {
                const number = parseInt(document.getElementById('new-episode-number').value);
                const url = document.getElementById('new-episode-url').value;
                
                if (!number || !url) {
                    alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–æ–º–µ—Ä —Å–µ—Ä–∏–∏ –∏ URL');
                    return;
                }
                
                saveEpisode(number, url);
                loadAnimeForEdit(appData.currentAnime.id);
                
                // –û—á–∏—â–∞–µ–º –ø–æ–ª—è
                document.getElementById('new-episode-number').value = '';
                document.getElementById('new-episode-url').value = '';
            });
            
            // –ö–Ω–æ–ø–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–∞–π—Ç–ª–∞
            document.getElementById('save-anime-btn').addEventListener('click', () => {
                // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
                alert('–ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã');
            });
            
            // –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è —Ç–∞–π—Ç–ª–∞
            document.getElementById('delete-anime-btn').addEventListener('click', () => {
                if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Ç–∞–π—Ç–ª?')) {
                    // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–∏–µ
                    alert('–¢–∞–π—Ç–ª —É–¥–∞–ª–µ–Ω');
                    navigateTo('adminReleases');
                }
            });
            
            // –ö–Ω–æ–ø–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            document.getElementById('ban-user-btn').addEventListener('click', () => {
                const username = document.getElementById('ban-username').value.trim();
                if (!username) {
                    alert('–í–≤–µ–¥–∏—Ç–µ —é–∑–µ—Ä–Ω–µ–π–º');
                    return;
                }
                
                banUser(username);
                document.getElementById('ban-username').value = '';
            });
            
            // –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
            document.getElementById('comment-submit').addEventListener('click', () => {
                const commentText = document.getElementById('comment-input').value.trim();
                if (!commentText) {
                    alert('–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è');
                    return;
                }
                
                if (!appData.currentAnime) {
                    alert('–û—à–∏–±–∫–∞: –Ω–µ –≤—ã–±—Ä–∞–Ω —Ç–∞–π—Ç–ª');
                    return;
                }
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫—É
                if (appData.bannedUsers.includes(user.username)) {
                    alert('–í—ã –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –∏ –Ω–µ –º–æ–∂–µ—Ç–µ –æ—Å—Ç–∞–≤–ª—è—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏');
                    return;
                }
                
                // –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
                const newComment = {
                    id: Date.now(),
                    animeId: appData.currentAnime.id,
                    userId: user.id,
                    username: user.username,
                    avatar: user.photo_url,
                    text: commentText,
                    date: '–¢–æ–ª—å–∫–æ —á—Ç–æ',
                    likes: 0,
                    dislikes: 0
                };
                
                appData.comments.push(newComment);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –≤ –ø—Ä–æ—Ñ–∏–ª–µ
                updateProfileCounters();
                
                // –û—á–∏—â–∞–µ–º –ø–æ–ª–µ –≤–≤–æ–¥–∞
                document.getElementById('comment-input').value = '';
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
                renderComments();
                
                alert('–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –¥–æ–±–∞–≤–ª–µ–Ω');
            });
            
            // –û—Ü–µ–Ω–∫–∞ –∞–Ω–∏–º–µ
            document.querySelectorAll('.star').forEach(star => {
                star.addEventListener('click', () => {
                    const rating = parseInt(star.dataset.rating);
                    
                    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–≤–µ–∑–¥—ã
                    document.querySelectorAll('.star').forEach((s, i) => {
                        if (i < rating) {
                            s.classList.add('active');
                        } else {
                            s.classList.remove('active');
                        }
                    });
                    
                    // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ü–µ–Ω–∫–∏
                    alert(`–í—ã –ø–æ—Å—Ç–∞–≤–∏–ª–∏ –æ—Ü–µ–Ω–∫—É: ${rating}`);
                });
            });
        }
        
        // –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        document.addEventListener('DOMContentLoaded', () => {
            initData();
            setupUserData();
            renderAnimeList();
            renderFeaturedAnime();
            setupEventListeners();
            loadTheme();
            updateDots(); // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–æ—á–µ–∫
            
            // –ó–∞–ø–æ–ª–Ω—è–µ–º –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ —Ç–∞–π—Ç–ª–æ–≤ –≤ –∞–¥–º–∏–Ω–∫–µ
            const animeSelect = document.getElementById('anime-select');
            appData.animeList.forEach(anime => {
                const option = document.createElement('option');
                option.value = anime.id;
                option.textContent = anime.title;
                animeSelect.appendChild(option);
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—ã–±–æ—Ä–∞ —Ç–∞–π—Ç–ª–∞ –≤ –∞–¥–º–∏–Ω–∫–µ
            animeSelect.addEventListener('change', () => {
                const animeId = parseInt(animeSelect.value);
                if (animeId) {
                    loadAnimeForEdit(animeId);
                }
            });
        });
    </script>
</body>
</html>
