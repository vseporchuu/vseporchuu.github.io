<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>47bot - Tanki Online Assistant</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --primary: #4CAF50;
            --primary-light: #81C784;
            --primary-dark: #388E3C;
            --primary-gradient: linear-gradient(135deg, #4CAF50, #2E7D32);
            --secondary: #FFC107;
            --accent: #FF5722;
            --background: #121212;
            --surface: #1e1e1e;
            --card-bg: #252525;
            --text: #e0e0e0;
            --text-light: #b0b0b0;
            --text-lighter: #8a8a8a;
            --border: #333333;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
        }

        body {
            background-color: var(--background);
            color: var(--text);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
            line-height: 1.6;
            font-size: 16px;
            padding-bottom: 70px; /* Добавляем отступ для нижней навигации */
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            width: 100%;
        }

        /* Header styles */
        header {
            background-color: var(--surface);
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            width: 36px;
            height: 36px;
            background: var(--primary-gradient);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .logo-icon svg {
            width: 24px;
            height: 24px;
            fill: white;
        }

        .logo h1 {
            font-size: 1.6rem;
            font-weight: 700;
            background: linear-gradient(90deg, #4CAF50, #8BC34A);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -0.5px;
        }

        /* Main content */
        .main-content {
            flex: 1;
            padding: 30px 0;
        }

        .section {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-header {
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .section-title {
            font-size: 1.8rem;
            font-weight: 600;
            color: #e0f0e0;
            position: relative;
            padding-bottom: 10px;
            text-shadow: 0 1px 2px rgba(255,255,255,0.1);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .section-title::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            width: 60px;
            height: 3px;
            background: var(--primary);
            border-radius: 2px;
        }

        .section-icon {
            width: 32px;
            height: 32px;
            fill: var(--primary);
        }

        /* Dashboard styles - COMPACT VERSION */
        .dashboard-compact {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 25px;
        }

        .user-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
            background: var(--card-bg);
            border-radius: 16px;
            padding: 15px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            grid-column: span 2;
        }

        .user-header:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        .avatar {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--primary);
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            color: white;
            flex-shrink: 0;
        }

        .user-info {
            flex: 1;
        }

        .user-info h2 {
            font-size: 1.5rem;
            margin-bottom: 5px;
            font-weight: 600;
            color: white;
        }

        .user-info p {
            color: var(--text-light);
            font-size: 0.9rem;
            margin-bottom: 10px;
        }

        .progress-container {
            display: flex;
            align-items: center;
            gap: 15px;
            background: rgba(76, 175, 80, 0.1);
            padding: 10px 15px;
            border-radius: 10px;
            margin-top: 10px;
            font-size: 0.9rem;
        }

        .progress-label {
            font-size: 0.85rem;
            color: var(--text-light);
        }

        .progress-value {
            font-weight: 600;
            color: var(--primary);
            font-size: 1rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(170px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        /* Compact stats */
        .compact-stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 10px;
        }

        .stat-card {
            background: var(--card-bg);
            border-radius: 14px;
            padding: 15px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.3);
        }

        .stat-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--primary);
        }

        .stat-icon {
            width: 40px;
            height: 40px;
            background: rgba(76, 175, 80, 0.15);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.4rem;
            color: var(--primary);
            margin-bottom: 12px;
        }

        .stat-icon svg {
            width: 20px;
            height: 20px;
            fill: currentColor;
        }

        .stat-value {
            font-size: 1.6rem;
            font-weight: 700;
            margin-bottom: 5px;
            color: #e0f0e0;
        }

        .stat-label {
            font-size: 0.85rem;
            color: var(--text-light);
        }

        .search-box {
            display: flex;
            gap: 12px;
            margin: 25px 0 20px;
        }

        .search-input {
            flex: 1;
            padding: 14px 18px;
            border: 1px solid var(--border);
            border-radius: 12px;
            font-size: 0.95rem;
            background: var(--card-bg);
            color: var(--text);
            transition: var(--transition);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.3);
        }

        .search-btn {
            background: var(--primary-gradient);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 0 25px;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(76, 175, 80, 0.25);
        }

        /* Profile styles */
        .profile-header {
            background: var(--primary-gradient);
            color: white;
            border-radius: 18px;
            padding: 20px;
            margin-bottom: 25px;
            text-align: center;
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .profile-header::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0) 70%);
            transform: rotate(30deg);
        }

        .profile-rank {
            position: absolute;
            top: 15px;
            left: 15px;
            background-color: rgba(0,0,0,0.25);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
            border: 2px solid rgba(255,255,255,0.3);
        }

        .profile-avatar {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid rgba(255,255,255,0.5);
            margin: 0 auto 15px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.2rem;
            color: white;
            position: relative;
            z-index: 2;
        }

        .profile-name {
            font-size: 1.8rem;
            margin-bottom: 8px;
            font-weight: 600;
            position: relative;
            z-index: 2;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .profile-title {
            display: inline-block;
            background-color: rgba(0,0,0,0.3);
            padding: 6px 16px;
            border-radius: 18px;
            font-size: 0.9rem;
            margin-bottom: 12px;
            position: relative;
            z-index: 2;
        }

        .profile-gear-score {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 5px;
            position: relative;
            z-index: 2;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .profile-gear-label {
            font-size: 0.85rem;
            opacity: 0.9;
            position: relative;
            z-index: 2;
        }

        .profile-tabs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 25px;
        }

        .tab-btn {
            background-color: var(--card-bg);
            border: none;
            padding: 12px 8px;
            border-radius: 12px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            box-shadow: var(--shadow);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .tab-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.25);
        }

        .tab-btn.active {
            background: var(--primary-gradient);
            color: white;
        }

        .tab-btn i {
            font-size: 1.5rem;
            color: var(--text);
        }

        .tab-btn.active i {
            color: white;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .tab-content.active {
            display: block;
        }

        /* Stats Section */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(170px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        /* Account Data Section */
        .account-data-section {
            margin-bottom: 30px;
        }

        .account-data-title {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .account-data-title i {
            font-size: 1.2rem;
        }

        .scroll-container {
            display: flex;
            overflow-x: auto;
            gap: 15px;
            padding-bottom: 10px;
            margin-bottom: 25px;
            scrollbar-width: thin;
            scrollbar-color: var(--primary) var(--card-bg);
        }

        .scroll-container::-webkit-scrollbar {
            height: 6px;
        }

        .scroll-container::-webkit-scrollbar-thumb {
            background-color: var(--primary);
            border-radius: 3px;
        }

        .scroll-container::-webkit-scrollbar-track {
            background: var(--card-bg);
            border-radius: 3px;
        }

        .equipment-card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 18px;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            gap: 15px;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            min-width: 240px;
            flex-shrink: 0;
        }

        .equipment-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 20px rgba(0,0,0,0.3);
        }

        .equipment-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: var(--primary);
            border-radius: 2px;
        }

        .equipment-icon {
            width: 55px;
            height: 55px;
            background: rgba(76, 175, 80, 0.15);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            color: var(--primary);
            flex-shrink: 0;
        }

        .equipment-icon svg {
            width: 32px;
            height: 32px;
            fill: currentColor;
        }

        .equipment-info {
            flex: 1;
        }

        .equipment-name {
            font-weight: 600;
            margin-bottom: 6px;
            font-size: 1.1rem;
            color: white;
        }

        .equipment-stats {
            font-size: 0.95rem;
            color: var(--text-light);
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
        }

        .equipment-stat {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.9rem;
        }

        .equipment-stat i {
            font-size: 0.8rem;
            color: var(--primary);
        }

        /* Supplies Section */
        .supplies-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 15px;
        }

        .supply-card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 18px 12px;
            box-shadow: var(--shadow);
            text-align: center;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .supply-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 20px rgba(0,0,0,0.3);
        }

        .supply-icon {
            width: 55px;
            height: 55px;
            margin: 0 auto 12px;
            background: rgba(76, 175, 80, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.6rem;
            color: var(--primary);
        }

        .supply-name {
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 1rem;
            color: white;
        }

        .supply-count {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary);
        }

        /* General section */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
        }

        .service-card {
            background: var(--card-bg);
            border-radius: 18px;
            padding: 22px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            cursor: pointer;
            text-align: center;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .service-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 25px rgba(0, 0, 0, 0.3);
        }

        .service-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--primary);
        }

        .service-card i {
            font-size: 2.8rem;
            color: var(--primary);
            margin-bottom: 18px;
            transition: var(--transition);
        }

        .service-card:hover i {
            transform: scale(1.1);
            color: var(--primary-light);
        }

        .service-card h3 {
            font-size: 1.3rem;
            margin-bottom: 12px;
            color: white;
        }

        .service-card p {
            color: var(--text-light);
            line-height: 1.6;
            font-size: 0.95rem;
            flex: 1;
        }

        /* Rating section */
        .player-card {
            background: var(--card-bg);
            border-radius: 18px;
            padding: 22px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
            transition: var(--transition);
        }

        .player-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.3);
        }

        .player-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 18px;
        }

        .player-rank {
            width: 50px;
            height: 50px;
            background: var(--primary-gradient);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            font-weight: 700;
            color: white;
            flex-shrink: 0;
        }

        .player-info h2 {
            font-size: 1.5rem;
            margin-bottom: 6px;
            color: white;
        }

        .player-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(170px, 1fr));
            gap: 15px;
            margin-top: 18px;
        }

        .top-players {
            background: var(--card-bg);
            border-radius: 18px;
            padding: 22px;
            box-shadow: var(--shadow);
        }

        .player-row {
            display: flex;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid var(--border);
            transition: var(--transition);
        }

        .player-row:hover {
            background: rgba(255, 255, 255, 0.03);
        }

        .player-row:last-child {
            border-bottom: none;
        }

        .player-position {
            width: 30px;
            font-weight: 700;
            color: var(--primary);
            font-size: 1rem;
            text-align: center;
        }

        .player-name {
            flex: 1;
            font-weight: 500;
            font-size: 1rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            color: white;
        }

        .player-score {
            color: var(--primary);
            font-weight: 600;
            font-size: 1rem;
        }

        /* Settings section */
        .settings-card {
            background: var(--card-bg);
            border-radius: 18px;
            padding: 22px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
        }

        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid var(--border);
        }

        .setting-item:last-child {
            border-bottom: none;
        }

        .setting-info {
            flex: 1;
            padding-right: 15px;
        }

        .setting-info h3 {
            font-size: 1.1rem;
            margin-bottom: 5px;
            color: white;
        }

        .setting-info p {
            color: var(--text-light);
            font-size: 0.9rem;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 26px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #555;
            transition: var(--transition);
            border-radius: 30px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 20px;
            width: 20px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: var(--transition);
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--primary);
        }

        input:checked + .slider:before {
            transform: translateX(24px);
        }

        .about-app {
            background: var(--card-bg);
            border-radius: 18px;
            padding: 22px;
            box-shadow: var(--shadow);
        }

        .about-app h3 {
            font-size: 1.4rem;
            margin-bottom: 18px;
            color: white;
        }

        .about-app p {
            line-height: 1.7;
            margin-bottom: 12px;
            font-size: 1rem;
            color: var(--text-light);
        }

        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: var(--surface);
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            padding: 8px 0;
        }

        .bottom-nav ul {
            display: flex;
            justify-content: space-around;
            list-style: none;
        }

        .bottom-nav a {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: var(--text-light);
            font-size: 0.8rem;
            padding: 8px 12px;
            border-radius: 12px;
            transition: var(--transition);
        }

        .bottom-nav a.active {
            color: var(--primary);
            background: rgba(76, 175, 80, 0.15);
        }

        .bottom-nav a i {
            font-size: 1.4rem;
            margin-bottom: 4px;
        }

        .bottom-nav a span {
            font-weight: 500;
        }

        /* Footer */
        footer {
            display: none; /* Скрываем старый футер */
        }

        /* Responsive styles */
        @media (max-width: 900px) {
            .header-content {
                flex-wrap: wrap;
            }
            
            .section-title {
                font-size: 1.6rem;
            }
            
            .user-header {
                flex-direction: column;
                text-align: center;
            }
            
            .profile-tabs {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: 1fr 1fr;
            }
            
            .compact-stats-grid {
                grid-template-columns: 1fr 1fr;
            }
            
            .services-grid {
                grid-template-columns: 1fr;
            }
            
            .dashboard-compact {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 15px;
            }
            
            .section-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .section-title {
                font-size: 1.5rem;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .compact-stats-grid {
                grid-template-columns: 1fr;
            }
            
            .profile-header {
                padding: 18px 12px;
            }
            
            .profile-name {
                font-size: 1.6rem;
            }
            
            .search-box {
                flex-direction: column;
            }
            
            .search-btn {
                justify-content: center;
                padding: 14px;
            }

            .bottom-nav a {
                padding: 6px 8px;
                font-size: 0.7rem;
            }

            .bottom-nav a i {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body class="dark-theme">
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M21 11H3C2.45 11 2 11.45 2 12V14C2 14.55 2.45 15 3 15H21C21.55 15 22 14.55 22 14V12C22 11.45 21.55 11 21 11Z" fill="white"/>
                            <path d="M3 9H6V11H3V9Z" fill="white"/>
                            <path d="M21 9H18V11H21V9Z" fill="white"/>
                            <path d="M4 15H5V17H4V15Z" fill="white"/>
                            <path d="M20 15H19V17H20V15Z" fill="white"/>
                            <path d="M18 6H15V9H18V6Z" fill="white"/>
                            <path d="M9 6H6V9H9V6Z" fill="white"/>
                            <path d="M15 17H9V19H15V17Z" fill="white"/>
                            <path d="M10 15H14V17H10V15Z" fill="white"/>
                        </svg>
                    </div>
                    <h1>47bot</h1>
                </div>
            </div>
        </div>
    </header>

    <main class="main-content">
        <div class="container">
            <!-- Dashboard Section -->
            <section id="dashboard" class="section active">
                <div class="section-header">
                    <h2 class="section-title">
                        <svg class="section-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
                        </svg>
                        Статистика чата
                    </h2>
                </div>
                
                <div class="dashboard-compact">
                    <div class="user-header">
                        <div class="avatar" id="userAvatar">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="user-info">
                            <h2 id="userName">TankMaster47</h2>
                            <p id="userUsername">@tankmaster</p>
                            <div class="progress-container">
                                <div class="progress-label">Прогресс до следующего звания:</div>
                                <div class="progress-value">250 / 500</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="compact-stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M18 11H6C5.45 11 5 11.45 5 12C5 12.55 5.45 13 6 13H18C18.55 13 19 12.55 19 12C19 11.45 18.55 11 18 11Z"/>
                                    <path d="M18 7H6C5.45 7 5 7.45 5 8C5 8.55 5.45 9 6 9H18C18.55 9 19 8.55 19 8C19 7.45 18.55 7 18 7Z"/>
                                    <path d="M18 15H6C5.45 15 5 15.45 5 16C5 16.55 5.45 17 6 17H18C18.55 17 19 16.55 19 16C19 15.45 18.55 15 18 15Z"/>
                                </svg>
                            </div>
                            <div class="stat-value">Капитан</div>
                            <div class="stat-label">Звание чата</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20Z"/>
                                    <path d="M12.5 7H11V13L16.2 16.2L17 14.9L12.5 12.2V7Z"/>
                                </svg>
                            </div>
                            <div class="stat-value">12,450</div>
                            <div class="stat-label">Опыт чата</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2ZM20 16H6L4 18V4H20V16Z"/>
                                    <path d="M7 9H17V11H7V9ZM7 12H14V14H7V12Z"/>
                                </svg>
                            </div>
                            <div class="stat-value">8,450</div>
                            <div class="stat-label">Сообщения</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20Z"/>
                                    <path d="M12.5 7H11V13L16.2 16.2L17 14.9L12.5 12.2V7Z"/>
                                </svg>
                            </div>
                            <div class="stat-value">#7</div>
                            <div class="stat-label">Место в чате</div>
                        </div>
                    </div>
                </div>
                
                <div class="search-box">
                    <input type="text" class="search-input" placeholder="Поиск профиля..." id="profileSearch">
                    <button class="search-btn">
                        <i class="fas fa-search"></i> Найти
                    </button>
                </div>
            </section>

            <!-- Profile Section -->
            <section id="profile" class="section">
                <div class="section-header">
                    <h2 class="section-title">
                        <svg class="section-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                        </svg>
                        Игровой профиль
                    </h2>
                    <button class="search-btn" id="bindNicknameBtn">
                        <i class="fas fa-link"></i> Привязать никнейм
                    </button>
                </div>
                
                <!-- Enhanced Profile Content -->
                <div class="profile-header">
                    <div class="profile-rank">#7</div>
                    <div class="profile-avatar" id="profileAvatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <h1 class="profile-name" id="gameNickname">TankMaster47</h1>
                    <div class="profile-title">Звание: Капитан</div>
                    <div class="profile-gear-score">12,850</div>
                    <div class="profile-gear-label">Gear Score</div>
                </div>

                <div class="profile-tabs">
                    <button class="tab-btn active" data-tab="stats">
                        <i class="fas fa-chart-bar"></i> Статистика
                    </button>
                    <button class="tab-btn" data-tab="account-data">
                        <i class="fas fa-database"></i> Данные аккаунта
                    </button>
                </div>

                <!-- Stats Tab -->
                <div id="stats" class="tab-content active">
                    <div class="compact-stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20Z"/>
                                    <path d="M12.5 7H11V13L16.2 16.2L17 14.9L12.5 12.2V7Z"/>
                                </svg>
                            </div>
                            <div class="stat-value">8,450</div>
                            <div class="stat-label">Уничтожено</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20Z"/>
                                    <path d="M15 9H9V15H15V9Z"/>
                                </svg>
                            </div>
                            <div class="stat-value">5,210</div>
                            <div class="stat-label">Подбито</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20Z"/>
                                    <path d="M16.59 7.58L10 14.17L7.41 11.59L6 13L10 17L18 9L16.59 7.58Z"/>
                                </svg>
                            </div>
                            <div class="stat-value">1.62</div>
                            <div class="stat-label">У/П</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M11.99 2C6.47 2 2 6.48 2 12C2 17.52 6.47 22 11.99 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 11.99 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20Z"/>
                                    <path d="M12.5 7H11V13L16.2 16.2L17 14.9L12.5 12.2V7Z"/>
                                </svg>
                            </div>
                            <div class="stat-value">320 ч</div>
                            <div class="stat-label">Время игры</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20Z"/>
                                    <path d="M15.55 8.46L16.96 9.87L15.17 11.66L16.58 13.07L13.75 15.9L11.94 14.09L10.53 15.5L9.12 14.09L10.53 12.68L8.71 10.86L10.12 9.45L11.54 10.87L13.32 9.08L11.91 7.66L15.55 8.46Z"/>
                                </svg>
                            </div>
                            <div class="stat-value">1.2M</div>
                            <div class="stat-label">Кристаллы</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19Z"/>
                                    <path d="M17 17H7V7H17V17Z"/>
                                    <path d="M14 14H10V10H14V14Z"/>
                                </svg>
                            </div>
                            <div class="stat-value">845</div>
                            <div class="stat-label">Золотые ящики</div>
                        </div>
                    </div>
                </div>

                <!-- Account Data Tab -->
                <div id="account-data" class="tab-content">
                    <div class="account-data-section">
                        <h3 class="account-data-title">
                            <i class="fas fa-gun"></i>
                            Пушки
                        </h3>
                        <div class="scroll-container">
                            <div class="equipment-card">
                                <div class="equipment-icon">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M13 14H11V9H13V14ZM13 18H11V16H13V18Z"/>
                                        <path d="M17.73 4.23L16.3 5.66C17.1 6.45 17.55 7.5 17.55 8.65C17.55 11.03 15.58 13 13.2 13H10V15H14V17H10V21H8V17H6V15H8V13H7.5C5 13 3 11 3 8.5C3 6.5 4.5 4.9 6.5 4.5C7 3.9 7.8 3.5 8.5 3.5C9.7 3.5 10.8 4.2 11.2 5.2C11.6 5.1 12 5 12.5 5C14.1 5 15.5 5.7 16.5 6.9L17.93 5.46C16.73 4.16 15.05 3.5 13.5 3.5C12.35 3.5 11.2 3.85 10.2 4.45C9.35 3.55 8.15 3 6.9 3C5.3 3 3.85 4.1 3.3 5.7C1.75 6.5 0.7 8.1 0.7 10C0.7 12.6 2.7 14.6 5.2 14.6H7V12.6H5.2C3.7 12.6 2.7 11.5 2.7 10C2.7 8.9 3.45 8 4.5 7.7L5.7 7.5L6 6.3C6.2 5.4 7 4.7 7.9 4.7C8.4 4.7 8.8 4.9 9.1 5.2L10.2 6.3C10 7.4 10.2 8.6 10.8 9.5L12.4 8.1C11.6 7.4 11.1 6.4 11.1 5.3C11.1 4.8 11.2 4.3 11.4 3.9C9.8 3.3 8.1 4 7.2 5.3C6.5 5.1 5.7 5.4 5.3 6C4.9 6.6 5.1 7.4 5.7 7.8C6 8 6.3 8.1 6.6 8.1C7.4 8.1 8 7.5 8 6.7C8 6.6 8 6.5 7.9 6.4C7.8 6.3 7.7 6.2 7.6 6.2C7.4 6.1 7.2 6 7 6C6.4 6 6 6.4 6 7C6 7.6 6.4 8 7 8C7.6 8 8 7.6 8 7V6.7C8 6.3 8.3 6 8.7 6C8.9 6 9.1 6.1 9.2 6.2L10.4 7.4C10.9 6.8 11.1 6 11 5.3C11 5.2 11 5.1 10.9 5C10.8 4.8 10.6 4.7 10.5 4.6C10.3 4.4 10 4.3 9.8 4.3C9.3 4.3 8.9 4.6 8.7 5C8.5 5.4 8.5 5.8 8.7 6.2C8.9 6.6 9.3 6.8 9.7 6.8C10.5 6.8 11.1 6.2 11.1 5.4C11.1 4.9 11.3 4.5 11.6 4.1C12.2 4.3 12.8 4.5 13.3 4.9C14.1 5.5 14.6 6.4 14.6 7.5C14.6 8.7 13.9 9.7 12.8 10.2L11.4 11.6C12.5 12 13 13 13 14.1V15H15.5C16.3 15 17 14.3 17 13.5C17 12.7 16.3 12 15.5 12H14V10H15.5C17.4 10 19 11.6 19 13.5C19 15.4 17.4 17 15.5 17H14V19H16V21H12V19H14V17H12V15H10V12H13.2C14.8 12 16 10.8 16 9.2C16 8.2 15.5 7.3 14.7 6.7C14.1 6.3 13.5 6 12.8 6C12.1 6 11.4 6.2 10.8 6.6L9.4 5.2C10.1 4.5 11 4 12 4C13.3 4 14.6 4.5 15.5 5.5L16.93 4.06C15.8 2.95 14.3 2.3 12.8 2.3C11.1 2.3 9.5 3 8.3 4.2L6.87 2.77L5.46 4.18L6.89 5.61C6.3 6.3 6 7.2 6 8.1C6 9.4 6.5 10.6 7.4 11.5C8.3 12.4 9.5 12.9 10.8 12.9H13V10.9H10.8C9.8 10.9 8.9 10.4 8.3 9.8C7.7 9.2 7.3 8.3 7.3 7.3C7.3 6.7 7.5 6.1 7.8 5.6L9.2 7C9.1 7.2 9 7.5 9 7.8C9 8.6 9.4 9.3 10 9.7L11.4 11.1C10.5 11.5 9.9 12.4 9.9 13.4V15H7.5C5.6 15 4 13.4 4 11.5C4 9.6 5.6 8 7.5 8H9V6H7.5C6.7 6 6 6.7 6 7.5C6 8.3 6.7 9 7.5 9H9V11H7.5C6.1 11 5 9.9 5 8.5C5 7.1 6.1 6 7.5 6H9V4.5C9 3.7 9.7 3 10.5 3C11.3 3 12 3.7 12 4.5V6H13.5C14.9 6 16 7.1 16 8.5C16 9.9 14.9 11 13.5 11H12V13H13.5C14.3 13 15 12.3 15 11.5C15 10.7 14.3 10 13.5 10H12V8H13.5C15.4 8 17 9.6 17 11.5C17 13.4 15.4 15 13.5 15H12V17H14V19H12V21H16V19H14V17H16.5C18.4 17 20 15.4 20 13.5C20 11.6 18.4 10 16.5 10H15V8H16.5C17.3 8 18 7.3 18 6.5C18 5.7 17.3 5 16.5 5H15V3H17.73L19.14 4.41L17.73 5.82L19.14 7.23L17.73 8.64L19.14 10.05L17.73 11.46L19.14 12.87L17.73 14.28L19.14 15.69L17.73 17.1L19.14 18.51L17.73 19.92L19.14 21.33L20.55 19.92L19.14 18.51L20.55 17.1L19.14 15.69L20.55 14.28L19.14 12.87L20.55 11.46L19.14 10.05L20.55 8.64L19.14 7.23L20.55 5.82L19.14 4.41L17.73 5.82Z"/>
                                    </svg>
                                </div>
                                <div class="equipment-info">
                                    <div class="equipment-name">Огнемет</div>
                                    <div class="equipment-stats">
                                        <div class="equipment-stat">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="#4CAF50">
                                                <path d="M13 3C13 2.45 12.55 2 12 2C11.45 2 11 2.45 11 3V13C11 13.55 11.45 14 12 14C12.55 14 13 13.55 13 13V3ZM17.59 5.59L19 7L12 14L5 7L6.41 5.59L12 11.17L17.59 5.59Z"/>
                                            </svg>
                                            <span>25,400 очков</span>
                                        </div>
                                        <div class="equipment-stat">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="#4CAF50">
                                                <path d="M12 21.35L10.55 20.03C5.4 15.36 2 12.28 2 8.5C2 5.42 4.42 3 7.5 3C9.24 3 10.91 3.81 12 5.09C13.09 3.81 14.76 3 16.5 3C19.58 3 22 5.42 22 8.5C22 12.28 18.6 15.36 13.45 20.04L12 21.35Z"/>
                                            </svg>
                                            <span>850 урона</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="equipment-card">
                                <div class="equipment-icon">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M7 5H17V7H7V5ZM7 9H17V11H7V9ZM7 13H17V15H7V13Z"/>
                                        <path d="M3 3V21H21V3H3ZM19 19H5V5H19V19Z"/>
                                    </svg>
                                </div>
                                <div class="equipment-info">
                                    <div class="equipment-name">Рейлган</div>
                                    <div class="equipment-stats">
                                        <div class="equipment-stat">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="#4CAF50">
                                                <path d="M13 3C13 2.45 12.55 2 12 2C11.45 2 11 2.45 11 3V13C11 13.55 11.45 14 12 14C12.55 14 13 13.55 13 13V3ZM17.59 5.59L19 7L12 14L5 7L6.41 5.59L12 11.17L17.59 5.59Z"/>
                                            </svg>
                                            <span>18,700 очков</span>
                                        </div>
                                        <div class="equipment-stat">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="#4CAF50">
                                                <path d="M12 21.35L10.55 20.03C5.4 15.36 2 12.28 2 8.5C2 5.42 4.42 3 7.5 3C9.24 3 10.91 3.81 12 5.09C13.09 3.81 14.76 3 16.5 3C19.58 3 22 5.42 22 8.5C22 12.28 18.6 15.36 13.45 20.04L12 21.35Z"/>
                                            </svg>
                                            <span>1,200 урона</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="equipment-card">
                                <div class="equipment-icon">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M19 14V6C19 4.9 18.1 4 17 4H7C5.9 4 5 4.9 5 6V14C5 15.1 5.9 16 7 16H17C18.1 16 19 15.1 19 14ZM17 14H7V6H17V14ZM12 8C10.9 8 10 8.9 10 10C10 11.1 10.9 12 12 12C13.1 12 14 11.1 14 10C14 8.9 13.1 8 12 8ZM8 18H16V20H8V18Z"/>
                                    </svg>
                                </div>
                                <div class="equipment-info">
                                    <div class="equipment-name">Гром</div>
                                    <div class="equipment-stats">
                                        <div class="equipment-stat">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="#4CAF50">
                                                <path d="M13 3C13 2.45 12.55 2 12 2C11.45 2 11 2.45 11 3V13C11 13.55 11.45 14 12 14C12.55 14 13 13.55 13 13V3ZM17.59 5.59L19 7L12 14L5 7L6.41 5.59L12 11.17L17.59 5.59Z"/>
                                            </svg>
                                            <span>12,500 очков</span>
                                        </div>
                                        <div class="equipment-stat">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="#4CAF50">
                                                <path d="M12 21.35L10.55 20.03C5.4 15.36 2 12.28 2 8.5C2 5.42 4.42 3 7.5 3C9.24 3 10.91 3.81 12 5.09C13.09 3.81 14.76 3 16.5 3C19.58 3 22 5.42 22 8.5C22 12.28 18.6 15.36 13.45 20.04L12 21.35Z"/>
                                            </svg>
                                            <span>950 урона</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="account-data-section">
                        <h3 class="account-data-title">
                            <i class="fas fa-shield-alt"></i>
                            Корпуса
                        </h3>
                        <div class="scroll-container">
                            <div class="equipment-card">
                                <div class="equipment-icon">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M19 9H5C3.9 9 3 9.9 3 11V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V11C21 9.9 20.1 9 19 9ZM19 19H5V11H19V19Z"/>
                                        <path d="M19 5H5C3.9 5 3 5.9 3 7V8H21V7C21 5.9 20.1 5 19 5Z"/>
                                    </svg>
                                </div>
                                <div class="equipment-info">
                                    <div class="equipment-name">Титан</div>
                                    <div class="equipment-stats">
                                        <div class="equipment-stat">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="#4CAF50">
                                                <path d="M13 3C13 2.45 12.55 2 12 2C11.45 2 11 2.45 11 3V13C11 13.55 11.45 14 12 14C12.55 14 13 13.55 13 13V3ZM17.59 5.59L19 7L12 14L5 7L6.41 5.59L12 11.17L17.59 5.59Z"/>
                                            </svg>
                                            <span>15,200 очков</span>
                                        </div>
                                        <div class="equipment-stat">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="#4CAF50">
                                                <path d="M12 21.35L10.55 20.03C5.4 15.36 2 12.28 2 8.5C2 5.42 4.42 3 7.5 3C9.24 3 10.91 3.81 12 5.09C13.09 3.81 14.76 3 16.5 3C19.58 3 22 5.42 22 8.5C22 12.28 18.6 15.36 13.45 20.04L12 21.35Z"/>
                                            </svg>
                                            <span>1,500 защиты</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="equipment-card">
                                <div class="equipment-icon">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M18.92 6.01C18.72 5.42 18.16 5 17.5 5H15V3H9V5H6.5C5.84 5 5.29 5.42 5.08 6.01L3 12V20C3 20.55 3.45 21 4 21H5C5.55 21 6 20.55 6 20V19H18V20C18 20.55 18.45 21 19 21H20C20.55 21 21 20.55 21 20V12L18.92 6.01ZM6.5 16C5.67 16 5 15.33 5 14.5C5 13.67 5.67 13 6.5 13C7.33 13 8 13.67 8 14.5C8 15.33 7.33 16 6.5 16ZM17.5 16C16.67 16 16 15.33 16 14.5C16 13.67 16.67 13 17.5 13C18.33 13 19 13.67 19 14.5C19 15.33 18.33 16 17.5 16ZM5 11L6.5 6.5H17.5L19 11H5Z"/>
                                    </svg>
                                </div>
                                <div class="equipment-info">
                                    <div class="equipment-name">Гонщик</div>
                                    <div class="equipment-stats">
                                        <div class="equipment-stat">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="#4CAF50">
                                                <path d="M13 3C13 2.45 12.55 2 12 2C11.45 2 11 2.45 11 3V13C11 13.55 11.45 14 12 14C12.55 14 13 13.55 13 13V3ZM17.59 5.59L19 7L12 14L5 7L6.41 5.59L12 11.17L17.59 5.59Z"/>
                                            </svg>
                                            <span>12,800 очков</span>
                                        </div>
                                        <div class="equipment-stat">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="#4CAF50">
                                                <path d="M13 20V16H11V20H5V22H19V20H13ZM12 8C13.1 8 14 7.1 14 6C14 4.9 13.1 4 12 4C10.9 4 10 4.9 10 6C10 7.1 10.9 8 12 8ZM17.2 12.8L15.6 11.2C15.1 10.7 14.4 10.5 13.8 10.5H10.2C9.6 10.5 8.9 10.7 8.4 11.2L6.8 12.8C6.2 13.4 6 14.2 6.2 15L7.5 19.1C7.6 19.6 8 20 8.5 20H15.5C16 20 16.4 19.6 16.5 19.1L17.8 15C18 14.2 17.8 13.4 17.2 12.8Z"/>
                                            </svg>
                                            <span>120% скорости</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="account-data-section">
                        <h3 class="account-data-title">
                            <i class="fas fa-microchip"></i>
                            Модули
                        </h3>
                        <div class="scroll-container">
                            <div class="equipment-card">
                                <div class="equipment-icon">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19Z"/>
                                        <path d="M11 7H7V11H11V7Z"/>
                                        <path d="M17 7H13V11H17V7Z"/>
                                        <path d="M11 13H7V17H11V13Z"/>
                                        <path d="M17 13H13V17H17V13Z"/>
                                    </svg>
                                </div>
                                <div class="equipment-info">
                                    <div class="equipment-name">Усилитель урона</div>
                                    <div class="equipment-stats">
                                        <div class="equipment-stat">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="#4CAF50">
                                                <path d="M13 3C13 2.45 12.55 2 12 2C11.45 2 11 2.45 11 3V13C11 13.55 11.45 14 12 14C12.55 14 13 13.55 13 13V3ZM17.59 5.59L19 7L12 14L5 7L6.41 5.59L12 11.17L17.59 5.59Z"/>
                                            </svg>
                                            <span>8,400 очков</span>
                                        </div>
                                        <div class="equipment-stat">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="#4CAF50">
                                                <path d="M12 21.35L10.55 20.03C5.4 15.36 2 12.28 2 8.5C2 5.42 4.42 3 7.5 3C9.24 3 10.91 3.81 12 5.09C13.09 3.81 14.76 3 16.5 3C19.58 3 22 5.42 22 8.5C22 12.28 18.6 15.36 13.45 20.04L12 21.35Z"/>
                                            </svg>
                                            <span>+15% урона</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="equipment-card">
                                <div class="equipment-icon">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M19 9H5C3.9 9 3 9.9 3 11V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V11C21 9.9 20.1 9 19 9ZM19 19H5V11H19V19Z"/>
                                        <path d="M19 5H5C3.9 5 3 5.9 3 7V8H21V7C21 5.9 20.1 5 19 5Z"/>
                                    </svg>
                                </div>
                                <div class="equipment-info">
                                    <div class="equipment-name">Бронепластины</div>
                                    <div class="equipment-stats">
                                        <div class="equipment-stat">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="#4CAF50">
                                                <path d="M13 3C13 2.45 12.55 2 12 2C11.45 2 11 2.45 11 3V13C11 13.55 11.45 14 12 14C12.55 14 13 13.55 13 13V3ZM17.59 5.59L19 7L12 14L5 7L6.41 5.59L12 11.17L17.59 5.59Z"/>
                                            </svg>
                                            <span>7,600 очков</span>
                                        </div>
                                        <div class="equipment-stat">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="#4CAF50">
                                                <path d="M12 21.35L10.55 20.03C5.4 15.36 2 12.28 2 8.5C2 5.42 4.42 3 7.5 3C9.24 3 10.91 3.81 12 5.09C13.09 3.81 14.76 3 16.5 3C19.58 3 22 5.42 22 8.5C22 12.28 18.6 15.36 13.45 20.04L12 21.35Z"/>
                                            </svg>
                                            <span>+20% защиты</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="account-data-section">
                        <h3 class="account-data-title">
                            <i class="fas fa-fighter-jet"></i>
                            Дроны
                        </h3>
                        <div class="scroll-container">
                            <div class="equipment-card">
                                <div class="equipment-icon">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M22 11V9L12 2L2 9V11H4V20H2V22H22V20H20V11H22ZM18 20H6V9.49L12 5.44L18 9.49V20Z"/>
                                        <path d="M10 14H14V18H10V14Z"/>
                                    </svg>
                                </div>
                                <div class="equipment-info">
                                    <div class="equipment-name">Разведчик</div>
                                    <div class="equipment-stats">
                                        <div class="equipment-stat">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="#4CAF50">
                                                <path d="M13 3C13 2.45 12.55 2 12 2C11.45 2 11 2.45 11 3V13C11 13.55 11.45 14 12 14C12.55 14 13 13.55 13 13V3ZM17.59 5.59L19 7L12 14L5 7L6.41 5.59L12 11.17L17.59 5.59Z"/>
                                            </svg>
                                            <span>5,300 очков</span>
                                        </div>
                                        <div class="equipment-stat">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="#4CAF50">
                                                <path d="M12 6C8.69 6 6 8.69 6 12C6 15.31 8.69 18 12 18C15.31 18 18 15.31 18 12C18 8.69 15.31 6 12 6ZM12 16C9.79 16 8 14.21 8 12C8 9.79 9.79 8 12 8C14.21 8 16 9.79 16 12C16 14.21 14.21 16 12 16ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10Z"/>
                                            </svg>
                                            <span>+30% обзор</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="account-data-section">
                        <h3 class="account-data-title">
                            <i class="fas fa-paint-roller"></i>
                            Краски
                        </h3>
                        <div class="scroll-container">
                            <div class="equipment-card">
                                <div class="equipment-icon" style="background-color: #ff0000; color: white;">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="white">
                                        <path d="M12 22C6.49 22 2 17.51 2 12S6.49 2 12 2s10 4.49 10 10-4.49 10-10 10zm0-18c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8z"/>
                                        <path d="M12 17c-2.76 0-5 2.24-5 5s2.24 5 5 5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                                    </svg>
                                </div>
                                <div class="equipment-info">
                                    <div class="equipment-name">Красный камуфляж</div>
                                    <div class="equipment-stats">
                                        <div class="equipment-stat">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="#4CAF50">
                                                <path d="M13 3C13 2.45 12.55 2 12 2C11.45 2 11 2.45 11 3V13C11 13.55 11.45 14 12 14C12.55 14 13 13.55 13 13V3ZM17.59 5.59L19 7L12 14L5 7L6.41 5.59L12 11.17L17.59 5.59Z"/>
                                            </svg>
                                            <span>3,200 очков</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="account-data-section">
                        <h3 class="account-data-title">
                            <i class="fas fa-gamepad"></i>
                            Режимы
                        </h3>
                        <div class="scroll-container">
                            <div class="equipment-card">
                                <div class="equipment-icon">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M14.4 6L14 4H5V21H7V14H12.6L13 16H19V6H14.4Z"/>
                                    </svg>
                                </div>
                                <div class="equipment-info">
                                    <div class="equipment-name">Захват флага</div>
                                    <div class="equipment-stats">
                                        <div class="equipment-stat">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="#4CAF50">
                                                <path d="M17 11H7V7H17V11ZM17 15H7V13H17V15ZM12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20Z"/>
                                            </svg>
                                            <span>42 игры</span>
                                        </div>
                                        <div class="equipment-stat">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="#4CAF50">
                                                <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z"/>
                                            </svg>
                                            <span>28 побед</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="account-data-section">
                        <h3 class="account-data-title">
                            <i class="fas fa-box-open"></i>
                            Припасы
                        </h3>
                        <div class="scroll-container">
                            <div class="equipment-card">
                                <div class="equipment-icon">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="#4CAF50">
                                        <path d="M20.54 5.23L19.15 3.55C18.88 3.21 18.47 3 18 3H6C5.53 3 5.12 3.21 4.84 3.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V6.5C21 6.02 20.83 5.57 20.54 5.23ZM12 17.5L6.5 12H10V10H14V12H17.5L12 17.5ZM5.12 5L5.93 4H17.93L18.87 5H5.12Z"/>
                                    </svg>
                                </div>
                                <div class="equipment-info">
                                    <div class="equipment-name">Ремкомплект</div>
                                    <div class="equipment-stats">
                                        <div class="equipment-stat">
                                            <span>124 шт</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="equipment-card">
                                <div class="equipment-icon">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="#4CAF50">
                                        <path d="M12 1L3 5V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V5L12 1ZM12 11.99H19C18.47 16.11 15.72 19.78 12 20.93V12H5V6.3L12 3.19V11.99Z"/>
                                    </svg>
                                </div>
                                <div class="equipment-info">
                                    <div class="equipment-name">Защита</div>
                                    <div class="equipment-stats">
                                        <div class="equipment-stat">
                                            <span>87 шт</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="equipment-card">
                                <div class="equipment-icon">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="#4CAF50">
                                        <path d="M17 10.43V2H7V10.43C7 10.78 7.18 11.11 7.49 11.29L12 14.06L16.51 11.29C16.82 11.11 17 10.78 17 10.43ZM12 17.44L7.49 14.67C6.79 14.24 6.36 13.47 6.36 12.63V4.69C6.36 4.31 6.68 4 7.06 4H16.94C17.32 4 17.64 4.31 17.64 4.69V12.63C17.64 13.47 17.21 14.24 16.51 14.67L12 17.44ZM2 16V14H5V16H2ZM22 16V14H19V16H22ZM18 20V18H22V20H18ZM2 20V18H6V20H2ZM7 20V18H10V20H7ZM14 20V18H17V20H14Z"/>
                                    </svg>
                                </div>
                                <div class="equipment-info">
                                    <div class="equipment-name">Урон x2</div>
                                    <div class="equipment-stats">
                                        <div class="equipment-stat">
                                            <span>56 шт</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- General Section -->
            <section id="general" class="section">
                <div class="section-header">
                    <h2 class="section-title">
                        <svg class="section-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/>
                        </svg>
                        Общие разделы
                    </h2>
                </div>
                
                <div class="services-grid">
                    <div class="service-card">
                        <i class="fas fa-newspaper"></i>
                        <h3>Новости</h3>
                        <p>Последние обновления и события в Tanki Online</p>
                    </div>
                    <div class="service-card">
                        <i class="fas fa-trophy"></i>
                        <h3>Киберспорт</h3>
                        <p>Турниры, команды и результаты киберспортивных событий</p>
                    </div>
                    <div class="service-card">
                        <i class="fas fa-flag-checkered"></i>
                        <h3>Вызов принят</h3>
                        <p>Еженедельные задания и испытания для игроков</p>
                    </div>
                    <div class="service-card">
                        <i class="fas fa-book"></i>
                        <h3>Википедия</h3>
                        <p>База знаний по игре: тактики, гайды, характеристики</p>
                    </div>
                    <div class="service-card">
                        <i class="fas fa-comments"></i>
                        <h3>Чат танкистов</h3>
                        <p>Общайтесь с другими игроков, делитесь тактиками и советами</p>
                    </div>
                    <div class="service-card">
                        <i class="fas fa-lock"></i>
                        <h3>По вопросам блокировки в ЧТ</h3>
                        <p>Помощь по вопросам блокировки в чате танкистов</p>
                    </div>
                </div>
            </section>

            <!-- Rating Section -->
            <section id="rating" class="section">
                <div class="section-header">
                    <h2 class="section-title">
                        <svg class="section-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm4.24 16L12 15.45 7.77 18l1.12-4.81-3.73-3.23 4.92-.42L12 5l1.92 4.53 4.92.42-3.73 3.23L16.23 18z"/>
                        </svg>
                        Рейтинг игроков
                    </h2>
                </div>
                
                <div class="search-box">
                    <input type="text" class="search-input" id="playerSearch" placeholder="Введите никнейм игрока...">
                    <button class="search-btn" id="searchPlayerBtn">
                        <i class="fas fa-search"></i> Поиск
                    </button>
                </div>
                
                <div class="player-card" id="playerCard" style="display: none;">
                    <div class="player-header">
                        <div class="player-rank" id="playerRank">7</div>
                        <div class="player-info">
                            <h2 id="playerName">TankMaster47</h2>
                            <p>Опыт: <span id="playerExp">25,400</span></p>
                        </div>
                    </div>
                    
                    <div class="player-stats">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="#4CAF50">
                                    <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20Z"/>
                                    <path d="M16.59 7.58L10 14.17L7.41 11.59L6 13L10 17L18 9L16.59 7.58Z"/>
                                </svg>
                            </div>
                            <div class="stat-value">1.62</div>
                            <div class="stat-label">У/П</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="#4CAF50">
                                    <path d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19Z"/>
                                    <path d="M17 17H7V7H17V17Z"/>
                                    <path d="M14 14H10V10H14V14Z"/>
                                </svg>
                            </div>
                            <div class="stat-value">845</div>
                            <div class="stat-label">Золотые ящики</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="#4CAF50">
                                    <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20Z"/>
                                    <path d="M12.5 7H11V13L16.2 16.2L17 14.9L12.5 12.2V7Z"/>
                                </svg>
                            </div>
                            <div class="stat-value">12,850</div>
                            <div class="stat-label">Gear Score</div>
                        </div>
                    </div>
                </div>
                
                <div class="top-players">
                    <h3 class="section-title" style="font-size: 1.6rem; margin-bottom: 20px;">Топ-5 игроков</h3>
                    <div class="player-row">
                        <div class="player-position">1</div>
                        <div class="player-name">ProTanker</div>
                        <div class="player-score">42,150</div>
                    </div>
                    <div class="player-row">
                        <div class="player-position">2</div>
                        <div class="player-name">Destroyer</div>
                        <div class="player-score">38,900</div>
                    </div>
                    <div class="player-row">
                        <div class="player-position">3</div>
                        <div class="player-name">TankMaster</div>
                        <div class="player-score">36,750</div>
                    </div>
                    <div class="player-row">
                        <div class="player-position">4</div>
                        <div class="player-name">Warrior47</div>
                        <div class="player-score">32,400</div>
                    </div>
                    <div class="player-row">
                        <div class="player-position">5</div>
                        <div class="player-name">IronSide</div>
                        <div class="player-score">29,800</div>
                    </div>
                </div>
            </section>

            <!-- Settings Section -->
            <section id="settings" class="section">
                <div class="section-header">
                    <h2 class="section-title">
                        <svg class="section-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 00.12-.61l-1.92-3.32a.488.488 0 00-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 00-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 00-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/>
                        </svg>
                        Настройки
                    </h2>
                </div>
                
                <div class="settings-card">
                    <div class="setting-item">
                        <div class="setting-info">
                            <h3>Внешний вид</h3>
                            <p>Темная или светлая тема оформления</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="themeSwitch" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="setting-item">
                        <div class="setting-info">
                            <h3>Приватность профиля</h3>
                            <p>Скрыть ваш профиль от других пользователей</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="privacySwitch">
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="setting-item">
                        <div class="setting-info">
                            <h3>Приватность игрового аккаунта</h3>
                            <p>Скрыть вашу игровую статистику</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="gamePrivacySwitch">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
                
                <div class="about-app">
                    <h3>О приложении</h3>
                    <p>47bot - официальное приложение для чата танкистов.</p>
                    <p>Версия: 1.0.0</p>
                    <p>© vseporchuu.</p>
                </div>
            </section>
        </div>
    </main>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <ul>
            <li><a href="#" class="nav-link active" data-section="dashboard"><i class="fas fa-home"></i> <span>Главная</span></a></li>
            <li><a href="#" class="nav-link" data-section="profile"><i class="fas fa-user"></i> <span>Профиль</span></a></li>
            <li><a href="#" class="nav-link" data-section="general"><i class="fas fa-globe"></i> <span>Общее</span></a></li>
            <li><a href="#" class="nav-link" data-section="rating"><i class="fas fa-trophy"></i> <span>Рейтинг</span></a></li>
            <li><a href="#" class="nav-link" data-section="settings"><i class="fas fa-cog"></i> <span>Настройки</span></a></li>
        </ul>
    </nav>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <i class="fas fa-tank"></i>
                    <span>47bot - Tanki Online Assistant</span>
                </div>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Инициализация Telegram WebApp
            const tg = window.Telegram.WebApp;
            
            // Получение данных пользователя из Telegram
            const user = tg.initDataUnsafe.user || {};
            const userName = user.first_name || 'Пользователь';
            const userLastName = user.last_name || '';
            const userUsername = user.username ? '@' + user.username : 'без username';
            const userId = user.id;
            
            // Установка аватара
            const userAvatar = document.getElementById('userAvatar');
            const profileAvatar = document.getElementById('profileAvatar');
            const userNameEl = document.getElementById('userName');
            const userUsernameEl = document.getElementById('userUsername');
            
            function setAvatar(element) {
                if (user.photo_url) {
                    element.innerHTML = '';
                    const avatarImg = document.createElement('img');
                    avatarImg.src = user.photo_url;
                    avatarImg.alt = userName;
                    avatarImg.style.width = '100%';
                    avatarImg.style.height = '100%';
                    avatarImg.style.borderRadius = '50%';
                    avatarImg.style.objectFit = 'cover';
                    element.appendChild(avatarImg);
                } else {
                    const initials = userName.charAt(0) + (userLastName ? userLastName.charAt(0) : '');
                    element.innerHTML = initials;
                }
            }
            
            if (userAvatar) setAvatar(userAvatar);
            if (profileAvatar) setAvatar(profileAvatar);
            
            userNameEl.textContent = `${userName} ${userLastName}`;
            userUsernameEl.textContent = userUsername;
            
            // Установка темы Telegram
            if (tg.colorScheme === 'dark') {
                document.body.classList.add('dark-theme');
                document.getElementById('themeSwitch').checked = true;
            }
            
            // Navigation
            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('.section');
            
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Remove active class from all links
                    navLinks.forEach(l => l.classList.remove('active'));
                    
                    // Add active class to clicked link
                    this.classList.add('active');
                    
                    // Hide all sections
                    sections.forEach(section => {
                        section.classList.remove('active');
                    });
                    
                    // Show target section
                    const targetSection = this.getAttribute('data-section');
                    document.getElementById(targetSection).classList.add('active');
                    
                    // Прокрутка вверх
                    window.scrollTo(0, 0);
                });
            });
            
            // Theme toggle
            const themeSwitch = document.getElementById('themeSwitch');
            
            themeSwitch.addEventListener('change', () => {
                document.body.classList.toggle('dark-theme');
                saveThemePreference();
            });
            
            function saveThemePreference() {
                const isDark = document.body.classList.contains('dark-theme');
                localStorage.setItem('theme', isDark ? 'dark' : 'light');
            }
            
            // Загрузка сохраненной темы
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-theme');
                document.getElementById('themeSwitch').checked = true;
            }
            
            // Tab switching
            const tabBtns = document.querySelectorAll('.tab-btn');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    // Remove active class from all buttons and contents
                    tabBtns.forEach(b => b.classList.remove('active'));
                    tabContents.forEach(c => c.classList.remove('active'));
                    
                    // Add active class to clicked button
                    btn.classList.add('active');
                    
                    // Show target content
                    const targetTab = btn.getAttribute('data-tab');
                    document.getElementById(targetTab).classList.add('active');
                });
            });
            
            // Player search
            const searchPlayerBtn = document.getElementById('searchPlayerBtn');
            const playerCard = document.getElementById('playerCard');
            
            searchPlayerBtn.addEventListener('click', () => {
                const searchValue = document.getElementById('playerSearch').value.trim();
                if (searchValue) {
                    // In a real app, this would call the bot API
                    playerCard.style.display = 'block';
                    
                    // Simulate API response
                    document.getElementById('playerName').textContent = searchValue;
                    document.getElementById('playerRank').textContent = Math.floor(Math.random() * 10) + 1;
                    document.getElementById('playerExp').textContent = Math.floor(Math.random() * 50000);
                }
            });
            
            // Bind nickname
            const bindNicknameBtn = document.getElementById('bindNicknameBtn');
            
            bindNicknameBtn.addEventListener('click', () => {
                const nickname = prompt('Введите ваш игровой никнейм:');
                if (nickname && nickname.trim() !== '') {
                    // In a real app, this would call the bot API to bind the nickname
                    document.getElementById('gameNickname').textContent = nickname;
                    
                    // Сохраняем в localStorage
                    localStorage.setItem('gameNickname', nickname);
                    
                    tg.showAlert(`Никнейм "${nickname}" успешно привязан!`);
                }
            });
            
            // Загрузка привязанного никнейма
            const savedNickname = localStorage.getItem('gameNickname');
            if (savedNickname) {
                document.getElementById('gameNickname').textContent = savedNickname;
            }
        });
    </script>
</body>
</html>
