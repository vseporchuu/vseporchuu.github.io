<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>47bot - Tanki Online Assistant</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --primary: #4CAF50;
            --primary-light: #81C784;
            --primary-dark: #388E3C;
            --primary-gradient: linear-gradient(135deg, #4CAF50, #2E7D32);
            --boost-gradient: linear-gradient(135deg, #FF9800, #FF5722);
            --secondary: #FFC107;
            --accent: #FF5722;
            --background: #121212;
            --surface: #1e1e1e;
            --card-bg: #252525;
            --text: #e0e0e0;
            --text-light: #b0b0b0;
            --text-lighter: #8a8a8a;
            --border: #333333;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
            --shadow-hover: 0 8px 24px rgba(0, 0, 0, 0.4);
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            --glass-effect: rgba(255, 255, 255, 0.05);
            --blur: blur(10px);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
        }

        body {
            background-color: var(--background);
            color: var(--text);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
            line-height: 1.5;
            font-size: 15px;
            padding-bottom: 70px;
            background-image: 
                radial-gradient(circle at 15% 50%, rgba(76, 175, 80, 0.05) 0%, transparent 25%),
                radial-gradient(circle at 85% 30%, rgba(76, 175, 80, 0.05) 0%, transparent 25%);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 16px;
            width: 100%;
        }

        /* Header styles */
        header {
            background-color: var(--surface);
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            backdrop-filter: var(--blur);
            background-color: rgba(30, 30, 30, 0.8);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo-icon {
            width: 34px;
            height: 34px;
            background: var(--primary-gradient);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .logo-icon svg {
            width: 20px;
            height: 20px;
            fill: white;
        }

        .logo h1 {
            font-size: 1.4rem;
            font-weight: 700;
            background: linear-gradient(90deg, #4CAF50, #8BC34A);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -0.5px;
        }

        /* Main content */
        .main-content {
            flex: 1;
            padding: 20px 0;
        }

        .section {
            display: none;
            animation: fadeIn 0.4s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-header {
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 12px;
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #e0f0e0;
            position: relative;
            padding-bottom: 8px;
            text-shadow: 0 1px 2px rgba(255,255,255,0.1);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 3px;
            background: var(--primary);
            border-radius: 2px;
        }

        .section-icon {
            width: 28px;
            height: 28px;
            fill: var(--primary);
        }

        /* Dashboard styles - COMPACT VERSION */
        .dashboard-compact {
            display: grid;
            grid-template-columns: 1fr;
            gap: 16px;
            margin-bottom: 20px;
        }

        .user-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 16px;
            background: var(--card-bg);
            border-radius: 16px;
            padding: 16px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .user-header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(76, 175, 80, 0.1) 0%, transparent 70%);
            z-index: 0;
        }

        .user-header:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-hover);
        }

        .avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--primary);
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            flex-shrink: 0;
            position: relative;
            z-index: 1;
        }

        .avatar.has-boost {
            border: 3px solid transparent;
            background: 
                linear-gradient(var(--card-bg), var(--card-bg)) padding-box,
                var(--boost-gradient) border-box;
            box-shadow: 0 0 15px rgba(255, 152, 0, 0.4);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 10px rgba(255, 152, 0, 0.4); }
            50% { box-shadow: 0 0 20px rgba(255, 152, 0, 0.7); }
            100% { box-shadow: 0 0 10px rgba(255, 152, 0, 0.4); }
        }

        .user-info {
            flex: 1;
            position: relative;
            z-index: 1;
        }

        .user-info h2 {
            font-size: 1.3rem;
            margin-bottom: 4px;
            font-weight: 600;
            color: white;
        }

        .user-info p {
            color: var(--text-light);
            font-size: 0.85rem;
            margin-bottom: 8px;
        }

        .progress-container {
            display: flex;
            align-items: center;
            gap: 12px;
            background: rgba(76, 175, 80, 0.1);
            padding: 8px 12px;
            border-radius: 10px;
            margin-top: 8px;
            font-size: 0.85rem;
            backdrop-filter: var(--blur);
        }

        .progress-label {
            font-size: 0.8rem;
            color: var(--text-light);
        }

        .progress-value {
            font-weight: 600;
            color: var(--primary);
            font-size: 0.9rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 12px;
            margin-bottom: 20px;
        }

        /* Compact stats */
        .compact-stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
            gap: 10px;
        }

        .stat-card {
            background: var(--card-bg);
            border-radius: 14px;
            padding: 14px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            backdrop-filter: var(--blur);
            border: 1px solid var(--border);
        }

        .stat-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-hover);
        }

        .stat-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--primary);
        }

        .stat-icon {
            width: 36px;
            height: 36px;
            background: rgba(76, 175, 80, 0.15);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: var(--primary);
            margin-bottom: 10px;
        }

        .stat-icon svg {
            width: 18px;
            height: 18px;
            fill: currentColor;
        }

        .stat-value {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 4px;
            color: #e0f0e0;
        }

        .stat-label {
            font-size: 0.8rem;
            color: var(--text-light);
        }

        .search-box {
            display: flex;
            gap: 10px;
            margin: 20px 0 16px;
        }

        .search-input {
            flex: 1;
            padding: 12px 16px;
            border: 1px solid var(--border);
            border-radius: 12px;
            font-size: 0.9rem;
            background: var(--card-bg);
            color: var(--text);
            transition: var(--transition);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.3);
        }

        .search-btn {
            background: var(--primary-gradient);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 0 20px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(76, 175, 80, 0.25);
        }

        /* Profile styles */
        .profile-header {
            background: var(--primary-gradient);
            color: white;
            border-radius: 16px;
            padding: 18px;
            margin-bottom: 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .profile-header::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0) 70%);
            transform: rotate(30deg);
        }

        .profile-rank {
            position: absolute;
            top: 12px;
            left: 12px;
            background-color: rgba(0,0,0,0.25);
            border-radius: 50%;
            width: 44px;
            height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.1rem;
            border: 2px solid rgba(255,255,255,0.3);
            backdrop-filter: var(--blur);
        }

        .profile-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid rgba(255,255,255,0.5);
            margin: 0 auto 12px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
            position: relative;
            z-index: 2;
        }

        .profile-name {
            font-size: 1.6rem;
            margin-bottom: 6px;
            font-weight: 600;
            position: relative;
            z-index: 2;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .profile-title {
            display: inline-block;
            background-color: rgba(0,0,0,0.3);
            padding: 5px 14px;
            border-radius: 16px;
            font-size: 0.85rem;
            margin-bottom: 10px;
            position: relative;
            z-index: 2;
            backdrop-filter: var(--blur);
        }

        .profile-gear-score {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 4px;
            position: relative;
            z-index: 2;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .profile-gear-label {
            font-size: 0.8rem;
            opacity: 0.9;
            position: relative;
            z-index: 2;
        }

        .profile-tabs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            margin-bottom: 20px;
        }

        .tab-btn {
            background-color: var(--card-bg);
            border: none;
            padding: 10px 8px;
            border-radius: 12px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            box-shadow: var(--shadow);
            text-align: center;
            position: relative;
            overflow: hidden;
            border: 1px solid var(--border);
        }

        .tab-btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-hover);
        }

        .tab-btn.active {
            background: var(--primary-gradient);
            color: white;
        }

        .tab-btn i {
            font-size: 1.3rem;
            color: var(--text);
        }

        .tab-btn.active i {
            color: white;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.4s ease;
        }

        .tab-content.active {
            display: block;
        }

        /* Account Data Section */
        .account-data-section {
            margin-bottom: 24px;
        }

        .account-data-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 12px;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .account-data-title i {
            font-size: 1.1rem;
        }

        .scroll-container {
            display: flex;
            overflow-x: auto;
            gap: 12px;
            padding-bottom: 8px;
            margin-bottom: 20px;
            scrollbar-width: thin;
            scrollbar-color: var(--primary) var(--card-bg);
        }

        .scroll-container::-webkit-scrollbar {
            height: 5px;
        }

        .scroll-container::-webkit-scrollbar-thumb {
            background-color: var(--primary);
            border-radius: 3px;
        }

        .scroll-container::-webkit-scrollbar-track {
            background: var(--card-bg);
            border-radius: 3px;
        }

        .equipment-card {
            background: var(--card-bg);
            border-radius: 14px;
            padding: 16px;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            gap: 12px;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            min-width: 220px;
            flex-shrink: 0;
            border: 1px solid var(--border);
        }

        .equipment-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-hover);
        }

        .equipment-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: var(--primary);
            border-radius: 2px;
        }

        .equipment-icon {
            width: 50px;
            height: 50px;
            background: rgba(76, 175, 80, 0.15);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.6rem;
            color: var(--primary);
            flex-shrink: 0;
        }

        .equipment-icon svg {
            width: 28px;
            height: 28px;
            fill: currentColor;
        }

        .equipment-info {
            flex: 1;
        }

        .equipment-name {
            font-weight: 600;
            margin-bottom: 5px;
            font-size: 1rem;
            color: white;
        }

        .equipment-stats {
            font-size: 0.9rem;
            color: var(--text-light);
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .equipment-stat {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 0.85rem;
        }

        .equipment-stat i {
            font-size: 0.75rem;
            color: var(--primary);
        }

        /* General section */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 16px;
        }

        .service-card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 20px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            cursor: pointer;
            text-align: center;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            border: 1px solid var(--border);
        }

        .service-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }

        .service-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--primary);
        }

        .service-card i {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 16px;
            transition: var(--transition);
        }

        .service-card:hover i {
            transform: scale(1.1);
            color: var(--primary-light);
        }

        .service-card h3 {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: white;
        }

        .service-card p {
            color: var(--text-light);
            line-height: 1.5;
            font-size: 0.9rem;
            flex: 1;
        }

        /* Rating section */
        .player-card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 20px;
            box-shadow: var(--shadow);
            margin-bottom: 20px;
            transition: var(--transition);
            border: 1px solid var(--border);
        }

        .player-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-hover);
        }

        .player-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .player-rank {
            width: 44px;
            height: 44px;
            background: var(--primary-gradient);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            font-weight: 700;
            color: white;
            flex-shrink: 0;
        }

        .player-info h2 {
            font-size: 1.3rem;
            margin-bottom: 5px;
            color: white;
        }

        .player-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 12px;
            margin-top: 16px;
        }

        .top-players {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 20px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
        }

        .player-row {
            display: flex;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid var(--border);
            transition: var(--transition);
        }

        .player-row:hover {
            background: rgba(255, 255, 255, 0.03);
        }

        .player-row:last-child {
            border-bottom: none;
        }

        .player-position {
            width: 28px;
            font-weight: 700;
            color: var(--primary);
            font-size: 0.95rem;
            text-align: center;
        }

        .player-name {
            flex: 1;
            font-weight: 500;
            font-size: 0.95rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            color: white;
        }

        .player-score {
            color: var(--primary);
            font-weight: 600;
            font-size: 0.95rem;
        }

        /* Settings section */
        .settings-card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 20px;
            box-shadow: var(--shadow);
            margin-bottom: 20px;
            border: 1px solid var(--border);
        }

        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid var(--border);
        }

        .setting-item:last-child {
            border-bottom: none;
        }

        .setting-info {
            flex: 1;
            padding-right: 12px;
        }

        .setting-info h3 {
            font-size: 1rem;
            margin-bottom: 4px;
            color: white;
        }

        .setting-info p {
            color: var(--text-light);
            font-size: 0.85rem;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 48px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #555;
            transition: var(--transition);
            border-radius: 30px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: var(--transition);
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--primary);
        }

        input:checked + .slider:before {
            transform: translateX(24px);
        }

        .about-app {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 20px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
        }

        .about-app h3 {
            font-size: 1.3rem;
            margin-bottom: 16px;
            color: white;
        }

        .about-app p {
            line-height: 1.6;
            margin-bottom: 10px;
            font-size: 0.95rem;
            color: var(--text-light);
        }

        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: var(--surface);
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            padding: 8px 0;
            backdrop-filter: var(--blur);
            background-color: rgba(30, 30, 30, 0.8);
        }

        .bottom-nav ul {
            display: flex;
            justify-content: space-around;
            list-style: none;
        }

        .bottom-nav a {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: var(--text-light);
            font-size: 0.75rem;
            padding: 6px 10px;
            border-radius: 12px;
            transition: var(--transition);
        }

        .bottom-nav a.active {
            color: var(--primary);
            background: rgba(76, 175, 80, 0.15);
        }

        .bottom-nav a i {
            font-size: 1.2rem;
            margin-bottom: 4px;
        }

        .bottom-nav a span {
            font-weight: 500;
        }

        /* Footer */
        footer {
            display: none;
        }

        /* Responsive styles */
        @media (max-width: 900px) {
            .header-content {
                flex-wrap: wrap;
            }
            
            .section-title {
                font-size: 1.4rem;
            }
            
            .user-header {
                flex-direction: column;
                text-align: center;
            }
            
            .profile-tabs {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: 1fr 1fr;
            }
            
            .compact-stats-grid {
                grid-template-columns: 1fr 1fr;
            }
            
            .services-grid {
                grid-template-columns: 1fr;
            }
            
            .dashboard-compact {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 12px;
            }
            
            .section-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 12px;
            }
            
            .section-title {
                font-size: 1.3rem;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .compact-stats-grid {
                grid-template-columns: 1fr;
            }
            
            .profile-header {
                padding: 16px 10px;
            }
            
            .profile-name {
                font-size: 1.4rem;
            }
            
            .search-box {
                flex-direction: column;
            }
            
            .search-btn {
                justify-content: center;
                padding: 12px;
            }

            .bottom-nav a {
                padding: 5px 8px;
                font-size: 0.7rem;
            }

            .bottom-nav a i {
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body class="dark-theme">
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M21 11H3C2.45 11 2 11.45 2 12V14C2 14.55 2.45 15 3 15H21C21.55 15 22 14.55 22 14V12C22 11.45 21.55 11 21 11Z" fill="white"/>
                            <path d="M3 9H6V11H3V9Z" fill="white"/>
                            <path d="M21 9H18V11H21V9Z" fill="white"/>
                            <path d="M4 15H5V17H4V15Z" fill="white"/>
                            <path d="M20 15H19V17H20V15Z" fill="white"/>
                            <path d="M18 6H15V9H18V6Z" fill="white"/>
                            <path d="M9 6H6V9H9V6Z" fill="white"/>
                            <path d="M15 17H9V19H15V17Z" fill="white"/>
                            <path d="M10 15H14V17H10V15Z" fill="white"/>
                        </svg>
                    </div>
                    <h1>47bot</h1>
                </div>
            </div>
        </div>
    </header>

    <main class="main-content">
        <div class="container">
            <!-- Dashboard Section -->
            <section id="dashboard" class="section active">
                <div class="section-header">
                    <h2 class="section-title">
                        <svg class="section-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
                        </svg>
                        Статистика чата
                    </h2>
                </div>
                
                <div class="dashboard-compact">
                    <div class="user-header">
                        <div class="avatar has-boost" id="userAvatar">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="user-info">
                            <h2 id="userName">TankMaster47</h2>
                            <p id="userUsername">@tankmaster</p>
                            <div class="progress-container">
                                <div class="progress-label">Прогресс до следующего звания:</div>
                                <div class="progress-value">250 / 500</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="compact-stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M18 11H6C5.45 11 5 11.45 5 12C5 12.55 5.45 13 6 13H18C18.55 13 19 12.55 19 12C19 11.45 18.55 11 18 11Z"/>
                                    <path d="M18 7H6C5.45 7 5 7.45 5 8C5 8.55 5.45 9 6 9H18C18.55 9 19 8.55 19 8C19 7.45 18.55 7 18 7Z"/>
                                    <path d="M18 15H6C5.45 15 5 15.45 5 16C5 16.55 5.45 17 6 17H18C18.55 17 19 16.55 19 16C19 15.45 18.55 15 18 15Z"/>
                                </svg>
                            </div>
                            <div class="stat-value">Капитан</div>
                            <div class="stat-label">Звание чата</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20Z"/>
                                    <path d="M12.5 7H11V13L16.2 16.2L17 14.9L12.5 12.2V7Z"/>
                                </svg>
                            </div>
                            <div class="stat-value">12,450</div>
                            <div class="stat-label">Опыт чата</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2ZM20 16H6L4 18V4H20V16Z"/>
                                    <path d="M7 9H17V11H7V9ZM7 12H14V14H7V12Z"/>
                                </svg>
                            </div>
                            <div class="stat-value">8,450</div>
                            <div class="stat-label">Сообщения</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20Z"/>
                                    <path d="M12.5 7H11V13L16.2 16.2L17 14.9L12.5 12.2V7Z"/>
                                </svg>
                            </div>
                            <div class="stat-value">#7</div>
                            <div class="stat-label">Место в чате</div>
                        </div>
                    </div>
                </div>
                
                <div class="search-box">
                    <input type="text" class="search-input" placeholder="Поиск профиля..." id="profileSearch">
                    <button class="search-btn">
                        <i class="fas fa-search"></i> Найти
                    </button>
                </div>
            </section>

            <!-- Profile Section -->
            <section id="profile" class="section">
                <div class="section-header">
                    <h2 class="section-title">
                        <svg class="section-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                        </svg>
                        Игровой профиль
                    </h2>
                    <button class="search-btn" id="bindNicknameBtn">
                        <i class="fas fa-link"></i> Привязать никнейм
                    </button>
                </div>
                
                <!-- Enhanced Profile Content -->
                <div class="profile-header">
                    <div class="profile-rank">#7</div>
                    <div class="profile-avatar" id="profileAvatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <h1 class="profile-name" id="gameNickname">TankMaster47</h1>
                    <div class="profile-title">Звание: Капитан</div>
                    <div class="profile-gear-score">12,850</div>
                    <div class="profile-gear-label">Gear Score</div>
                </div>

                <div class="profile-tabs">
                    <button class="tab-btn active" data-tab="stats">
                        <i class="fas fa-chart-bar"></i> Статистика
                    </button>
                    <button class="tab-btn" data-tab="account-data">
                        <i class="fas fa-database"></i> Данные аккаунта
                    </button>
                </div>

                <!-- Stats Tab -->
                <div id="stats" class="tab-content active">
                    <div class="compact-stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20Z"/>
                                    <path d="M12.5 7H11V13L16.2 16.2L17 14.9L12.5 12.2V7Z"/>
                                </svg>
                            </div>
                            <div class="stat-value">8,450</div>
                            <div class="stat-label">Уничтожено</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20Z"/>
                                    <path d="M15 9H9V15H15V9Z"/>
                                </svg>
                            </div>
                            <div class="stat-value">5,210</div>
                            <div class="stat-label">Подбито</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20Z"/>
                                    <path d="M16.59 7.58L10 14.17L7.41 11.59L6 13L10 17L18 9L16.59 7.58Z"/>
                                </svg>
                            </div>
                            <div class="stat-value">1.62</div>
                            <div class="stat-label">У/П</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M11.99 2C6.47 2 2 6.48 2 12C2 17.52 6.47 22 11.99 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 11.99 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20Z"/>
                                    <path d="M12.5 7H11V13L16.2 16.2L17 14.9L12.5 12.2V7Z"/>
                                </svg>
                            </div>
                            <div class="stat-value">320 ч</div>
                            <div class="stat-label">Время игры</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20Z"/>
                                    <path d="M15.55 8.46L16.96 9.87L15.17 11.66L16.58 13.07L13.75 15.9L11.94 14.09L10.53 15.5L9.12 14.09L10.53 12.68L8.71 10.86L10.12 9.45L11.54 10.87L13.32 9.08L11.91 7.66L15.55 8.46Z"/>
                                </svg>
                            </div>
                            <div class="stat-value">1.2M</div>
                            <div class="stat-label">Кристаллы</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19Z"/>
                                    <path d="M17 17H7V7H17V17Z"/>
                                    <path d="M14 14H10V10H14V14Z"/>
                                </svg>
                            </div>
                            <div class="stat-value">845</div>
                            <div class="stat-label">Золотые ящики</div>
                        </div>
                    </div>
                </div>

                <!-- Account Data Tab -->
                <div id="account-data" class="tab-content">
                    <div class="account-data-section">
                        <h3 class="account-data-title">
                            <i class="fas fa-gun"></i>
                            Пушки
                        </h3>
                        <div class="scroll-container">
                            <div class="equipment-card">
                                <div class="equipment-icon">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M13 14H11V9H13V14ZM13 18H11V16H13V18Z"/>
                                        <path d="M17.73 4.23L16.3 5.66C17.1 6.45 17.55 7.5 17.55 8.65C17.55 11.03 15.58 13 13.2 13H10V15H14V17H10V21H8V17H6V15H8V13H7.5C5 13 3 11 3 8.5C3 6.5 4.5 4.9 6.5 4.5C7 3.9 7.8 3.5 8.5 3.5C9.7 极狐极狐 10.8 4.2 11.2 5.2C11.6 5.1 12 5 12.5 5C14.1 5 15.5 5.7 极狐 6.9L17.93 5.46C16.73 4.16 15.05 3.5 13.5 3.5C12.35 3.5 11.2 3.85 10.2 4.45C9.35 3.55 8.15 3 6.9 3C5.3 3 3.极狐 4.1 3.3 5.7C1.75 6.5 0.7 8.1 0.7 10C0.7 12.6 2.7 14.6 5.2 14.6H7V12.6H5.2C3.7 12.6 2.7 11.5 2.7 10C2.7 8.9 3.45 8 4.5 7.7L5.7 7.5L极狐 6.3C6.2 5.4 7 4.7 7.9 4.7C8.4 4.7 8.8 4.9 9.1 5.2L10.2 6.3C10 7.4 10.2 8.6 10.8 9.5L12.4 8.1C11.6 7.4 11.1 6.4 11.1 极狐.3C11.1 4.8 11.2 4.3 11.4 3.9C9.8 极狐.3 8.1 4 7.2 5.3C6.5 5.1 5.7 5.4 5.3 6C4.9 6.6 5.1 7.4 5.7 7.8C6 8 6.3 8.1 6.6 8.1C7.4 8.1 8 7.5 8 6.7C8 6.6 8 6.5 7.9 6.4C7.8 6.3 7.7 6.2 7.6 6.2C7.4 6.1 7.2 6 7 6C6.4 6 6 6.4 6 7C6 7.6 6.4 8 7 8C7.6 8 8 7.6 8 7V6.7C8 6.3 8.3 6 8.7 6C8.9 6 9.1 6.1 9.2 6.2L10.4 7.4C10.9 6.8 11.1 6 11 5.3C11 5.2 11 5.1 10.9 5C10.8 4.8 10.6 4.7 10.5 4.6C10.3 4.4 10 4.3 9.8 4.3C9.3 4.3 8.9 4.6 8.7 5C8.5 5.4 极狐.5 5.8 8.极狐 6.2C8.9 6.6 9.3 6.8 9.7 6.8C10.5 6.8 11.1 6.2 11.1 5.4C11.1 4.9 11.3 4.5 11.6 4.1C12.2 4.3 12.8 4.5 13.3 4.9C14.1 5.5 14.6 6.4 14.6 7.5C14.6 8.7 13.9 9.7 12.8 10.2L11.4 11.6C12.5 12 13 13 13 14.1V15H15.5C16.3 15 17 14.3 17 13.5C17 12.7 16.3 12 15.5 12H14V10H15.5C17.4 10 19 极狐.6 19 13.5C19 15.4 17.4 17 15.5 17H14V19H16V21H12V19H14V17H12V15H10V12H13.2C14.8 12 16 10.8 16 9.2C16 8.2 15.5 7.3 14.7 6.7C14.1 6.3 13.5 6 12.8 6C12.1 6 11.4 6.2 10.8 6.6L9.4 5.2C10.1 4.5 11 4 12 4C13.3 4 14.6 4.5 15.5 5.5L16.93 4.06C15.8 2.95 14.3 2.3 12.8 2.3C11.1 2.3 9.5 3 8.3 4.2L6.87 2.77L5.46 4.18L6.89 5.61C6.3 6.3 6 7.2 6 8.1C6 9.4 6.5 10.6 7.4 11.5C8.3 12.4 9.5 12.9 10.8 12.9H13V10.9H10.8C9.8 10.9 8.9 10.4 8.3 9.8C7.7 9.2 7.3 8.3 7.3 7.3C7极狐 6.7 7.5 6.1 7.8 5.6L9.2 7C9.1 7.2 9 7.5 9 7.8C9 8.6 9.4 9.3 10 9.7L11.4 11.1C10.5 11.5 9.9 12.4 9.9 13.4V15H7.5C5.6 15 4 13.4 4 11.5C4 9.6 5.6 8 7.5 8H9V6H7.5C6.7 6 6 6.7 6 7.5C6 8.3 6.7 9 7.5 9H9V11H7.5C6.1 11 5 9.9 5 8.5C5 7.1 6.1 6 7.5 6H9V4.5C9 3.7 9.7 3 10.5 3C11.3 3 12 3.7 12 4.5V6H13.5C14.9 6 16 7.1 16 8.5C16 9.9 14.9 11 13.5 11H12V13H13.5C14.3 13 15 12.3 15 11.5C15 10.7 14.3 10 13.5 极狐H12V8H13.5C15.4 8 17 9.6 17 11.5C17 13.极狐 15.4 15 13.5 15H12V17H14V19H12V21H16V19H14V17H16.5C18.4 17 20 15.4 20 13.5C20 11.6 18.4 10 16.5 10H15V8H16.5C17.3 8 18 7.3 18 6.5C18 5.7 17.3 5 16.5 5H15V3H17.73L19.14 4.41L17.73 5.82L19.14 7.23L17.73 8.64L19.14 10.05L17.73 11.46L19.14 12.87L17.73 14.28L19.14 15.69L17.73 17.1L19.14 18.51L17.73 19.92L19.14 21.33L20.55 19.92L19极狐 18.51L20.55 17.10L19.14 15.69L20.55 14.28L19.14 12.87L20.55 11.46L19.14 10.05L20.55 8.64L19.14 7.23L20.55 5.82L19.14 4.41L17.73 5.82Z"/>
                                    </svg>
                                </div>
                                <div class="equipment-info">
                                    <div class="equipment-name">Огнемет</div>
                                    <div class="equipment-stats">
                                        <div class="equipment-stat">
                                            <svg width="16" height="16" viewBox="极狐 0 24 24" fill="#4CAF50">
                                                <path d="M13 3C13 2.45 12.55 2 12 2C11.45 2 11 2.45 11 3V13C11 13.55 11.45 14 12 极狐4C12.55 14 13 13.55 13 13V3ZM17.59 5.59L19 7L12 14L5 7L6.41 5.59L12 11.17L17.59 5.59Z"/>
                                            </svg>
                                            <span>25,400 очков</span>
                                        </div>
                                        <div class="equipment-stat">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="#4CAF50">
                                                <path d="M12 21.35L10.55 20.03C5.4 15.36 2 12.28 2 8.5C2 5.42 4.42 3 7.5 3C9.24 3 10.91 3.81 12 5.09C13.09 3.81 14.76 3 16.5 3C19.58 3 22 5.42 22 8.5C22 12.28 18.6 15.36 13.45 20.04L12 21.35Z"/>
                                            </svg>
                                            <span>850 урона</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="equipment-card">
                                <div class="equipment-icon">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M7 5H17V7H极狐V5ZM7 9H17V11H7V9ZM7 13H17V15H7V13Z"/>
                                        <path d="M3 3V21H21V3H3ZM19 19H5V5H19V19Z"/>
                                    </svg>
                                </div>
                                <div class="equipment-info">
                                    <div class="equipment-name">Рейлган</div>
                                    <div class="equipment-stats">
                                        <div class="equipment-stat">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="#4CAF50">
                                                <path d="M13 3C13 2.45 12.55 2 12 2C11.45 2 11 2.45 11 3V13极狐C11 13.55 11.45 14 12 14C12.55 14 13 极狐3.55 13 13V3ZM17.59 5.59L19 7L12 14L5 7L6.41 5.59L12 11.17L17.59 5.59Z"/>
                                            </svg>
                                            <span>18,700 очков</span>
                                        </div>
                                        <div class="equipment-stat">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="#4CAF50">
                                                <path d="M12 21.35L10.55 20.03C5.4 15.36 2 12.28 2 8.5C2 5.42 4.42 3 7.5 3C9.24 3 10.91 3.81 12 5.09C13.09 3.81 14.76 3 16.5 3C19.58 3 22 5.42 22 8.5C22 12.28 18.6 15.36 13.45 20.04L12 21.35Z"/>
                                            </svg>
                                            <span>1,200 урона</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="equipment-card">
                                <div class="equipment-icon">
                                    <svg width="32" height="32" viewBox="0 0 24 极狐4" fill="currentColor">
                                        <path d="M19 14V6C19 4.9 18.1 4 17 4H7C5.9 4 5 4.9 5 6V14C5 15.1 5.9 16 7 16H17C18.1 16 19 15.1 19 14ZM17 14H7V6H17V14ZM12 8C10.9 8 10 8.9 10 10C10 11.1 10.9 12 12 12C13.1 12 14 11.1 14 10C14 8.9 13.1 8 12 8ZM8 18H16V20H8V18Z"/>
                                    </svg>
                                </div>
                                <div class="equipment-info">
                                    <div class="equipment-name">Гром</div>
                                    <div class="equipment-stats">
                                        <div class="equipment-stat">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="#4CAF50">
                                                <path d="M13 3C13 2.45 12.55 2 极狐2 2C11.45 2 11 2.45 11 3V13C11 13.55 11.45 14 12 14C12.55 14 13 13.55 13 13V3ZM17.59 5.59L19 7极狐L12 14L5 7L6.41 5.59L12 11.17L17.59 5.59Z"/>
                                            </svg>
                                            <span>12,500 очков</span>
                                        </div>
                                        <div class="equipment-stat">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="#4CAF50">
                                                <path d="M12 21.35L10.55 20.03C5.4 15.36 2 12.28 2 8.5C2 5.42 4.42 3 7.5 3C9.24 3 10.91 3.81 12 5.09C13.09 3.81 14.76 3 16.5 3极狐C19.58 3 22 极狐.42 22 8.5C22 12.28 18.6 15.36 13.45 20.04L12 21.35Z"/>
                                            </svg>
                                            <span>950 урона</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Остальное содержимое секции профиля -->
                </div>
            </section>

            <!-- Остальные секции (Общее, Рейтинг, Настройки) -->

        </div>
    </main>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <ul>
            <li><a href="#" class="nav-link active" data-section="dashboard"><i class="fas fa-home"></i> <span>Главная</span></a></li>
            <li><a href="#" class="nav-link" data-section="profile"><i class="fas fa-user"></i> <span>Профиль</span></a></li>
            <li><a href="#" class="nav-link" data-section="general"><i class="fas fa-globe"></i> <span>Общее</span></a></li>
            <li><a href="#" class="nav-link" data-section="rating"><i class="fas fa-trophy"></i> <span>Рейтинг</span></a></li>
            <li><a href="#" class="nav-link" data-section="settings"><极狐 class="fas fa-cog"></i> <span>Настройки</span></a></li>
        </ul>
    </nav>

    <script>
        // JavaScript код остается практически без изменений
        document.addEventListener('DOMContentLoaded', function() {
            // Инициализация Telegram WebApp
            const tg = window.Telegram.WebApp;
            
            // Получение данных пользователя из Telegram
            const user = tg.initDataUnsafe.user || {};
            const userName = user.first_name || 'Пользователь';
            const userLastName = user.last_name || '';
            const userUsername = user.username ? '@' + user.username : 'без username';
            const userId = user.id;
            
            // Установка аватара
            const userAvatar = document.getElementById('userAvatar');
            const profileAvatar = document.getElementById('profileAvatar');
            const userNameEl = document.getElementById('userName');
            const userUsernameEl = document.getElementById('userUsername');
            
            function setAvatar(element) {
                if (user.photo_url) {
                    element.innerHTML = '';
                    const avatarImg = document.createElement('img');
                    avatarImg.src = user.photo_url;
                    avatarImg.alt = userName;
                    avatarImg.style.width = '100%';
                    avatarImg.style.height = '100%';
                    avatarImg.style.borderRadius = '50%';
                    avatarImg.style.objectFit = 'cover';
                    element.appendChild(avatarImg);
                } else {
                    const initials = userName.charAt(0) + (userLastName ? userLastName.charAt(0) : '');
                    element.innerHTML = initials;
                }
            }
            
            if (userAvatar) setAvatar(userAvatar);
            if (profileAvatar) setAvatar(profileAvatar);
            
            userNameEl.textContent = `${userName} ${userLastName}`;
            userUsernameEl.textContent = userUsername;
            
            // Установка темы Telegram
            if (tg.colorScheme === 'dark') {
                document.body.classList.add('dark-theme');
                document.getElementById('themeSwitch').checked = true;
            }
            
            // Navigation
            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('.section');
            
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Remove active class from all links
                    navLinks.forEach(l => l.classList.remove('active'));
                    
                    // Add active class to clicked link
                    this.classList.add('active');
                    
                    // Hide all sections
                    sections.forEach(section => {
                        section.classList.remove('active');
                    });
                    
                    // Show target section
                    const targetSection = this.getAttribute('data-section');
                    document.getElementById(targetSection).classList.add('active');
                    
                    // Прокрутка вверх
                    window.scrollTo(0, 0);
                });
            });
            
            // Theme toggle
            const themeSwitch = document.getElementById('themeSwitch');
            
            themeSwitch.addEventListener('change', ()极狐 {
                document.body.classList.toggle('dark-theme');
                saveThemePreference();
            });
            
            function saveThemePreference() {
                const isDark = document.body.classList.contains('dark-theme');
                localStorage.setItem('theme', isDark ? 'dark' : 'light');
            }
            
            // Загрузка сохраненной темы
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-theme');
                document.getElementById('themeSwitch').checked = true;
            }
            
            // Tab switching
            const tabBtns = document.querySelectorAll('.tab-btn');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    // Remove active class from all buttons and contents
                    tabBtns.forEach(b => b.classList.remove('active'));
                    tabContents.forEach(c => c.classList.remove('active'));
                    
                    // Add active class to clicked button
                    btn.classList.add('active');
                    
                    // Show target content
                    const targetTab = btn.getAttribute('data-tab');
                    document.getElementById(targetTab).classList.add('active');
                });
            });
            
            // Player search
            const searchPlayerBtn = document.getElementById('searchPlayerBtn');
            const playerCard = document.getElementById('playerCard');
            
            searchPlayerBtn.addEventListener('click', () => {
                const searchValue = document.getElementById('playerSearch').value.trim();
                if (searchValue) {
                    // In a real app, this would call the bot API
                    playerCard.style.display = 'block';
                    
                    // Simulate API response
                    document.getElementById('playerName').textContent = searchValue;
                    document.getElementById('playerRank').textContent = Math.floor(Math.random() * 10) + 1;
                    document.getElementById('playerExp').textContent = Math.floor(Math.random() * 50000);
                }
            });
            
            // Bind nickname
            const bindNicknameBtn = document.getElementById('bindNicknameBtn');
            
            bindNicknameBtn.addEventListener('click', () => {
                const nickname = prompt('Введите ваш игровой никнейм:');
                if (nickname && nickname.trim() !== '') {
                    // In a real app, this would call the bot API to bind the nickname
                    document.getElementById('gameNickname').textContent = nickname;
                    
                    // Сохраняем в localStorage
                    localStorage.setItem('gameNickname', nickname);
                    
                    tg.showAlert(`Никнейм "${nickname}" успешно привязан!`);
                }
            });
            
            // Загрузка привязанного никнейма
            const savedNickname = localStorage.getItem('gameNickname');
            if (savedNickname) {
                document.getElementById('gameNickname').textContent = savedNickname;
            }
        });
    </script>
</body>
</html>
