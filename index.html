<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IDLE FARM</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            user-select: none;
        }
        
        body {
            background: linear-gradient(135deg, #0d1b2a, #1b263b);
            color: #e0e1dd;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .container {
            width: 100%;
            max-width: 500px;
            background: rgba(27, 38, 59, 0.8);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 2px solid #415a77;
            margin-bottom: 20px;
        }
        
        .game-title {
            font-size: 28px;
            font-weight: bold;
            color: #ffb74d;
            text-shadow: 0 0 10px rgba(255, 183, 77, 0.5);
        }
        
        .currency-display {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-bottom: 20px;
        }
        
        .currency-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 15px;
            background: rgba(65, 90, 119, 0.5);
            border-radius: 12px;
            font-size: 18px;
        }
        
        .currency-icon {
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 10px;
        }
        
        .currency-value {
            font-weight: bold;
            color: #ffb74d;
        }
        
        .income-display {
            text-align: center;
            padding: 15px;
            background: rgba(26, 36, 56, 0.8);
            border-radius: 15px;
            margin-bottom: 20px;
            border: 2px solid #415a77;
        }
        
        .income-label {
            font-size: 16px;
            color: #e0e1dd;
            margin-bottom: 5px;
        }
        
        .income-value {
            font-size: 24px;
            font-weight: bold;
            color: #4caf50;
        }
        
        .upgrades-section {
            margin-bottom: 20px;
        }
        
        .section-title {
            font-size: 20px;
            color: #ffb74d;
            margin-bottom: 15px;
            padding-bottom: 5px;
            border-bottom: 1px solid #415a77;
        }
        
        .upgrades-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }
        
        .upgrade-item {
            background: rgba(42, 57, 83, 0.8);
            border-radius: 15px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: transform 0.2s, box-shadow 0.2s;
            border: 2px solid #415a77;
            cursor: pointer;
        }
        
        .upgrade-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            background: rgba(51, 69, 100, 0.8);
        }
        
        .upgrade-icon {
            font-size: 36px;
            margin-bottom: 10px;
        }
        
        .upgrade-name {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 5px;
            text-align: center;
        }
        
        .upgrade-level {
            font-size: 14px;
            color: #ffb74d;
            margin-bottom: 8px;
        }
        
        .upgrade-cost {
            font-size: 14px;
            color: #4caf50;
            font-weight: bold;
        }
        
        .boost-section {
            background: rgba(65, 90, 119, 0.3);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 20px;
            text-align: center;
            border: 2px solid #415a77;
        }
        
        .boost-button {
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            color: white;
            font-weight: bold;
            font-size: 18px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            width: 100%;
            box-shadow: 0 5px 15px rgba(247, 147, 30, 0.3);
        }
        
        .boost-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(247, 147, 30, 0.4);
        }
        
        .farm-section {
            background: rgba(26, 36, 56, 0.8);
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            border: 2px solid #415a77;
        }
        
        .farm-button {
            background: linear-gradient(135deg, #388e3c, #4caf50);
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            color: white;
            font-weight: bold;
            font-size: 18px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            width: 100%;
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
        }
        
        .farm-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(76, 175, 80, 0.4);
        }
        
        .footer {
            margin-top: 20px;
            text-align: center;
            color: #778da9;
            font-size: 14px;
        }
        
        @media (max-width: 500px) {
            .upgrades-grid {
                grid-template-columns: 1fr;
            }
            
            .currency-item {
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="game-title">IDLE FARM</h1>
        </div>
        
        <div class="currency-display">
            <div class="currency-item">
                <div style="display: flex; align-items: center;">
                    <div class="currency-icon">üí∞</div>
                    <span>CASH</span>
                </div>
                <span class="currency-value" id="cash-value">5.21ac</span>
            </div>
            
            <div class="currency-item">
                <div style="display: flex; align-items: center;">
                    <div class="currency-icon">‚≠ê</div>
                    <span>SUPER CASH</span>
                </div>
                <span class="currency-value" id="super-cash-value">16</span>
            </div>
            
            <div class="currency-item">
                <div style="display: flex; align-items: center;">
                    <div class="currency-icon">üå≤</div>
                    <span>LUMBER</span>
                </div>
                <span class="currency-value" id="lumber-value">500</span>
            </div>
        </div>
        
        <div class="income-display">
            <div class="income-label">IDLE CASH</div>
            <div class="income-value" id="idle-cash-value">634aa/s</div>
        </div>
        
        <div class="upgrades-section">
            <h2 class="section-title">UPGRADES</h2>
            <div class="upgrades-grid">
                <div class="upgrade-item" onclick="buyUpgrade('market')">
                    <div class="upgrade-icon">üè™</div>
                    <div class="upgrade-name">MARKET</div>
                    <div class="upgrade-level">Level 27.6T</div>
                    <div class="upgrade-cost">1ad</div>
                </div>
                
                <div class="upgrade-item" onclick="buyUpgrade('farm')">
                    <div class="upgrade-icon">üåæ</div>
                    <div class="upgrade-name">FARM</div>
                    <div class="upgrade-level">Level 69aa</div>
                    <div class="upgrade-cost">1.57ac</div>
                </div>
                
                <div class="upgrade-item" onclick="buyUpgrade('transport')">
                    <div class="upgrade-icon">üöö</div>
                    <div class="upgrade-name">TRANSPORT</div>
                    <div class="upgrade-level">Level 10.75Th</div>
                    <div class="upgrade-cost">15.7ab</div>
                </div>
                
                <div class="upgrade-item" onclick="buyUpgrade('workers')">
                    <div class="upgrade-icon">üë®‚Äçüåæ</div>
                    <div class="upgrade-name">WORKERS</div>
                    <div class="upgrade-level">Level 12h</div>
                    <div class="upgrade-cost">35ag</div>
                </div>
            </div>
        </div>
        
        <div class="boost-section">
            <h2 class="section-title">BOOST</h2>
            <button class="boost-button" onclick="activateBoost()">Boost!</button>
        </div>
        
        <div class="farm-section">
            <h2 class="section-title">FARM</h2>
            <button class="farm-button" onclick="collectFarm()">Collect 50aa</button>
        </div>
        
        <div class="footer">
            <p>IDLE FARM ¬© 2023 | Telegram Mini App</p>
        </div>
    </div>

    <script>
        // –ò–≥—Ä–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
        let gameData = {
            cash: 5.21, // –≤ ac
            superCash: 16,
            lumber: 500,
            idleCash: 634, // –≤ aa/s
            upgrades: {
                market: { level: 27.6, cost: 1 }, // –≤ T –∏ ad
                farm: { level: 69, cost: 1.57 }, // –≤ aa –∏ ac
                transport: { level: 10.75, cost: 15.7 }, // –≤ Th –∏ ab
                workers: { level: 12, cost: 35 } // –≤ h –∏ ag
            },
            lastUpdate: Date.now()
        };
        
        // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª –≤ –∏–≥—Ä–æ–≤–æ–º —Å—Ç–∏–ª–µ
        function formatNumber(num, format) {
            if (format === 'aa') return (num / 1e12).toFixed(2) + 'aa';
            if (format === 'ac') return (num / 1e15).toFixed(2) + 'ac';
            if (format === 'ab') return (num / 1e18).toFixed(2) + 'ab';
            if (format === 'ad') return (num / 1e21).toFixed(2) + 'ad';
            if (format === 'ag') return (num / 1e24).toFixed(2) + 'ag';
            if (format === 'T') return (num / 1e12).toFixed(1) + 'T';
            if (format === 'Th') return (num / 1e15).toFixed(1) + 'Th';
            if (format === 'h') return (num / 1e18).toFixed(0) + 'h';
            return num;
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        function updateUI() {
            document.getElementById('cash-value').textContent = formatNumber(gameData.cash, 'ac');
            document.getElementById('super-cash-value').textContent = gameData.superCash;
            document.getElementById('lumber-value').textContent = gameData.lumber;
            document.getElementById('idle-cash-value').textContent = formatNumber(gameData.idleCash, 'aa') + '/s';
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏–π
            document.querySelector('[onclick="buyUpgrade(\'market\')"] .upgrade-level').textContent = 
                'Level ' + formatNumber(gameData.upgrades.market.level, 'T');
            document.querySelector('[onclick="buyUpgrade(\'market\')"] .upgrade-cost').textContent = 
                formatNumber(gameData.upgrades.market.cost, 'ad');
                
            document.querySelector('[onclick="buyUpgrade(\'farm\')"] .upgrade-level').textContent = 
                'Level ' + formatNumber(gameData.upgrades.farm.level, 'aa');
            document.querySelector('[onclick="buyUpgrade(\'farm\')"] .upgrade-cost').textContent = 
                formatNumber(gameData.upgrades.farm.cost, 'ac');
                
            document.querySelector('[onclick="buyUpgrade(\'transport\')"] .upgrade-level').textContent = 
                'Level ' + formatNumber(gameData.upgrades.transport.level, 'Th');
            document.querySelector('[onclick="buyUpgrade(\'transport\')"] .upgrade-cost').textContent = 
                formatNumber(gameData.upgrades.transport.cost, 'ab');
                
            document.querySelector('[onclick="buyUpgrade(\'workers\')"] .upgrade-level').textContent = 
                'Level ' + formatNumber(gameData.upgrades.workers.level, 'h');
            document.querySelector('[onclick="buyUpgrade(\'workers\')"] .upgrade-cost').textContent = 
                formatNumber(gameData.upgrades.workers.cost, 'ag');
        }
        
        // –ü–æ–∫—É–ø–∫–∞ —É–ª—É—á—à–µ–Ω–∏—è
        function buyUpgrade(type) {
            const upgrade = gameData.upgrades[type];
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–∫—É–ø–∫–∏
            if (gameData.cash >= upgrade.cost) {
                gameData.cash -= upgrade.cost;
                upgrade.level += 1;
                upgrade.cost *= 1.5; // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å
                
                // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –¥–æ—Ö–æ–¥ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ —É–ª—É—á—à–µ–Ω–∏—è
                if (type === 'market') gameData.idleCash *= 1.2;
                if (type === 'farm') gameData.idleCash *= 1.15;
                if (type === 'transport') gameData.idleCash *= 1.1;
                if (type === 'workers') gameData.idleCash *= 1.05;
                
                updateUI();
                saveGame();
            }
        }
        
        // –ê–∫—Ç–∏–≤–∞—Ü–∏—è –±—É—Å—Ç–∞
        function activateBoost() {
            if (gameData.superCash >= 5) {
                gameData.superCash -= 5;
                gameData.idleCash *= 2; // –£–¥–≤–∞–∏–≤–∞–µ–º –¥–æ—Ö–æ–¥
                
                // –ß–µ—Ä–µ–∑ 30 —Å–µ–∫—É–Ω–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±—ã—á–Ω—ã–π –¥–æ—Ö–æ–¥
                setTimeout(() => {
                    gameData.idleCash /= 2;
                    updateUI();
                }, 30000);
                
                updateUI();
                saveGame();
            }
        }
        
        // –°–±–æ—Ä —É—Ä–æ–∂–∞—è —Å —Ñ–µ—Ä–º—ã
        function collectFarm() {
            gameData.cash += 50; // 50aa, –Ω–æ –≤ –Ω–∞—à–∏—Ö –µ–¥–∏–Ω–∏—Ü–∞—Ö —ç—Ç–æ 50
            updateUI();
            saveGame();
        }
        
        // –ò–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª - –ø–∞—Å—Å–∏–≤–Ω—ã–π –¥–æ—Ö–æ–¥
        function gameLoop() {
            const now = Date.now();
            const deltaTime = (now - gameData.lastUpdate) / 1000; // –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
            gameData.lastUpdate = now;
            
            // –î–æ–±–∞–≤–ª—è–µ–º –ø–∞—Å—Å–∏–≤–Ω—ã–π –¥–æ—Ö–æ–¥
            gameData.cash += gameData.idleCash * deltaTime;
            
            updateUI();
            requestAnimationFrame(gameLoop);
        }
        
        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–≥—Ä—ã
        function saveGame() {
            localStorage.setItem('idleFarmSave', JSON.stringify(gameData));
        }
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–≥—Ä—ã
        function loadGame() {
            const save = localStorage.getItem('idleFarmSave');
            if (save) {
                gameData = JSON.parse(save);
                gameData.lastUpdate = Date.now();
            }
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
        function initGame() {
            loadGame();
            updateUI();
            gameData.lastUpdate = Date.now();
            requestAnimationFrame(gameLoop);
            
            // –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
            setInterval(saveGame, 30000);
        }
        
        // –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.onload = initGame;
    </script>
</body>
</html>
