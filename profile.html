<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è - Youkai Studio</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <style>
        .profile-header {
            display: flex;
            align-items: center;
            background-color: var(--dark-light);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 30px;
        }
        
        .profile-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: var(--gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            font-weight: bold;
            flex-shrink: 0;
        }
        
        .profile-info {
            flex: 1;
            min-width: 0;
        }
        
        .profile-info h1 {
            font-family: 'Poppins', sans-serif;
            font-size: 28px;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .profile-info p {
            color: var(--text-secondary);
            margin-bottom: 15px;
        }
        
        .profile-stats {
            display: flex;
            gap: 30px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .stat-item {
            text-align: center;
            min-width: 80px;
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 14px;
            color: var(--text-secondary);
        }
        
        .profile-tabs {
            display: flex;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 30px;
            flex-wrap: wrap;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .profile-tabs::-webkit-scrollbar {
            display: none;
        }
        
        .profile-tab {
            padding: 15px 25px;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.3s;
            white-space: nowrap;
            flex-shrink: 0;
        }
        
        .profile-tab.active {
            border-bottom: 2px solid var(--primary-color);
            color: var(--primary-color);
        }
        
        .profile-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
        }
        
        .section-title {
            font-family: 'Poppins', sans-serif;
            font-size: 22px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .anime-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .anime-card {
            background-color: var(--card-bg);
            border-radius: 12px;
            overflow: hidden;
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }

        .anime-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow);
        }

        .anime-card img {
            width: 100%;
            height: 240px;
            object-fit: cover;
        }

        .anime-card-content {
            padding: 15px;
        }

        .anime-card h3 {
            font-size: 16px;
            margin-bottom: 8px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            font-weight: 500;
        }
        
        .sidebar-widget {
            background-color: var(--dark-light);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .sidebar-widget h3 {
            font-family: 'Poppins', sans-serif;
            margin-bottom: 15px;
            font-size: 18px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .genre-tag {
            display: inline-block;
            background-color: rgba(199, 125, 255, 0.2);
            color: var(--secondary-color);
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            margin: 0 5px 8px 0;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .genre-tag:hover {
            background-color: rgba(199, 125, 255, 0.3);
            transform: translateY(-2px);
        }
        
        .progress-bar {
            height: 8px;
            background-color: var(--dark-color);
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: var(--gradient);
            border-radius: 4px;
            transition: width 0.3s ease;
        }
        
        .progress-info {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            margin-bottom: 5px;
        }
        
        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 15px;
        }
        
        .achievement-item {
            background-color: var(--card-bg);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .achievement-item:hover {
            transform: scale(1.05);
            box-shadow: var(--shadow);
        }
        
        .achievement-item i {
            font-size: 24px;
            margin-bottom: 8px;
            color: var(--primary-color);
        }
        
        .achievement-item span {
            display: block;
            font-size: 12px;
            color: var(--text-secondary);
            margin-top: 5px;
        }
        
        .privacy-settings {
            margin-top: 20px;
        }
        
        .privacy-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px 0;
            border-bottom: 1px solid var(--border-color);
        }
        
        .privacy-item:last-child {
            border-bottom: none;
        }
        
        .privacy-label {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .privacy-label i {
            color: var(--primary-color);
            width: 20px;
        }
        
        /* –ú–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è */
        @media (max-width: 900px) {
            .profile-content {
                grid-template-columns: 1fr;
            }
            
            .profile-header {
                flex-direction: column;
                text-align: center;
                padding: 20px;
            }
            
            .profile-info {
                text-align: center;
            }
            
            .profile-stats {
                justify-content: center;
            }
            
            .anime-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }
            
            .section-title {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .section-title .btn {
                width: 100%;
                text-align: center;
            }
        }
        
        @media (max-width: 600px) {
            .profile-avatar {
                width: 100px;
                height: 100px;
                font-size: 32px;
            }
            
            .profile-info h1 {
                font-size: 24px;
                flex-direction: column;
                gap: 5px;
            }
            
            .profile-tabs {
                justify-content: flex-start;
            }
            
            .profile-tab {
                padding: 12px 20px;
                font-size: 14px;
            }
            
            .anime-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
            
            .anime-card img {
                height: 200px;
            }
            
            .stat-item {
                min-width: 70px;
            }
            
            .stat-value {
                font-size: 20px;
            }
            
            .achievements-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .sidebar-widget {
                padding: 15px;
            }
        }
        
        @media (max-width: 480px) {
            .anime-grid {
                grid-template-columns: 1fr;
            }
            
            .profile-tabs {
                flex-wrap: nowrap;
                overflow-x: scroll;
                padding-bottom: 5px;
            }
            
            .profile-stats {
                gap: 15px;
            }
            
            .stat-item {
                min-width: 60px;
            }
        }
        
        /* Telegram –∫–Ω–æ–ø–∫–∞ –≤ –ø—Ä–æ—Ñ–∏–ª–µ */
        .telegram-profile-btn {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 10px 20px;
            background-color: #0088cc;
            color: white;
            border-radius: 8px;
            text-decoration: none;
            transition: all 0.3s;
            font-size: 14px;
            margin-top: 10px;
        }
        
        .telegram-profile-btn:hover {
            background-color: #0077b5;
            transform: translateY(-2px);
        }
        
        /* –ë–µ–π–¥–∂ –æ–Ω–ª–∞–π–Ω —Å—Ç–∞—Ç—É—Å–∞ */
        .online-badge {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            background-color: rgba(107, 255, 184, 0.2);
            color: var(--success-color);
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 12px;
            margin-left: 10px;
        }
        
        .online-badge .dot {
            width: 6px;
            height: 6px;
            background-color: var(--success-color);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        /* –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π –ø—Ä–æ—Ñ–∏–ª—è */
        .profile-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .profile-actions .btn {
            flex: 1;
            min-width: 140px;
        }
        
        /* –°–≤–∞–π–ø –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —Ç–∞–±–æ–≤ */
        .profile-tabs-container {
            position: relative;
            overflow: hidden;
        }
        
        .profile-tabs-scroll {
            display: flex;
            overflow-x: auto;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
        }
        
        .profile-tabs-scroll::-webkit-scrollbar {
            display: none;
        }
        
        .tab-scroll-btn {
            display: none;
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 30px;
            height: 30px;
            background-color: var(--dark-light);
            border: 1px solid var(--border-color);
            border-radius: 50%;
            z-index: 2;
            cursor: pointer;
            align-items: center;
            justify-content: center;
        }
        
        .tab-scroll-btn.left {
            left: 5px;
        }
        
        .tab-scroll-btn.right {
            right: 5px;
        }
        
        @media (max-width: 768px) {
            .tab-scroll-btn {
                display: flex;
            }
        }
        
        /* –ê–≤–∞—Ç–∞—Ä —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º */
        .avatar-with-image {
            position: relative;
            width: 120px;
            height: 120px;
            border-radius: 50%;
            overflow: hidden;
            flex-shrink: 0;
        }
        
        .avatar-with-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .avatar-placeholder {
            width: 100%;
            height: 100%;
            background: var(--gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            font-weight: bold;
            color: white;
        }
    </style>
</head>
<body>
    <header>
        <div class="container header-container">
            <div class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </div>
            
            <div class="logo">
                <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <path d="M50,10 C70,10 85,25 85,45 C85,55 80,64 72,70 L72,85 C72,90 67,95 62,95 L38,95 C33,95 28,90 28,85 L28,70 C20,64 15,55 15,45 C15,25 30,10 50,10 Z" fill="#ff66a3"/>
                    <circle cx="40" cy="35" r="5" fill="#ffffff"/>
                    <circle cx="60" cy="35" r="5" fill="#ffffff"/>
                    <path d="M45,55 C45,58 47,60 50,60 C53,60 55,58 55,55 C55,52 53,50 50,50 C47,50 45,52 45,55 Z" fill="#ffffff"/>
                    <path d="M35,75 L65,75 C67,75 69,77 69,79 C69,81 67,83 65,83 L35,83 C33,83 31,81 31,79 C31,77 33,75 35,75 Z" fill="#c77dff"/>
                </svg>
                Youkai<span>Studio</span>
            </div>
            
            <nav class="main-nav">
                <ul>
                    <li><a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
                    <li><a href="anime-catalog.html">–ö–∞—Ç–∞–ª–æ–≥</a></li>
                    <li><a href="calendar.html">–ö–∞–ª–µ–Ω–¥–∞—Ä—å</a></li>
                    <li><a href="genres.html">–ñ–∞–Ω—Ä—ã</a></li>
                    <li><a href="profile.html" class="active">–ü—Ä–æ—Ñ–∏–ª—å</a></li>
                </ul>
            </nav>
            
            <div class="search-box" id="searchBox">
                <i class="fas fa-search" id="searchIcon"></i>
                <input type="text" placeholder="–ü–æ–∏—Å–∫ –∞–Ω–∏–º–µ..." id="searchInput">
            </div>
            
            <div class="header-right">
                <div class="mobile-search-btn" id="mobileSearchBtn" style="display: none;">
                    <i class="fas fa-search"></i>
                </div>
                
                <div class="user-menu" id="userMenu">
                    <div class="user-avatar" id="userAvatar" title="–ú–µ–Ω—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">
                        <i class="fas fa-user"></i>
                    </div>
                    
                    <div class="user-dropdown" id="userDropdown">
                        <div class="user-dropdown-header" id="dropdownHeader">
                            <div class="user-dropdown-avatar" id="dropdownAvatar">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="user-dropdown-info" id="dropdownInfo">
                                <h4>–í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ Telegram</h4>
                                <p>–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º</p>
                            </div>
                        </div>
                        
                        <div class="user-dropdown-nav">
                            <a href="#" id="telegramLoginBtn" class="telegram-login">
                                <i class="fab fa-telegram"></i> –í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Telegram
                            </a>
                            
                            <div class="user-dropdown-divider"></div>
                            
                            <a href="profile.html" class="active">
                                <i class="fas fa-user"></i> –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å
                            </a>
                            
                            <a href="messages.html">
                                <i class="fas fa-comments"></i> –ö–æ–Ω—Ç–∞–∫—Ç—ã
                            </a>
                            
                            <a href="favorites.html">
                                <i class="fas fa-heart"></i> –ò–∑–±—Ä–∞–Ω–Ω–æ–µ
                            </a>
                            
                            <div class="user-dropdown-divider"></div>
                            
                            <a href="index.html">
                                <i class="fas fa-home"></i> –ì–ª–∞–≤–Ω–∞—è
                            </a>
                            
                            <a href="anime-catalog.html">
                                <i class="fas fa-list"></i> –ö–∞—Ç–∞–ª–æ–≥
                            </a>
                            
                            <a href="calendar.html">
                                <i class="fas fa-calendar"></i> –ö–∞–ª–µ–Ω–¥–∞—Ä—å
                            </a>
                            
                            <a href="settings.html">
                                <i class="fas fa-cog"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏
                            </a>
                            
                            <a href="#" id="logoutBtn" style="display: none;">
                                <i class="fas fa-sign-out-alt"></i> –í—ã–π—Ç–∏
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="mobile-nav-overlay" id="mobileNavOverlay"></div>
        <div class="mobile-nav" id="mobileNav">
            <div class="mobile-nav-header">
                <div class="logo">
                    <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                        <path d="M50,10 C70,10 85,25 85,45 C85,55 80,64 72,70 L72,85 C72,90 67,95 62,95 L38,95 C33,95 28,90 28,85 L28,70 C20,64 15,55 15,45 C15,25 30,10 50,10 Z" fill="#ff66a3"/>
                        <circle cx="40" cy="35" r="5" fill="#ffffff"/>
                        <circle cx="60" cy="35" r="5" fill="#ffffff"/>
                        <path d="M45,55 C45,58 47,60 50,60 C53,60 55,58 55,55 C55,52 53,50 50,50 C47,50 45,52 45,55 Z" fill="#ffffff"/>
                        <path d="M35,75 L65,75 C67,75 69,77 69,79 C69,81 67,83 65,83 L35,83 C33,83 31,81 31,79 C31,77 33,75 35,75 Z" fill="#c77dff"/>
                    </svg>
                    <span style="margin-left: 8px;">Youkai Studio</span>
                </div>
                <div class="mobile-nav-close" id="mobileNavClose">
                    <i class="fas fa-times"></i>
                </div>
            </div>
            <ul>
                <li><a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="anime-catalog.html">–ö–∞—Ç–∞–ª–æ–≥ –∞–Ω–∏–º–µ</a></li>
                <li><a href="calendar.html">–ö–∞–ª–µ–Ω–¥–∞—Ä—å –≤—ã—Ö–æ–¥–æ–≤</a></li>
                <li><a href="genres.html">–ñ–∞–Ω—Ä—ã</a></li>
                <li><a href="profile.html" class="active">–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</a></li>
                <li><a href="messages.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
                <li><a href="favorites.html">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</a></li>
                <li><a href="settings.html">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</a></li>
            </ul>
        </div>
    </header>

    <main class="container">
        <div class="profile-header" id="profileHeader">
            <!-- –ê–≤–∞—Ç–∞—Ä –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω —á–µ—Ä–µ–∑ JavaScript -->
        </div>

        <div class="profile-tabs-container">
            <div class="profile-tabs-scroll" id="profileTabs">
                <div class="profile-tab active" data-tab="history">–ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤</div>
                <div class="profile-tab" data-tab="favorites">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</div>
                <div class="profile-tab" data-tab="lists">–°–ø–∏—Å–∫–∏</div>
                <div class="profile-tab" data-tab="reviews">–û—Ç–∑—ã–≤—ã</div>
                <div class="profile-tab" data-tab="settings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
            </div>
            <div class="tab-scroll-btn left" id="tabScrollLeft">
                <i class="fas fa-chevron-left"></i>
            </div>
            <div class="tab-scroll-btn right" id="tabScrollRight">
                <i class="fas fa-chevron-right"></i>
            </div>
        </div>

        <div class="profile-content">
            <div id="tabContent">
                <!-- –ö–æ–Ω—Ç–µ–Ω—Ç —Ç–∞–±–æ–≤ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω —á–µ—Ä–µ–∑ JavaScript -->
                <div class="tab-pane active" id="historyTab">
                    <h2 class="section-title">–ù–µ–¥–∞–≤–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ</h2>
                    <div class="anime-grid" id="recentlyWatched">
                        <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –Ω–µ–¥–∞–≤–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã—Ö –∞–Ω–∏–º–µ -->
                    </div>
                    
                    <h2 class="section-title" style="margin-top: 40px;">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä</h2>
                    <div class="anime-grid" id="continueWatching">
                        <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –∞–Ω–∏–º–µ –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ -->
                    </div>
                </div>
                
                <div class="tab-pane" id="favoritesTab" style="display: none;">
                    <h2 class="section-title">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</h2>
                    <div class="anime-grid" id="favoritesGrid">
                        <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –∞–Ω–∏–º–µ -->
                    </div>
                </div>
                
                <div class="tab-pane" id="listsTab" style="display: none;">
                    <h2 class="section-title">–ú–æ–∏ —Å–ø–∏—Å–∫–∏</h2>
                    <div id="userLists">
                        <!-- –°–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
                    </div>
                </div>
                
                <div class="tab-pane" id="reviewsTab" style="display: none;">
                    <h2 class="section-title">–ú–æ–∏ –æ—Ç–∑—ã–≤—ã</h2>
                    <div id="userReviews">
                        <!-- –û—Ç–∑—ã–≤—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
                    </div>
                </div>
                
                <div class="tab-pane" id="settingsTab" style="display: none;">
                    <h2 class="section-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è</h2>
                    <div class="sidebar-widget">
                        <h3><i class="fas fa-shield-alt"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏</h3>
                        <div class="privacy-settings">
                            <div class="privacy-item">
                                <div class="privacy-label">
                                    <i class="fas fa-comment"></i>
                                    <span>–†–∞–∑—Ä–µ—à–∏—Ç—å –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è</span>
                                </div>
                                <label class="switch">
                                    <input type="checkbox" id="allowMessages" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="privacy-item">
                                <div class="privacy-label">
                                    <i class="fas fa-eye"></i>
                                    <span>–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤</span>
                                </div>
                                <label class="switch">
                                    <input type="checkbox" id="showWatchHistory" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="privacy-item">
                                <div class="privacy-label">
                                    <i class="fas fa-user-friends"></i>
                                    <span>–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –≤ –ø–æ–∏—Å–∫–µ</span>
                                </div>
                                <label class="switch">
                                    <input type="checkbox" id="showInSearch" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="sidebar-widget">
                        <h3><i class="fas fa-bell"></i> –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h3>
                        <div class="privacy-settings">
                            <div class="privacy-item">
                                <div class="privacy-label">
                                    <i class="fas fa-play-circle"></i>
                                    <span>–ù–æ–≤—ã–µ —Å–µ—Ä–∏–∏</span>
                                </div>
                                <label class="switch">
                                    <input type="checkbox" id="notifyNewEpisodes" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="privacy-item">
                                <div class="privacy-label">
                                    <i class="fas fa-comments"></i>
                                    <span>–û—Ç–≤–µ—Ç—ã –Ω–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</span>
                                </div>
                                <label class="switch">
                                    <input type="checkbox" id="notifyReplies" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="privacy-item">
                                <div class="privacy-label">
                                    <i class="fas fa-heart"></i>
                                    <span>–õ–∞–π–∫–∏ –∏ —Ä–µ–∞–∫—Ü–∏–∏</span>
                                </div>
                                <label class="switch">
                                    <input type="checkbox" id="notifyLikes" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <button class="btn btn-primary" id="saveSettingsBtn" style="width: 100%; margin-top: 20px;">
                        <i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
                    </button>
                </div>
            </div>
            
            <div>
                <div class="sidebar-widget">
                    <h3><i class="fas fa-tags"></i> –õ—é–±–∏–º—ã–µ –∂–∞–Ω—Ä—ã</h3>
                    <div id="favoriteGenres">
                        <!-- –ñ–∞–Ω—Ä—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                    </div>
                </div>
                
                <div class="sidebar-widget">
                    <h3><i class="fas fa-chart-line"></i> –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –º–µ—Å—è—Ü</h3>
                    <div id="monthlyStats">
                        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–∞ —á–µ—Ä–µ–∑ JavaScript -->
                    </div>
                </div>
                
                <div class="sidebar-widget">
                    <h3><i class="fas fa-trophy"></i> –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h3>
                    <div class="achievements-grid" id="achievementsGrid">
                        <!-- –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                    </div>
                </div>
                
                <div class="sidebar-widget">
                    <h3><i class="fab fa-telegram"></i> Telegram –ø—Ä–æ—Ñ–∏–ª—å</h3>
                    <div style="text-align: center; padding: 15px 0;">
                        <p style="color: var(--text-secondary); margin-bottom: 15px;">
                            –í–∞—à –ø—Ä–æ—Ñ–∏–ª—å –ø—Ä–∏–≤—è–∑–∞–Ω –∫ Telegram –∞–∫–∫–∞—É–Ω—Ç—É
                        </p>
                        <a href="#" class="telegram-profile-btn" id="openTelegramProfile">
                            <i class="fab fa-telegram"></i> –û—Ç–∫—Ä—ã—Ç—å –≤ Telegram
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>Youkai Studio</h3>
                    <p>–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –Ω–∞—Å—Ç–æ—è—â–∏—Ö —Ü–µ–Ω–∏—Ç–µ–ª–µ–π –∞–Ω–∏–º–µ. –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ, —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ.</p>
                    <div class="social-links">
                        <a href="https://t.me/youkaistudio" target="_blank" title="Telegram" id="telegramLink">
                            <i class="fab fa-telegram"></i>
                        </a>
                        <a href="https://vk.com/youkaistudio" target="_blank" title="–í–ö–æ–Ω—Ç–∞–∫—Ç–µ">
                            <i class="fab fa-vk"></i>
                        </a>
                        <a href="https://youtube.com/@youkaistudio" target="_blank" title="YouTube">
                            <i class="fab fa-youtube"></i>
                        </a>
                    </div>
                </div>
                
                <div class="footer-column">
                    <h3>–ù–∞–≤–∏–≥–∞—Ü–∏—è</h3>
                    <ul>
                        <li><a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
                        <li><a href="anime-catalog.html">–ö–∞—Ç–∞–ª–æ–≥ –∞–Ω–∏–º–µ</a></li>
                        <li><a href="calendar.html">–ö–∞–ª–µ–Ω–¥–∞—Ä—å –≤—ã—Ö–æ–¥–æ–≤</a></li>
                        <li><a href="genres.html">–ñ–∞–Ω—Ä—ã</a></li>
                        <li><a href="profile.html">–ü—Ä–æ—Ñ–∏–ª—å</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>–ü–æ–º–æ—â—å</h3>
                    <ul>
                        <li><a href="faq.html">FAQ</a></li>
                        <li><a href="rules.html">–ü—Ä–∞–≤–∏–ª–∞ —Å–∞–π—Ç–∞</a></li>
                        <li><a href="support.html">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</a></li>
                        <li><a href="contacts.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>–ü–∞—Ä—Ç–Ω–µ—Ä–∞–º</h3>
                    <ul>
                        <li><a href="rights-holders.html">–î–ª—è –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–µ–π</a></li>
                        <li><a href="advertising.html">–†–µ–∫–ª–∞–º–∞ –Ω–∞ —Å–∞–π—Ç–µ</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="copyright">
                <p>&copy; 2023 Youkai Studio. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            </div>
        </div>
    </footer>

    <script src="common.js"></script>
    <script>
        // –î–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–æ—Ñ–∏–ª—è
        const recentlyWatchedData = [
            { 
                title: "–ê—Ç–∞–∫–∞ –¢–∏—Ç–∞–Ω–æ–≤: –§–∏–Ω–∞–ª—å–Ω—ã–π —Å–µ–∑–æ–Ω", 
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af2176?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80", 
                year: "2023", 
                rating: "9.8", 
                progress: "85%",
                lastWatched: "2 —á–∞—Å–∞ –Ω–∞–∑–∞–¥"
            },
            { 
                title: "–ú–∞–≥–∏—á–µ—Å–∫–∞—è –±–∏—Ç–≤–∞ 2", 
                image: "https://images.unsplash.com/photo-1618331833071-1c0c6ee3d19e?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80", 
                year: "2023", 
                rating: "9.2", 
                progress: "60%",
                lastWatched: "–í—á–µ—Ä–∞"
            },
            { 
                title: "–î–µ–º–æ–Ω-—É–±–∏–π—Ü–∞: –î–µ—Ä–µ–≤–Ω—è –∫—É–∑–Ω–µ—Ü–æ–≤", 
                image: "https://images.unsplash.com/photo-1639322537228-f710d846310a?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80", 
                year: "2023", 
                rating: "9.3", 
                progress: "45%",
                lastWatched: "3 –¥–Ω—è –Ω–∞–∑–∞–¥"
            },
            { 
                title: "–û –º–æ—ë–º –ø–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏–∏ –≤ —Å–ª–∏–∑—å 3", 
                image: "https://images.unsplash.com/photo-1541562232579-512a21360020?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80", 
                year: "2023", 
                rating: "9.0", 
                progress: "100%",
                lastWatched: "–ù–µ–¥–µ–ª—é –Ω–∞–∑–∞–¥"
            }
        ];

        const continueWatchingData = [
            { 
                title: "–í–æ—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –≥–µ—Ä–æ—è —â–∏—Ç–∞", 
                image: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60", 
                year: "2023", 
                rating: "8.9", 
                episode: "–°–µ—Ä–∏—è 8/12",
                progress: "67%"
            },
            { 
                title: "–û–±–µ—â–∞–Ω–Ω–∞—è –°—Ç—Ä–∞–Ω–∞ –ì—Ä—ë–∑ 2", 
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af2176?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60", 
                year: "2023", 
                rating: "9.1", 
                episode: "–°–µ—Ä–∏—è 5/11",
                progress: "45%"
            },
            { 
                title: "–¢–æ–∫–∏–π—Å–∫–∏–µ –º—Å—Ç–∏—Ç–µ–ª–∏", 
                image: "https://images.unsplash.com/photo-1618331833071-1c0c6ee3d19e?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60", 
                year: "2023", 
                rating: "8.7", 
                episode: "–°–µ—Ä–∏—è 15/24",
                progress: "63%"
            }
        ];

        const favoritesData = [
            { 
                title: "–°—Ç–∞–ª—å–Ω–æ–π –∞–ª—Ö–∏–º–∏–∫: –ë—Ä–∞—Ç—Å—Ç–≤–æ", 
                image: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80", 
                year: "2009", 
                rating: "9.7", 
                added: "2 –Ω–µ–¥–µ–ª–∏ –Ω–∞–∑–∞–¥"
            },
            { 
                title: "–í–∞–π–æ–ª–µ—Ç –≠–≤–µ—Ä–≥–∞—Ä–¥–µ–Ω", 
                image: "https://images.unsplash.com/photo-1541562232579-512a21360020?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80", 
                year: "2018", 
                rating: "9.5", 
                added: "–ú–µ—Å—è—Ü –Ω–∞–∑–∞–¥"
            },
            { 
                title: "–•–æ–¥—è—á–∏–π –∑–∞–º–æ–∫", 
                image: "https://images.unsplash.com/photo-1639322537228-f710d846310a?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80", 
                year: "2004", 
                rating: "9.2", 
                added: "3 –¥–Ω—è –Ω–∞–∑–∞–¥"
            },
            { 
                title: "–¢–≤–æ—ë –∏–º—è", 
                image: "https://images.unsplash.com/photo-1618331833071-1c0c6ee3d19e?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80", 
                year: "2016", 
                rating: "9.3", 
                added: "–ù–µ–¥–µ–ª—é –Ω–∞–∑–∞–¥"
            }
        ];

        const favoriteGenres = [
            { name: "–≠–∫—à–µ–Ω", count: 24, color: "rgba(255, 102, 163, 0.2)", textColor: "var(--primary-color)" },
            { name: "–§—ç–Ω—Ç–µ–∑–∏", count: 18, color: "rgba(199, 125, 255, 0.2)", textColor: "var(--secondary-color)" },
            { name: "–î—Ä–∞–º–∞", count: 15, color: "rgba(107, 255, 184, 0.2)", textColor: "var(--success-color)" },
            { name: "–ö–æ–º–µ–¥–∏—è", count: 12, color: "rgba(255, 209, 102, 0.2)", textColor: "var(--warning-color)" },
            { name: "–†–æ–º–∞–Ω—Ç–∏–∫–∞", count: 8, color: "rgba(123, 180, 255, 0.2)", textColor: "var(--info-color)" }
        ];

        const achievements = [
            { id: 1, icon: "üé¨", title: "–ù–æ–≤–∏—á–æ–∫", desc: "–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ 10 —Å–µ—Ä–∏–π", unlocked: true },
            { id: 2, icon: "üèÜ", title: "–ó–∞–≤—Å–µ–≥–¥–∞—Ç–∞–π", desc: "–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å 30 –¥–Ω–µ–π", unlocked: true },
            { id: 3, icon: "‚úçÔ∏è", title: "–ö—Ä–∏—Ç–∏–∫", desc: "10 –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤", unlocked: true },
            { id: 4, icon: "‚ù§Ô∏è", title: "–§–∞–Ω–∞—Ç", desc: "20 –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö", unlocked: false },
            { id: 5, icon: "üëë", title: "–≠–∫—Å–ø–µ—Ä—Ç", desc: "–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ 100 —Å–µ—Ä–∏–π", unlocked: false },
            { id: 6, icon: "üåü", title: "–õ–µ–≥–µ–Ω–¥–∞", desc: "–ì–æ–¥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏", unlocked: false }
        ];

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ä—Ç–æ—á–∫–∏ –∞–Ω–∏–º–µ
        function createAnimeCard(anime, type = 'recent') {
            if (type === 'continue') {
                return `
                    <div class="anime-card" onclick="window.location.href='anime-watch.html'">
                        <img src="${anime.image}" alt="${anime.title}" loading="lazy">
                        <div class="anime-card-content">
                            <h3>${anime.title}</h3>
                            <div class="anime-meta">
                                <span>${anime.year}</span>
                                <span class="anime-rating"><i class="fas fa-star"></i> ${anime.rating}</span>
                            </div>
                            <div style="color: var(--primary-color); font-size: 13px; margin: 10px 0;">
                                <i class="fas fa-play-circle"></i> ${anime.episode}
                            </div>
                            <div style="margin-top: 8px;">
                                <div style="height: 4px; background-color: var(--dark-color); border-radius: 2px; overflow: hidden;">
                                    <div style="width: ${anime.progress}; height: 100%; background: var(--gradient);"></div>
                                </div>
                                <div style="font-size: 12px; color: var(--text-secondary); margin-top: 4px;">${anime.progress} –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ</div>
                            </div>
                        </div>
                    </div>
                `;
            } else if (type === 'recent') {
                return `
                    <div class="anime-card" onclick="window.location.href='anime-watch.html'">
                        <img src="${anime.image}" alt="${anime.title}" loading="lazy">
                        <div class="anime-card-content">
                            <h3>${anime.title}</h3>
                            <div class="anime-meta">
                                <span>${anime.year}</span>
                                <span class="anime-rating"><i class="fas fa-star"></i> ${anime.rating}</span>
                            </div>
                            <div style="margin-top: 8px;">
                                <div style="height: 4px; background-color: var(--dark-color); border-radius: 2px; overflow: hidden;">
                                    <div style="width: ${anime.progress}; height: 100%; background: var(--gradient);"></div>
                                </div>
                                <div style="font-size: 12px; color: var(--text-secondary); margin-top: 4px;">
                                    ${anime.progress} –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ ‚Ä¢ ${anime.lastWatched}
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            } else if (type === 'favorite') {
                return `
                    <div class="anime-card" onclick="window.location.href='anime-watch.html'">
                        <img src="${anime.image}" alt="${anime.title}" loading="lazy">
                        <div class="anime-card-content">
                            <h3>${anime.title}</h3>
                            <div class="anime-meta">
                                <span>${anime.year}</span>
                                <span class="anime-rating"><i class="fas fa-star"></i> ${anime.rating}</span>
                            </div>
                            <div style="font-size: 12px; color: var(--text-secondary); margin-top: 8px;">
                                <i class="fas fa-heart" style="color: var(--primary-color);"></i> –î–æ–±–∞–≤–ª–µ–Ω–æ ${anime.added}
                            </div>
                        </div>
                    </div>
                `;
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è
        function createProfileHeader(user) {
            const stats = calculateUserStats();
            const isOnline = true; // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–Ω–ª–∞–π–Ω —Å—Ç–∞—Ç—É—Å–∞
            
            return `
                <div class="profile-avatar" id="profileAvatar">
                    ${user.photo_url ? 
                        `<img src="${user.photo_url}" alt="${user.first_name}" style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover;">` :
                        `<div class="avatar-placeholder">${user.first_name.charAt(0)}${user.last_name ? user.last_name.charAt(0) : ''}</div>`
                    }
                </div>
                <div class="profile-info">
                    <h1>
                        ${user.first_name} ${user.last_name || ''}
                        ${isOnline ? '<span class="online-badge"><span class="dot"></span> –í —Å–µ—Ç–∏</span>' : ''}
                    </h1>
                    <p>
                        @${user.username || '–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å'} ‚Ä¢ –£—á–∞—Å—Ç–Ω–∏–∫ —Å –º–∞—è 2023
                        ${user.is_premium ? ' ‚Ä¢ <i class="fas fa-crown" style="color: var(--warning-color);"></i> Premium' : ''}
                    </p>
                    <div class="profile-actions">
                        <button class="btn btn-primary" id="editProfileBtn">
                            <i class="fas fa-edit"></i> –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
                        </button>
                        <button class="btn btn-outline" id="shareProfileBtn">
                            <i class="fas fa-share"></i> –ü–æ–¥–µ–ª–∏—Ç—å—Å—è
                        </button>
                    </div>
                    <div class="profile-stats">
                        <div class="stat-item">
                            <div class="stat-value">${stats.watched}</div>
                            <div class="stat-label">–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">${stats.favorites}</div>
                            <div class="stat-label">–í –∏–∑–±—Ä–∞–Ω–Ω–æ–º</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">${stats.comments}</div>
                            <div class="stat-label">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">${stats.hours}—á</div>
                            <div class="stat-label">–í—Ä–µ–º–µ–Ω–∏</div>
                        </div>
                    </div>
                </div>
            `;
        }

        // –†–∞—Å—á–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function calculateUserStats() {
            const watched = JSON.parse(localStorage.getItem('watched_anime') || '[]');
            const favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
            const timeWatched = parseInt(localStorage.getItem('time_watched') || '0');
            const comments = JSON.parse(localStorage.getItem('user_comments') || '[]');
            
            let totalEpisodes = 0;
            watched.forEach(anime => {
                totalEpisodes += anime.episodes || 0;
            });
            
            return {
                watched: totalEpisodes,
                favorites: favorites.length,
                comments: comments.length,
                hours: Math.floor(timeWatched / 60)
            };
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∑–∞ –º–µ—Å—è—Ü
        function createMonthlyStats() {
            const stats = {
                episodes: 47,
                favorites: 8,
                hours: 42,
                comments: 23
            };
            
            return `
                <div>
                    <div class="progress-info">
                        <span>–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ —Å–µ—Ä–∏–π:</span>
                        <span style="color: var(--primary-color); font-weight: 500;">${stats.episodes}</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ${(stats.episodes / 60) * 100}%;"></div>
                    </div>
                    
                    <div class="progress-info">
                        <span>–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ:</span>
                        <span style="color: var(--primary-color); font-weight: 500;">${stats.favorites}</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ${(stats.favorites / 15) * 100}%;"></div>
                    </div>
                    
                    <div class="progress-info">
                        <span>–ü—Ä–æ–≤–µ–¥–µ–Ω–æ –≤—Ä–µ–º–µ–Ω–∏:</span>
                        <span style="color: var(--primary-color); font-weight: 500;">${stats.hours}—á</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ${(stats.hours / 60) * 100}%;"></div>
                    </div>
                    
                    <div class="progress-info">
                        <span>–û—Å—Ç–∞–≤–ª–µ–Ω–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤:</span>
                        <span style="color: var(--primary-color); font-weight: 500;">${stats.comments}</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ${(stats.comments / 30) * 100}%;"></div>
                    </div>
                </div>
            `;
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–∞–±–æ–≤
        function switchTab(tabName) {
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Ç–∞–±—ã
            document.querySelectorAll('.tab-pane').forEach(pane => {
                pane.style.display = 'none';
                pane.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ç–∞–±
            const targetTab = document.getElementById(`${tabName}Tab`);
            if (targetTab) {
                targetTab.style.display = 'block';
                targetTab.classList.add('active');
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –≤–∫–ª–∞–¥–∫—É
            document.querySelectorAll('.profile-tab').forEach(tab => {
                tab.classList.remove('active');
                if (tab.dataset.tab === tabName) {
                    tab.classList.add('active');
                }
            });
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–∞–±–∞ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
            loadTabData(tabName);
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ç–∞–±–∞
        function loadTabData(tabName) {
            switch(tabName) {
                case 'favorites':
                    loadFavorites();
                    break;
                case 'lists':
                    loadUserLists();
                    break;
                case 'reviews':
                    loadUserReviews();
                    break;
                case 'settings':
                    loadSettings();
                    break;
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
        function loadFavorites() {
            const container = document.getElementById('favoritesGrid');
            if (!container) return;
            
            container.innerHTML = '';
            
            const favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
            
            if (favorites.length === 0) {
                container.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 40px; color: var(--text-secondary);">
                        <i class="fas fa-heart" style="font-size: 48px; margin-bottom: 15px; opacity: 0.5;"></i>
                        <h3>–ù–µ—Ç –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –∞–Ω–∏–º–µ</h3>
                        <p>–î–æ–±–∞–≤–ª—è–π—Ç–µ –∞–Ω–∏–º–µ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ, –Ω–∞–∂–∏–º–∞—è –Ω–∞ —Å–µ—Ä–¥–µ—á–∫–æ</p>
                    </div>
                `;
                return;
            }
            
            favorites.forEach(anime => {
                // –ù–∞—Ö–æ–¥–∏–º –¥–∞–Ω–Ω—ã–µ –∞–Ω–∏–º–µ
                const animeData = [...recentlyWatchedData, ...continueWatchingData, ...favoritesData]
                    .find(a => a.title === anime.title);
                
                if (animeData) {
                    container.innerHTML += createAnimeCard({
                        ...animeData,
                        added: formatTimeAgo(new Date(anime.added))
                    }, 'favorite');
                }
            });
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function loadUserLists() {
            const container = document.getElementById('userLists');
            if (!container) return;
            
            const lists = [
                { name: "–õ—É—á—à–∏–µ —Å–µ—Ä–∏–∞–ª—ã 2023", count: 12, color: "var(--primary-color)" },
                { name: "–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞", count: 8, color: "var(--info-color)" },
                { name: "–ö–ª–∞—Å—Å–∏–∫–∞", count: 15, color: "var(--warning-color)" },
                { name: "–§–∏–ª—å–º—ã", count: 6, color: "var(--success-color)" }
            ];
            
            container.innerHTML = '';
            
            lists.forEach(list => {
                container.innerHTML += `
                    <div class="sidebar-widget" style="margin-bottom: 15px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <h4 style="font-family: 'Poppins', sans-serif; font-size: 16px;">${list.name}</h4>
                            <span style="background-color: ${list.color}; color: white; padding: 2px 8px; border-radius: 10px; font-size: 12px;">
                                ${list.count}
                            </span>
                        </div>
                        <p style="color: var(--text-secondary); font-size: 14px; margin-bottom: 10px;">
                            ${getRandomDescription()}
                        </p>
                        <button class="btn btn-outline" style="width: 100%; font-size: 14px;">
                            <i class="fas fa-eye"></i> –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫
                        </button>
                    </div>
                `;
            });
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç–∑—ã–≤–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function loadUserReviews() {
            const container = document.getElementById('userReviews');
            if (!container) return;
            
            const reviews = [
                { 
                    anime: "–ê—Ç–∞–∫–∞ –¢–∏—Ç–∞–Ω–æ–≤", 
                    rating: 10, 
                    date: "2 –¥–Ω—è –Ω–∞–∑–∞–¥",
                    text: "–®–µ–¥–µ–≤—Ä! –ö–∞–∂–¥–∞—è —Å–µ—Ä–∏—è - —ç—Ç–æ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∞–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏–µ –≥–æ—Ä–∫–∏. –ê–Ω–∏–º–∞—Ü–∏—è, —Å—é–∂–µ—Ç, –ø–µ—Ä—Å–æ–Ω–∞–∂–∏ - –≤—Å—ë –Ω–∞ –≤—ã—Å—à–µ–º —É—Ä–æ–≤–Ω–µ."
                },
                { 
                    anime: "–ú–∞–≥–∏—á–µ—Å–∫–∞—è –±–∏—Ç–≤–∞", 
                    rating: 9, 
                    date: "–ù–µ–¥–µ–ª—é –Ω–∞–∑–∞–¥",
                    text: "–û—Ç–ª–∏—á–Ω—ã–π —ç–∫—à–µ–Ω —Å –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π –º–∞–≥–∏–∏. –ü–µ—Ä—Å–æ–Ω–∞–∂–∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–µ—Å—è, –±–∏—Ç–≤—ã –∑—Ä–µ–ª–∏—â–Ω—ã–µ."
                },
                { 
                    anime: "–í–∞–Ω –ü–∏—Å", 
                    rating: 8, 
                    date: "–ú–µ—Å—è—Ü –Ω–∞–∑–∞–¥",
                    text: "–ö–ª–∞—Å—Å–∏–∫–∞ –∂–∞–Ω—Ä–∞ —Å—ç–Ω—ç–Ω. –î–ª–∏–Ω–Ω–∞—è, –Ω–æ –∫–∞–∂–¥–∞—è –∞—Ä–∫–∞ —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–∞ –ø–æ-—Å–≤–æ–µ–º—É. –õ—É—Ñ—Ñ–∏ - –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π –ø–µ—Ä—Å–æ–Ω–∞–∂."
                }
            ];
            
            container.innerHTML = '';
            
            reviews.forEach(review => {
                container.innerHTML += `
                    <div class="sidebar-widget" style="margin-bottom: 15px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <h4 style="font-family: 'Poppins', sans-serif; font-size: 16px;">${review.anime}</h4>
                            <div style="display: flex; align-items: center; gap: 5px;">
                                <i class="fas fa-star" style="color: var(--warning-color);"></i>
                                <span>${review.rating}/10</span>
                            </div>
                        </div>
                        <p style="color: var(--text-secondary); font-size: 14px; margin-bottom: 10px;">
                            ${review.text}
                        </p>
                        <div style="font-size: 12px; color: var(--text-secondary); text-align: right;">
                            ${review.date}
                        </div>
                    </div>
                `;
            });
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
        function loadSettings() {
            const user = window.YoukaiStudio?.getCurrentUser();
            if (!user) return;
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏
            const privacySetting = localStorage.getItem(`privacy_${user.id}`);
            const allowMessages = document.getElementById('allowMessages');
            if (allowMessages) {
                allowMessages.checked = privacySetting !== 'disabled';
            }
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –æ—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
            const settings = JSON.parse(localStorage.getItem('user_settings') || '{}');
            
            document.getElementById('showWatchHistory').checked = settings.showWatchHistory !== false;
            document.getElementById('showInSearch').checked = settings.showInSearch !== false;
            document.getElementById('notifyNewEpisodes').checked = settings.notifyNewEpisodes !== false;
            document.getElementById('notifyReplies').checked = settings.notifyReplies !== false;
            document.getElementById('notifyLikes').checked = settings.notifyLikes !== false;
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
        function saveSettings() {
            const user = window.YoukaiStudio?.getCurrentUser();
            if (!user) {
                window.YoukaiStudio?.showNotification('–í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏', 'warning');
                return;
            }
            
            const settings = {
                allowMessages: document.getElementById('allowMessages').checked,
                showWatchHistory: document.getElementById('showWatchHistory').checked,
                showInSearch: document.getElementById('showInSearch').checked,
                notifyNewEpisodes: document.getElementById('notifyNewEpisodes').checked,
                notifyReplies: document.getElementById('notifyReplies').checked,
                notifyLikes: document.getElementById('notifyLikes').checked
            };
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏
            localStorage.setItem(`privacy_${user.id}`, settings.allowMessages ? 'enabled' : 'disabled');
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
            localStorage.setItem('user_settings', JSON.stringify(settings));
            
            window.YoukaiStudio?.showNotification('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã', 'success');
        }

        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        function formatTimeAgo(date) {
            const now = new Date();
            const diff = now - date;
            
            const minutes = Math.floor(diff / 60000);
            const hours = Math.floor(diff / 3600000);
            const days = Math.floor(diff / 86400000);
            
            if (minutes < 60) return `${minutes} –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥`;
            if (hours < 24) return `${hours} —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥`;
            if (days < 7) return `${days} –¥–Ω–µ–π –Ω–∞–∑–∞–¥`;
            return `${Math.floor(days / 7)} –Ω–µ–¥–µ–ª—å –Ω–∞–∑–∞–¥`;
        }

        function getRandomDescription() {
            const descriptions = [
                "–ö–æ–ª–ª–µ–∫—Ü–∏—è –ª—É—á—à–∏—Ö —Ç–∞–π—Ç–ª–æ–≤ —ç—Ç–æ–≥–æ –≥–æ–¥–∞",
                "–¢–æ, —á—Ç–æ —è –ø–ª–∞–Ω–∏—Ä—É—é –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è",
                "–ö–ª–∞—Å—Å–∏–∫–∞, –∫–æ—Ç–æ—Ä—É—é –¥–æ–ª–∂–µ–Ω —É–≤–∏–¥–µ—Ç—å –∫–∞–∂–¥—ã–π –æ—Ç–∞–∫—É",
                "–§–∏–ª—å–º—ã –∏ –ø–æ–ª–Ω–æ–º–µ—Ç—Ä–∞–∂–Ω—ã–µ –∞–Ω–∏–º–µ"
            ];
            return descriptions[Math.floor(Math.random() * descriptions.length)];
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ñ–∏–ª—è
        document.addEventListener('DOMContentLoaded', function() {
            const user = window.YoukaiStudio?.getCurrentUser();
            const profileHeader = document.getElementById('profileHeader');
            
            if (user && profileHeader) {
                // –°–æ–∑–¥–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ –ø—Ä–æ—Ñ–∏–ª—è
                profileHeader.innerHTML = createProfileHeader(user);
                
                // –ó–∞–ø–æ–ª–Ω—è–µ–º –Ω–µ–¥–∞–≤–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–µ
                const recentlyWatchedContainer = document.getElementById('recentlyWatched');
                if (recentlyWatchedContainer) {
                    recentlyWatchedData.forEach(anime => {
                        recentlyWatchedContainer.innerHTML += createAnimeCard(anime, 'recent');
                    });
                }
                
                // –ó–∞–ø–æ–ª–Ω—è–µ–º "–ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä"
                const continueWatchingContainer = document.getElementById('continueWatching');
                if (continueWatchingContainer) {
                    continueWatchingData.forEach(anime => {
                        continueWatchingContainer.innerHTML += createAnimeCard(anime, 'continue');
                    });
                }
                
                // –ó–∞–ø–æ–ª–Ω—è–µ–º –ª—é–±–∏–º—ã–µ –∂–∞–Ω—Ä—ã
                const favoriteGenresContainer = document.getElementById('favoriteGenres');
                if (favoriteGenresContainer) {
                    favoriteGenres.forEach(genre => {
                        favoriteGenresContainer.innerHTML += `
                            <span class="genre-tag" style="background-color: ${genre.color}; color: ${genre.textColor};">
                                ${genre.name} (${genre.count})
                            </span>
                        `;
                    });
                }
                
                // –ó–∞–ø–æ–ª–Ω—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞ –º–µ—Å—è—Ü
                const monthlyStatsContainer = document.getElementById('monthlyStats');
                if (monthlyStatsContainer) {
                    monthlyStatsContainer.innerHTML = createMonthlyStats();
                }
                
                // –ó–∞–ø–æ–ª–Ω—è–µ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
                const achievementsContainer = document.getElementById('achievementsGrid');
                if (achievementsContainer) {
                    achievements.forEach(achievement => {
                        achievementsContainer.innerHTML += `
                            <div class="achievement-item ${achievement.unlocked ? '' : 'locked'}" 
                                 title="${achievement.desc}">
                                <div>${achievement.icon}</div>
                                <span>${achievement.title}</span>
                            </div>
                        `;
                    });
                }
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫
                const editProfileBtn = document.getElementById('editProfileBtn');
                if (editProfileBtn) {
                    editProfileBtn.addEventListener('click', function() {
                        window.YoukaiStudio?.showNotification('–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ', 'info');
                    });
                }
                
                const shareProfileBtn = document.getElementById('shareProfileBtn');
                if (shareProfileBtn) {
                    shareProfileBtn.addEventListener('click', function() {
                        const profileUrl = window.location.href;
                        if (navigator.share) {
                            navigator.share({
                                title: `–ü—Ä–æ—Ñ–∏–ª—å ${user.first_name} –Ω–∞ Youkai Studio`,
                                text: `–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å ${user.first_name} –Ω–∞ Youkai Studio`,
                                url: profileUrl
                            });
                        } else {
                            navigator.clipboard.writeText(profileUrl);
                            window.YoukaiStudio?.showNotification('–°—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞', 'success');
                        }
                    });
                }
                
                const openTelegramProfile = document.getElementById('openTelegramProfile');
                if (openTelegramProfile && user.username) {
                    openTelegramProfile.addEventListener('click', function(e) {
                        e.preventDefault();
                        window.YoukaiStudio?.openTelegramChat(user.id, user.username);
                    });
                }
            } else {
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
                profileHeader.innerHTML = `
                    <div style="text-align: center; width: 100%; padding: 40px 20px;">
                        <i class="fas fa-user-lock" style="font-size: 48px; color: var(--text-secondary); margin-bottom: 20px;"></i>
                        <h2 style="font-family: 'Poppins', sans-serif; margin-bottom: 15px;">–ü—Ä–æ—Ñ–∏–ª—å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω</h2>
                        <p style="color: var(--text-secondary); margin-bottom: 25px;">
                            –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ Telegram, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –≤–∞—à–µ–º—É –ø—Ä–æ—Ñ–∏–ª—é
                        </p>
                        <a href="#" id="telegramLoginBtnProfile" class="telegram-login" style="display: inline-flex;">
                            <i class="fab fa-telegram"></i> –í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Telegram
                        </a>
                    </div>
                `;
                
                // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ –≤—Ö–æ–¥–∞
                const telegramLoginBtnProfile = document.getElementById('telegramLoginBtnProfile');
                if (telegramLoginBtnProfile) {
                    telegramLoginBtnProfile.addEventListener('click', function(e) {
                        e.preventDefault();
                        const tgLoginBtn = document.getElementById('telegramLoginBtn');
                        if (tgLoginBtn) tgLoginBtn.click();
                    });
                }
            }
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∫–ª–∞–¥–æ–∫ –ø—Ä–æ—Ñ–∏–ª—è
            const profileTabs = document.querySelectorAll('.profile-tab');
            profileTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabName = this.dataset.tab;
                    switchTab(tabName);
                    
                    // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ –Ω–∞—á–∞–ª—É –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
                    if (window.YoukaiStudio?.isMobileDevice()) {
                        document.getElementById('tabContent').scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });
            
            // –ö–Ω–æ–ø–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
            const saveSettingsBtn = document.getElementById('saveSettingsBtn');
            if (saveSettingsBtn) {
                saveSettingsBtn.addEventListener('click', saveSettings);
            }
            
            // –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ —Ç–∞–±–æ–≤ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
            const tabScrollLeft = document.getElementById('tabScrollLeft');
            const tabScrollRight = document.getElementById('tabScrollRight');
            const tabsScroll = document.getElementById('profileTabs');
            
            if (tabScrollLeft && tabScrollRight && tabsScroll) {
                tabScrollLeft.addEventListener('click', () => {
                    tabsScroll.scrollBy({ left: -100, behavior: 'smooth' });
                });
                
                tabScrollRight.addEventListener('click', () => {
                    tabsScroll.scrollBy({ left: 100, behavior: 'smooth' });
                });
                
                // –°–∫—Ä—ã–≤–∞–µ–º/–ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
                const updateScrollButtons = () => {
                    const scrollLeft = tabsScroll.scrollLeft;
                    const scrollWidth = tabsScroll.scrollWidth;
                    const clientWidth = tabsScroll.clientWidth;
                    
                    tabScrollLeft.style.display = scrollLeft > 0 ? 'flex' : 'none';
                    tabScrollRight.style.display = scrollLeft < scrollWidth - clientWidth - 10 ? 'flex' : 'none';
                };
                
                tabsScroll.addEventListener('scroll', updateScrollButtons);
                window.addEventListener('resize', updateScrollButtons);
                updateScrollButtons();
            }
            
            // Telegram —Å—Å—ã–ª–∫–∞ –≤ —Ñ—É—Ç–µ—Ä–µ
            const telegramLink = document.getElementById('telegramLink');
            if (telegramLink) {
                telegramLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    const communityLink = 'https://t.me/youkaistudio_community';
                    const tg = window.YoukaiStudio?.getTelegramWebApp();
                    
                    if (tg && tg.openTelegramLink) {
                        tg.openTelegramLink(communityLink);
                    } else {
                        window.open(communityLink, '_blank');
                    }
                });
            }
        });

        // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ—Ñ–∏–ª—å –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        window.addEventListener('storage', function(e) {
            if (e.key === 'tg_user') {
                setTimeout(() => {
                    window.location.reload();
                }, 500);
            }
        });
    </script>
</body>
</html>
